{"version":3,"file":"livekit-client.esm.mjs","sources":["../node_modules/loglevel/lib/loglevel.js","../src/logger.ts","../node_modules/long/src/long.js","../node_modules/@protobufjs/aspromise/index.js","../node_modules/@protobufjs/base64/index.js","../node_modules/@protobufjs/eventemitter/index.js","../node_modules/@protobufjs/float/index.js","../node_modules/@protobufjs/inquire/index.js","../node_modules/@protobufjs/utf8/index.js","../node_modules/@protobufjs/pool/index.js","../node_modules/protobufjs/src/util/longbits.js","../node_modules/protobufjs/src/util/minimal.js","../node_modules/protobufjs/src/writer.js","../node_modules/protobufjs/src/writer_buffer.js","../node_modules/protobufjs/src/reader.js","../node_modules/protobufjs/src/reader_buffer.js","../node_modules/protobufjs/src/rpc/service.js","../node_modules/protobufjs/src/rpc.js","../node_modules/protobufjs/src/roots.js","../node_modules/protobufjs/src/index-minimal.js","../node_modules/protobufjs/minimal.js","../src/proto/google/protobuf/timestamp.ts","../src/proto/livekit_models.ts","../src/room/DefaultReconnectPolicy.ts","../node_modules/events/events.js","../node_modules/async-await-queue/index.es.js","../node_modules/webrtc-adapter/src/js/utils.js","../node_modules/webrtc-adapter/src/js/chrome/getusermedia.js","../node_modules/webrtc-adapter/src/js/chrome/getdisplaymedia.js","../node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js","../node_modules/webrtc-adapter/src/js/firefox/getusermedia.js","../node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js","../node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js","../node_modules/webrtc-adapter/src/js/safari/safari_shim.js","../node_modules/sdp/sdp.js","../node_modules/webrtc-adapter/src/js/common_shim.js","../node_modules/webrtc-adapter/src/js/adapter_factory.js","../node_modules/webrtc-adapter/src/js/adapter_core.js","../src/proto/livekit_rtc.ts","../src/room/errors.ts","../src/room/timers.ts","../node_modules/ua-parser-js/src/ua-parser.js","../src/version.ts","../src/room/track/utils.ts","../src/room/utils.ts","../src/api/SignalClient.ts","../src/room/DeviceManager.ts","../node_modules/sdp-transform/lib/grammar.js","../node_modules/sdp-transform/lib/parser.js","../node_modules/sdp-transform/lib/writer.js","../node_modules/sdp-transform/lib/index.js","../node_modules/ts-debounce/dist/src/index.esm.js","../src/room/PCTransport.ts","../src/room/RegionUrlProvider.ts","../src/room/track/options.ts","../src/room/defaults.ts","../src/room/events.ts","../src/room/track/Track.ts","../src/room/RTCEngine.ts","../src/room/stats.ts","../src/room/track/LocalTrack.ts","../src/room/track/LocalAudioTrack.ts","../src/room/track/LocalVideoTrack.ts","../src/room/track/RemoteTrack.ts","../src/room/track/RemoteAudioTrack.ts","../src/room/track/RemoteVideoTrack.ts","../src/room/track/TrackPublication.ts","../src/room/track/LocalTrackPublication.ts","../src/room/participant/Participant.ts","../src/room/participant/ParticipantTrackPermission.ts","../src/room/track/RemoteTrackPublication.ts","../src/room/participant/RemoteParticipant.ts","../src/room/participant/publishUtils.ts","../src/room/participant/LocalParticipant.ts","../src/room/Room.ts","../src/room/track/create.ts","../src/connectionHelper/checks/Checker.ts","../src/connectionHelper/checks/publishAudio.ts","../src/connectionHelper/checks/publishVideo.ts","../src/connectionHelper/checks/reconnect.ts","../src/connectionHelper/checks/turn.ts","../src/connectionHelper/checks/webrtc.ts","../src/connectionHelper/checks/websocket.ts","../src/connectionHelper/ConnectionCheck.ts"],"sourcesContent":["/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        define(definition);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n}(this, function () {\n    \"use strict\";\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = \"undefined\";\n    var isIE = (typeof window !== undefinedType) && (typeof window.navigator !== undefinedType) && (\n        /Trident\\/|MSIE /.test(window.navigator.userAgent)\n    );\n\n    var logMethods = [\n        \"trace\",\n        \"debug\",\n        \"info\",\n        \"warn\",\n        \"error\"\n    ];\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Trace() doesn't print the message in IE, so for that case we need to wrap it\n    function traceForIE() {\n        if (console.log) {\n            if (console.log.apply) {\n                console.log.apply(console, arguments);\n            } else {\n                // In old IE, native console methods themselves don't have apply().\n                Function.prototype.apply.apply(console.log, [console, arguments]);\n            }\n        }\n        if (console.trace) console.trace();\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === 'debug') {\n            methodName = 'log';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (methodName === 'trace' && isIE) {\n            return traceForIE;\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n    }\n\n    // In old IE versions, the console isn't present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n      defaultLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\n\n      var storageKey = \"loglevel\";\n      if (typeof name === \"string\") {\n        storageKey += \":\" + name;\n      } else if (typeof name === \"symbol\") {\n        storageKey = undefined;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + \"=\");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      function clearPersistedLevel() {\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage.removeItem(storageKey);\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC\";\n          } catch (ignore) {}\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n          \"ERROR\": 4, \"SILENT\": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return \"No console available for logging\";\n              }\n          } else {\n              throw \"log.setLevel() called with invalid level: \" + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          defaultLevel = level;\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.resetLevel = function () {\n          self.setLevel(defaultLevel, false);\n          clearPersistedLevel();\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if ((typeof name !== \"symbol\" && typeof name !== \"string\") || name === \"\") {\n          throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    // ES6 default export, for compatibility\n    defaultLogger['default'] = defaultLogger;\n\n    return defaultLogger;\n}));\n","import * as log from 'loglevel';\r\n\r\nexport enum LogLevel {\r\n  trace = 0,\r\n  debug = 1,\r\n  info = 2,\r\n  warn = 3,\r\n  error = 4,\r\n  silent = 5,\r\n}\r\n\r\ntype LogLevelString = keyof typeof LogLevel;\r\n\r\ntype StructuredLogger = {\r\n  trace: (msg: string, context?: object) => void;\r\n  debug: (msg: string, context?: object) => void;\r\n  info: (msg: string, context?: object) => void;\r\n  warn: (msg: string, context?: object) => void;\r\n  error: (msg: string, context?: object) => void;\r\n};\r\n\r\nconst livekitLogger = log.getLogger('livekit');\r\n\r\nlivekitLogger.setLevel(LogLevel.info);\r\n\r\nexport default livekitLogger as StructuredLogger;\r\n\r\nexport function setLogLevel(level: LogLevel | LogLevelString) {\r\n  livekitLogger.setLevel(level);\r\n}\r\n\r\nexport type LogExtension = (level: LogLevel, msg: string, context?: object) => void;\r\n\r\n/**\r\n * use this to hook into the logging function to allow sending internal livekit logs to third party services\r\n * if set, the browser logs will lose their stacktrace information (see https://github.com/pimterry/loglevel#writing-plugins)\r\n */\r\nexport function setLogExtension(extension: LogExtension) {\r\n  const originalFactory = livekitLogger.methodFactory;\r\n\r\n  livekitLogger.methodFactory = (methodName, logLevel, loggerName) => {\r\n    const rawMethod = originalFactory(methodName, logLevel, loggerName);\r\n\r\n    const configLevel = livekitLogger.getLevel();\r\n    const needLog = logLevel >= configLevel && logLevel < LogLevel.silent;\r\n\r\n    return (msg, context?: [msg: string, context: object]) => {\r\n      if (context) rawMethod(msg, context);\r\n      else rawMethod(msg);\r\n      if (needLog) {\r\n        extension(logLevel, msg, context);\r\n      }\r\n    };\r\n  };\r\n  livekitLogger.setLevel(livekitLogger.getLevel()); // Be sure to call setLevel method in order to apply plugin\r\n}\r\n","module.exports = Long;\r\n\r\n/**\r\n * wasm optimizations, to do native i64 multiplication and divide\r\n */\r\nvar wasm = null;\r\n\r\ntry {\r\n  wasm = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([\r\n    0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11\r\n  ])), {}).exports;\r\n} catch (e) {\r\n  // no wasm support :(\r\n}\r\n\r\n/**\r\n * Constructs a 64 bit two's-complement integer, given its low and high 32 bit values as *signed* integers.\r\n *  See the from* functions below for more convenient ways of constructing Longs.\r\n * @exports Long\r\n * @class A Long class for representing a 64 bit two's-complement integer value.\r\n * @param {number} low The low (signed) 32 bits of the long\r\n * @param {number} high The high (signed) 32 bits of the long\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @constructor\r\n */\r\nfunction Long(low, high, unsigned) {\r\n\r\n    /**\r\n     * The low 32 bits as a signed value.\r\n     * @type {number}\r\n     */\r\n    this.low = low | 0;\r\n\r\n    /**\r\n     * The high 32 bits as a signed value.\r\n     * @type {number}\r\n     */\r\n    this.high = high | 0;\r\n\r\n    /**\r\n     * Whether unsigned or not.\r\n     * @type {boolean}\r\n     */\r\n    this.unsigned = !!unsigned;\r\n}\r\n\r\n// The internal representation of a long is the two given signed, 32-bit values.\r\n// We use 32-bit pieces because these are the size of integers on which\r\n// Javascript performs bit-operations.  For operations like addition and\r\n// multiplication, we split each number into 16 bit pieces, which can easily be\r\n// multiplied within Javascript's floating-point representation without overflow\r\n// or change in sign.\r\n//\r\n// In the algorithms below, we frequently reduce the negative case to the\r\n// positive case by negating the input(s) and then post-processing the result.\r\n// Note that we must ALWAYS check specially whether those values are MIN_VALUE\r\n// (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\r\n// a positive number, it overflows back into a negative).  Not handling this\r\n// case would often result in infinite recursion.\r\n//\r\n// Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the from*\r\n// methods on which they depend.\r\n\r\n/**\r\n * An indicator used to reliably determine if an object is a Long or not.\r\n * @type {boolean}\r\n * @const\r\n * @private\r\n */\r\nLong.prototype.__isLong__;\r\n\r\nObject.defineProperty(Long.prototype, \"__isLong__\", { value: true });\r\n\r\n/**\r\n * @function\r\n * @param {*} obj Object\r\n * @returns {boolean}\r\n * @inner\r\n */\r\nfunction isLong(obj) {\r\n    return (obj && obj[\"__isLong__\"]) === true;\r\n}\r\n\r\n/**\r\n * Tests if the specified object is a Long.\r\n * @function\r\n * @param {*} obj Object\r\n * @returns {boolean}\r\n */\r\nLong.isLong = isLong;\r\n\r\n/**\r\n * A cache of the Long representations of small integer values.\r\n * @type {!Object}\r\n * @inner\r\n */\r\nvar INT_CACHE = {};\r\n\r\n/**\r\n * A cache of the Long representations of small unsigned integer values.\r\n * @type {!Object}\r\n * @inner\r\n */\r\nvar UINT_CACHE = {};\r\n\r\n/**\r\n * @param {number} value\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromInt(value, unsigned) {\r\n    var obj, cachedObj, cache;\r\n    if (unsigned) {\r\n        value >>>= 0;\r\n        if (cache = (0 <= value && value < 256)) {\r\n            cachedObj = UINT_CACHE[value];\r\n            if (cachedObj)\r\n                return cachedObj;\r\n        }\r\n        obj = fromBits(value, (value | 0) < 0 ? -1 : 0, true);\r\n        if (cache)\r\n            UINT_CACHE[value] = obj;\r\n        return obj;\r\n    } else {\r\n        value |= 0;\r\n        if (cache = (-128 <= value && value < 128)) {\r\n            cachedObj = INT_CACHE[value];\r\n            if (cachedObj)\r\n                return cachedObj;\r\n        }\r\n        obj = fromBits(value, value < 0 ? -1 : 0, false);\r\n        if (cache)\r\n            INT_CACHE[value] = obj;\r\n        return obj;\r\n    }\r\n}\r\n\r\n/**\r\n * Returns a Long representing the given 32 bit integer value.\r\n * @function\r\n * @param {number} value The 32 bit integer in question\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromInt = fromInt;\r\n\r\n/**\r\n * @param {number} value\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromNumber(value, unsigned) {\r\n    if (isNaN(value))\r\n        return unsigned ? UZERO : ZERO;\r\n    if (unsigned) {\r\n        if (value < 0)\r\n            return UZERO;\r\n        if (value >= TWO_PWR_64_DBL)\r\n            return MAX_UNSIGNED_VALUE;\r\n    } else {\r\n        if (value <= -TWO_PWR_63_DBL)\r\n            return MIN_VALUE;\r\n        if (value + 1 >= TWO_PWR_63_DBL)\r\n            return MAX_VALUE;\r\n    }\r\n    if (value < 0)\r\n        return fromNumber(-value, unsigned).neg();\r\n    return fromBits((value % TWO_PWR_32_DBL) | 0, (value / TWO_PWR_32_DBL) | 0, unsigned);\r\n}\r\n\r\n/**\r\n * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\r\n * @function\r\n * @param {number} value The number in question\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromNumber = fromNumber;\r\n\r\n/**\r\n * @param {number} lowBits\r\n * @param {number} highBits\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromBits(lowBits, highBits, unsigned) {\r\n    return new Long(lowBits, highBits, unsigned);\r\n}\r\n\r\n/**\r\n * Returns a Long representing the 64 bit integer that comes by concatenating the given low and high bits. Each is\r\n *  assumed to use 32 bits.\r\n * @function\r\n * @param {number} lowBits The low 32 bits\r\n * @param {number} highBits The high 32 bits\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromBits = fromBits;\r\n\r\n/**\r\n * @function\r\n * @param {number} base\r\n * @param {number} exponent\r\n * @returns {number}\r\n * @inner\r\n */\r\nvar pow_dbl = Math.pow; // Used 4 times (4*8 to 15+4)\r\n\r\n/**\r\n * @param {string} str\r\n * @param {(boolean|number)=} unsigned\r\n * @param {number=} radix\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromString(str, unsigned, radix) {\r\n    if (str.length === 0)\r\n        throw Error('empty string');\r\n    if (str === \"NaN\" || str === \"Infinity\" || str === \"+Infinity\" || str === \"-Infinity\")\r\n        return ZERO;\r\n    if (typeof unsigned === 'number') {\r\n        // For goog.math.long compatibility\r\n        radix = unsigned,\r\n        unsigned = false;\r\n    } else {\r\n        unsigned = !! unsigned;\r\n    }\r\n    radix = radix || 10;\r\n    if (radix < 2 || 36 < radix)\r\n        throw RangeError('radix');\r\n\r\n    var p;\r\n    if ((p = str.indexOf('-')) > 0)\r\n        throw Error('interior hyphen');\r\n    else if (p === 0) {\r\n        return fromString(str.substring(1), unsigned, radix).neg();\r\n    }\r\n\r\n    // Do several (8) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    var radixToPower = fromNumber(pow_dbl(radix, 8));\r\n\r\n    var result = ZERO;\r\n    for (var i = 0; i < str.length; i += 8) {\r\n        var size = Math.min(8, str.length - i),\r\n            value = parseInt(str.substring(i, i + size), radix);\r\n        if (size < 8) {\r\n            var power = fromNumber(pow_dbl(radix, size));\r\n            result = result.mul(power).add(fromNumber(value));\r\n        } else {\r\n            result = result.mul(radixToPower);\r\n            result = result.add(fromNumber(value));\r\n        }\r\n    }\r\n    result.unsigned = unsigned;\r\n    return result;\r\n}\r\n\r\n/**\r\n * Returns a Long representation of the given string, written using the specified radix.\r\n * @function\r\n * @param {string} str The textual representation of the Long\r\n * @param {(boolean|number)=} unsigned Whether unsigned or not, defaults to signed\r\n * @param {number=} radix The radix in which the text is written (2-36), defaults to 10\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromString = fromString;\r\n\r\n/**\r\n * @function\r\n * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromValue(val, unsigned) {\r\n    if (typeof val === 'number')\r\n        return fromNumber(val, unsigned);\r\n    if (typeof val === 'string')\r\n        return fromString(val, unsigned);\r\n    // Throws for non-objects, converts non-instanceof Long:\r\n    return fromBits(val.low, val.high, typeof unsigned === 'boolean' ? unsigned : val.unsigned);\r\n}\r\n\r\n/**\r\n * Converts the specified value to a Long using the appropriate from* function for its type.\r\n * @function\r\n * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val Value\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long}\r\n */\r\nLong.fromValue = fromValue;\r\n\r\n// NOTE: the compiler should inline these constant values below and then remove these variables, so there should be\r\n// no runtime penalty for these.\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_16_DBL = 1 << 16;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_24_DBL = 1 << 24;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;\r\n\r\n/**\r\n * @type {!Long}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar ZERO = fromInt(0);\r\n\r\n/**\r\n * Signed zero.\r\n * @type {!Long}\r\n */\r\nLong.ZERO = ZERO;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar UZERO = fromInt(0, true);\r\n\r\n/**\r\n * Unsigned zero.\r\n * @type {!Long}\r\n */\r\nLong.UZERO = UZERO;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar ONE = fromInt(1);\r\n\r\n/**\r\n * Signed one.\r\n * @type {!Long}\r\n */\r\nLong.ONE = ONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar UONE = fromInt(1, true);\r\n\r\n/**\r\n * Unsigned one.\r\n * @type {!Long}\r\n */\r\nLong.UONE = UONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar NEG_ONE = fromInt(-1);\r\n\r\n/**\r\n * Signed negative one.\r\n * @type {!Long}\r\n */\r\nLong.NEG_ONE = NEG_ONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MAX_VALUE = fromBits(0xFFFFFFFF|0, 0x7FFFFFFF|0, false);\r\n\r\n/**\r\n * Maximum signed value.\r\n * @type {!Long}\r\n */\r\nLong.MAX_VALUE = MAX_VALUE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MAX_UNSIGNED_VALUE = fromBits(0xFFFFFFFF|0, 0xFFFFFFFF|0, true);\r\n\r\n/**\r\n * Maximum unsigned value.\r\n * @type {!Long}\r\n */\r\nLong.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MIN_VALUE = fromBits(0, 0x80000000|0, false);\r\n\r\n/**\r\n * Minimum signed value.\r\n * @type {!Long}\r\n */\r\nLong.MIN_VALUE = MIN_VALUE;\r\n\r\n/**\r\n * @alias Long.prototype\r\n * @inner\r\n */\r\nvar LongPrototype = Long.prototype;\r\n\r\n/**\r\n * Converts the Long to a 32 bit integer, assuming it is a 32 bit integer.\r\n * @returns {number}\r\n */\r\nLongPrototype.toInt = function toInt() {\r\n    return this.unsigned ? this.low >>> 0 : this.low;\r\n};\r\n\r\n/**\r\n * Converts the Long to a the nearest floating-point representation of this value (double, 53 bit mantissa).\r\n * @returns {number}\r\n */\r\nLongPrototype.toNumber = function toNumber() {\r\n    if (this.unsigned)\r\n        return ((this.high >>> 0) * TWO_PWR_32_DBL) + (this.low >>> 0);\r\n    return this.high * TWO_PWR_32_DBL + (this.low >>> 0);\r\n};\r\n\r\n/**\r\n * Converts the Long to a string written in the specified radix.\r\n * @param {number=} radix Radix (2-36), defaults to 10\r\n * @returns {string}\r\n * @override\r\n * @throws {RangeError} If `radix` is out of range\r\n */\r\nLongPrototype.toString = function toString(radix) {\r\n    radix = radix || 10;\r\n    if (radix < 2 || 36 < radix)\r\n        throw RangeError('radix');\r\n    if (this.isZero())\r\n        return '0';\r\n    if (this.isNegative()) { // Unsigned Longs are never negative\r\n        if (this.eq(MIN_VALUE)) {\r\n            // We need to change the Long value before it can be negated, so we remove\r\n            // the bottom-most digit in this base and then recurse to do the rest.\r\n            var radixLong = fromNumber(radix),\r\n                div = this.div(radixLong),\r\n                rem1 = div.mul(radixLong).sub(this);\r\n            return div.toString(radix) + rem1.toInt().toString(radix);\r\n        } else\r\n            return '-' + this.neg().toString(radix);\r\n    }\r\n\r\n    // Do several (6) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned),\r\n        rem = this;\r\n    var result = '';\r\n    while (true) {\r\n        var remDiv = rem.div(radixToPower),\r\n            intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0,\r\n            digits = intval.toString(radix);\r\n        rem = remDiv;\r\n        if (rem.isZero())\r\n            return digits + result;\r\n        else {\r\n            while (digits.length < 6)\r\n                digits = '0' + digits;\r\n            result = '' + digits + result;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Gets the high 32 bits as a signed integer.\r\n * @returns {number} Signed high bits\r\n */\r\nLongPrototype.getHighBits = function getHighBits() {\r\n    return this.high;\r\n};\r\n\r\n/**\r\n * Gets the high 32 bits as an unsigned integer.\r\n * @returns {number} Unsigned high bits\r\n */\r\nLongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {\r\n    return this.high >>> 0;\r\n};\r\n\r\n/**\r\n * Gets the low 32 bits as a signed integer.\r\n * @returns {number} Signed low bits\r\n */\r\nLongPrototype.getLowBits = function getLowBits() {\r\n    return this.low;\r\n};\r\n\r\n/**\r\n * Gets the low 32 bits as an unsigned integer.\r\n * @returns {number} Unsigned low bits\r\n */\r\nLongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {\r\n    return this.low >>> 0;\r\n};\r\n\r\n/**\r\n * Gets the number of bits needed to represent the absolute value of this Long.\r\n * @returns {number}\r\n */\r\nLongPrototype.getNumBitsAbs = function getNumBitsAbs() {\r\n    if (this.isNegative()) // Unsigned Longs are never negative\r\n        return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();\r\n    var val = this.high != 0 ? this.high : this.low;\r\n    for (var bit = 31; bit > 0; bit--)\r\n        if ((val & (1 << bit)) != 0)\r\n            break;\r\n    return this.high != 0 ? bit + 33 : bit + 1;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals zero.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isZero = function isZero() {\r\n    return this.high === 0 && this.low === 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals zero. This is an alias of {@link Long#isZero}.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.eqz = LongPrototype.isZero;\r\n\r\n/**\r\n * Tests if this Long's value is negative.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isNegative = function isNegative() {\r\n    return !this.unsigned && this.high < 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is positive.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isPositive = function isPositive() {\r\n    return this.unsigned || this.high >= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is odd.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isOdd = function isOdd() {\r\n    return (this.low & 1) === 1;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is even.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isEven = function isEven() {\r\n    return (this.low & 1) === 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.equals = function equals(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    if (this.unsigned !== other.unsigned && (this.high >>> 31) === 1 && (other.high >>> 31) === 1)\r\n        return false;\r\n    return this.high === other.high && this.low === other.low;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals the specified's. This is an alias of {@link Long#equals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.eq = LongPrototype.equals;\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.notEquals = function notEquals(other) {\r\n    return !this.eq(/* validates */ other);\r\n};\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's. This is an alias of {@link Long#notEquals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.neq = LongPrototype.notEquals;\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's. This is an alias of {@link Long#notEquals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.ne = LongPrototype.notEquals;\r\n\r\n/**\r\n * Tests if this Long's value is less than the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lessThan = function lessThan(other) {\r\n    return this.comp(/* validates */ other) < 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is less than the specified's. This is an alias of {@link Long#lessThan}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lt = LongPrototype.lessThan;\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {\r\n    return this.comp(/* validates */ other) <= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's. This is an alias of {@link Long#lessThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lte = LongPrototype.lessThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's. This is an alias of {@link Long#lessThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.le = LongPrototype.lessThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is greater than the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.greaterThan = function greaterThan(other) {\r\n    return this.comp(/* validates */ other) > 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is greater than the specified's. This is an alias of {@link Long#greaterThan}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.gt = LongPrototype.greaterThan;\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {\r\n    return this.comp(/* validates */ other) >= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's. This is an alias of {@link Long#greaterThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.gte = LongPrototype.greaterThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's. This is an alias of {@link Long#greaterThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.ge = LongPrototype.greaterThanOrEqual;\r\n\r\n/**\r\n * Compares this Long's value with the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n *  if the given one is greater\r\n */\r\nLongPrototype.compare = function compare(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    if (this.eq(other))\r\n        return 0;\r\n    var thisNeg = this.isNegative(),\r\n        otherNeg = other.isNegative();\r\n    if (thisNeg && !otherNeg)\r\n        return -1;\r\n    if (!thisNeg && otherNeg)\r\n        return 1;\r\n    // At this point the sign bits are the same\r\n    if (!this.unsigned)\r\n        return this.sub(other).isNegative() ? -1 : 1;\r\n    // Both are positive if at least one is unsigned\r\n    return (other.high >>> 0) > (this.high >>> 0) || (other.high === this.high && (other.low >>> 0) > (this.low >>> 0)) ? -1 : 1;\r\n};\r\n\r\n/**\r\n * Compares this Long's value with the specified's. This is an alias of {@link Long#compare}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n *  if the given one is greater\r\n */\r\nLongPrototype.comp = LongPrototype.compare;\r\n\r\n/**\r\n * Negates this Long's value.\r\n * @returns {!Long} Negated Long\r\n */\r\nLongPrototype.negate = function negate() {\r\n    if (!this.unsigned && this.eq(MIN_VALUE))\r\n        return MIN_VALUE;\r\n    return this.not().add(ONE);\r\n};\r\n\r\n/**\r\n * Negates this Long's value. This is an alias of {@link Long#negate}.\r\n * @function\r\n * @returns {!Long} Negated Long\r\n */\r\nLongPrototype.neg = LongPrototype.negate;\r\n\r\n/**\r\n * Returns the sum of this and the specified Long.\r\n * @param {!Long|number|string} addend Addend\r\n * @returns {!Long} Sum\r\n */\r\nLongPrototype.add = function add(addend) {\r\n    if (!isLong(addend))\r\n        addend = fromValue(addend);\r\n\r\n    // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\r\n\r\n    var a48 = this.high >>> 16;\r\n    var a32 = this.high & 0xFFFF;\r\n    var a16 = this.low >>> 16;\r\n    var a00 = this.low & 0xFFFF;\r\n\r\n    var b48 = addend.high >>> 16;\r\n    var b32 = addend.high & 0xFFFF;\r\n    var b16 = addend.low >>> 16;\r\n    var b00 = addend.low & 0xFFFF;\r\n\r\n    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n    c00 += a00 + b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xFFFF;\r\n    c16 += a16 + b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c32 += a32 + b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c48 += a48 + b48;\r\n    c48 &= 0xFFFF;\r\n    return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the difference of this and the specified Long.\r\n * @param {!Long|number|string} subtrahend Subtrahend\r\n * @returns {!Long} Difference\r\n */\r\nLongPrototype.subtract = function subtract(subtrahend) {\r\n    if (!isLong(subtrahend))\r\n        subtrahend = fromValue(subtrahend);\r\n    return this.add(subtrahend.neg());\r\n};\r\n\r\n/**\r\n * Returns the difference of this and the specified Long. This is an alias of {@link Long#subtract}.\r\n * @function\r\n * @param {!Long|number|string} subtrahend Subtrahend\r\n * @returns {!Long} Difference\r\n */\r\nLongPrototype.sub = LongPrototype.subtract;\r\n\r\n/**\r\n * Returns the product of this and the specified Long.\r\n * @param {!Long|number|string} multiplier Multiplier\r\n * @returns {!Long} Product\r\n */\r\nLongPrototype.multiply = function multiply(multiplier) {\r\n    if (this.isZero())\r\n        return ZERO;\r\n    if (!isLong(multiplier))\r\n        multiplier = fromValue(multiplier);\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        var low = wasm.mul(this.low,\r\n                           this.high,\r\n                           multiplier.low,\r\n                           multiplier.high);\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (multiplier.isZero())\r\n        return ZERO;\r\n    if (this.eq(MIN_VALUE))\r\n        return multiplier.isOdd() ? MIN_VALUE : ZERO;\r\n    if (multiplier.eq(MIN_VALUE))\r\n        return this.isOdd() ? MIN_VALUE : ZERO;\r\n\r\n    if (this.isNegative()) {\r\n        if (multiplier.isNegative())\r\n            return this.neg().mul(multiplier.neg());\r\n        else\r\n            return this.neg().mul(multiplier).neg();\r\n    } else if (multiplier.isNegative())\r\n        return this.mul(multiplier.neg()).neg();\r\n\r\n    // If both longs are small, use float multiplication\r\n    if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))\r\n        return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);\r\n\r\n    // Divide each long into 4 chunks of 16 bits, and then add up 4x4 products.\r\n    // We can skip products that would overflow.\r\n\r\n    var a48 = this.high >>> 16;\r\n    var a32 = this.high & 0xFFFF;\r\n    var a16 = this.low >>> 16;\r\n    var a00 = this.low & 0xFFFF;\r\n\r\n    var b48 = multiplier.high >>> 16;\r\n    var b32 = multiplier.high & 0xFFFF;\r\n    var b16 = multiplier.low >>> 16;\r\n    var b00 = multiplier.low & 0xFFFF;\r\n\r\n    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n    c00 += a00 * b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xFFFF;\r\n    c16 += a16 * b00;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c16 += a00 * b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c32 += a32 * b00;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c32 += a16 * b16;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c32 += a00 * b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\r\n    c48 &= 0xFFFF;\r\n    return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the product of this and the specified Long. This is an alias of {@link Long#multiply}.\r\n * @function\r\n * @param {!Long|number|string} multiplier Multiplier\r\n * @returns {!Long} Product\r\n */\r\nLongPrototype.mul = LongPrototype.multiply;\r\n\r\n/**\r\n * Returns this Long divided by the specified. The result is signed if this Long is signed or\r\n *  unsigned if this Long is unsigned.\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Quotient\r\n */\r\nLongPrototype.divide = function divide(divisor) {\r\n    if (!isLong(divisor))\r\n        divisor = fromValue(divisor);\r\n    if (divisor.isZero())\r\n        throw Error('division by zero');\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        // guard against signed division overflow: the largest\r\n        // negative number / -1 would be 1 larger than the largest\r\n        // positive number, due to two's complement.\r\n        if (!this.unsigned &&\r\n            this.high === -0x80000000 &&\r\n            divisor.low === -1 && divisor.high === -1) {\r\n            // be consistent with non-wasm code path\r\n            return this;\r\n        }\r\n        var low = (this.unsigned ? wasm.div_u : wasm.div_s)(\r\n            this.low,\r\n            this.high,\r\n            divisor.low,\r\n            divisor.high\r\n        );\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (this.isZero())\r\n        return this.unsigned ? UZERO : ZERO;\r\n    var approx, rem, res;\r\n    if (!this.unsigned) {\r\n        // This section is only relevant for signed longs and is derived from the\r\n        // closure library as a whole.\r\n        if (this.eq(MIN_VALUE)) {\r\n            if (divisor.eq(ONE) || divisor.eq(NEG_ONE))\r\n                return MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE\r\n            else if (divisor.eq(MIN_VALUE))\r\n                return ONE;\r\n            else {\r\n                // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\r\n                var halfThis = this.shr(1);\r\n                approx = halfThis.div(divisor).shl(1);\r\n                if (approx.eq(ZERO)) {\r\n                    return divisor.isNegative() ? ONE : NEG_ONE;\r\n                } else {\r\n                    rem = this.sub(divisor.mul(approx));\r\n                    res = approx.add(rem.div(divisor));\r\n                    return res;\r\n                }\r\n            }\r\n        } else if (divisor.eq(MIN_VALUE))\r\n            return this.unsigned ? UZERO : ZERO;\r\n        if (this.isNegative()) {\r\n            if (divisor.isNegative())\r\n                return this.neg().div(divisor.neg());\r\n            return this.neg().div(divisor).neg();\r\n        } else if (divisor.isNegative())\r\n            return this.div(divisor.neg()).neg();\r\n        res = ZERO;\r\n    } else {\r\n        // The algorithm below has not been made for unsigned longs. It's therefore\r\n        // required to take special care of the MSB prior to running it.\r\n        if (!divisor.unsigned)\r\n            divisor = divisor.toUnsigned();\r\n        if (divisor.gt(this))\r\n            return UZERO;\r\n        if (divisor.gt(this.shru(1))) // 15 >>> 1 = 7 ; with divisor = 8 ; true\r\n            return UONE;\r\n        res = UZERO;\r\n    }\r\n\r\n    // Repeat the following until the remainder is less than other:  find a\r\n    // floating-point that approximates remainder / other *from below*, add this\r\n    // into the result, and subtract it from the remainder.  It is critical that\r\n    // the approximate value is less than or equal to the real value so that the\r\n    // remainder never becomes negative.\r\n    rem = this;\r\n    while (rem.gte(divisor)) {\r\n        // Approximate the result of division. This may be a little greater or\r\n        // smaller than the actual value.\r\n        approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));\r\n\r\n        // We will tweak the approximate result by changing it in the 48-th digit or\r\n        // the smallest non-fractional digit, whichever is larger.\r\n        var log2 = Math.ceil(Math.log(approx) / Math.LN2),\r\n            delta = (log2 <= 48) ? 1 : pow_dbl(2, log2 - 48),\r\n\r\n        // Decrease the approximation until it is smaller than the remainder.  Note\r\n        // that if it is too large, the product overflows and is negative.\r\n            approxRes = fromNumber(approx),\r\n            approxRem = approxRes.mul(divisor);\r\n        while (approxRem.isNegative() || approxRem.gt(rem)) {\r\n            approx -= delta;\r\n            approxRes = fromNumber(approx, this.unsigned);\r\n            approxRem = approxRes.mul(divisor);\r\n        }\r\n\r\n        // We know the answer can't be zero... and actually, zero would cause\r\n        // infinite recursion since we would make no progress.\r\n        if (approxRes.isZero())\r\n            approxRes = ONE;\r\n\r\n        res = res.add(approxRes);\r\n        rem = rem.sub(approxRem);\r\n    }\r\n    return res;\r\n};\r\n\r\n/**\r\n * Returns this Long divided by the specified. This is an alias of {@link Long#divide}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Quotient\r\n */\r\nLongPrototype.div = LongPrototype.divide;\r\n\r\n/**\r\n * Returns this Long modulo the specified.\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.modulo = function modulo(divisor) {\r\n    if (!isLong(divisor))\r\n        divisor = fromValue(divisor);\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        var low = (this.unsigned ? wasm.rem_u : wasm.rem_s)(\r\n            this.low,\r\n            this.high,\r\n            divisor.low,\r\n            divisor.high\r\n        );\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    return this.sub(this.div(divisor).mul(divisor));\r\n};\r\n\r\n/**\r\n * Returns this Long modulo the specified. This is an alias of {@link Long#modulo}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.mod = LongPrototype.modulo;\r\n\r\n/**\r\n * Returns this Long modulo the specified. This is an alias of {@link Long#modulo}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.rem = LongPrototype.modulo;\r\n\r\n/**\r\n * Returns the bitwise NOT of this Long.\r\n * @returns {!Long}\r\n */\r\nLongPrototype.not = function not() {\r\n    return fromBits(~this.low, ~this.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise AND of this Long and the specified.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.and = function and(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low & other.low, this.high & other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise OR of this Long and the specified.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.or = function or(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low | other.low, this.high | other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise XOR of this Long and the given one.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.xor = function xor(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits shifted to the left by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftLeft = function shiftLeft(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    if ((numBits &= 63) === 0)\r\n        return this;\r\n    else if (numBits < 32)\r\n        return fromBits(this.low << numBits, (this.high << numBits) | (this.low >>> (32 - numBits)), this.unsigned);\r\n    else\r\n        return fromBits(0, this.low << (numBits - 32), this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits shifted to the left by the given amount. This is an alias of {@link Long#shiftLeft}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shl = LongPrototype.shiftLeft;\r\n\r\n/**\r\n * Returns this Long with bits arithmetically shifted to the right by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftRight = function shiftRight(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    if ((numBits &= 63) === 0)\r\n        return this;\r\n    else if (numBits < 32)\r\n        return fromBits((this.low >>> numBits) | (this.high << (32 - numBits)), this.high >> numBits, this.unsigned);\r\n    else\r\n        return fromBits(this.high >> (numBits - 32), this.high >= 0 ? 0 : -1, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits arithmetically shifted to the right by the given amount. This is an alias of {@link Long#shiftRight}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shr = LongPrototype.shiftRight;\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    numBits &= 63;\r\n    if (numBits === 0)\r\n        return this;\r\n    else {\r\n        var high = this.high;\r\n        if (numBits < 32) {\r\n            var low = this.low;\r\n            return fromBits((low >>> numBits) | (high << (32 - numBits)), high >>> numBits, this.unsigned);\r\n        } else if (numBits === 32)\r\n            return fromBits(high, 0, this.unsigned);\r\n        else\r\n            return fromBits(high >>> (numBits - 32), 0, this.unsigned);\r\n    }\r\n};\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount. This is an alias of {@link Long#shiftRightUnsigned}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shru = LongPrototype.shiftRightUnsigned;\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount. This is an alias of {@link Long#shiftRightUnsigned}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shr_u = LongPrototype.shiftRightUnsigned;\r\n\r\n/**\r\n * Converts this Long to signed.\r\n * @returns {!Long} Signed long\r\n */\r\nLongPrototype.toSigned = function toSigned() {\r\n    if (!this.unsigned)\r\n        return this;\r\n    return fromBits(this.low, this.high, false);\r\n};\r\n\r\n/**\r\n * Converts this Long to unsigned.\r\n * @returns {!Long} Unsigned long\r\n */\r\nLongPrototype.toUnsigned = function toUnsigned() {\r\n    if (this.unsigned)\r\n        return this;\r\n    return fromBits(this.low, this.high, true);\r\n};\r\n\r\n/**\r\n * Converts this Long to its byte representation.\r\n * @param {boolean=} le Whether little or big endian, defaults to big endian\r\n * @returns {!Array.<number>} Byte representation\r\n */\r\nLongPrototype.toBytes = function toBytes(le) {\r\n    return le ? this.toBytesLE() : this.toBytesBE();\r\n};\r\n\r\n/**\r\n * Converts this Long to its little endian byte representation.\r\n * @returns {!Array.<number>} Little endian byte representation\r\n */\r\nLongPrototype.toBytesLE = function toBytesLE() {\r\n    var hi = this.high,\r\n        lo = this.low;\r\n    return [\r\n        lo        & 0xff,\r\n        lo >>>  8 & 0xff,\r\n        lo >>> 16 & 0xff,\r\n        lo >>> 24       ,\r\n        hi        & 0xff,\r\n        hi >>>  8 & 0xff,\r\n        hi >>> 16 & 0xff,\r\n        hi >>> 24\r\n    ];\r\n};\r\n\r\n/**\r\n * Converts this Long to its big endian byte representation.\r\n * @returns {!Array.<number>} Big endian byte representation\r\n */\r\nLongPrototype.toBytesBE = function toBytesBE() {\r\n    var hi = this.high,\r\n        lo = this.low;\r\n    return [\r\n        hi >>> 24       ,\r\n        hi >>> 16 & 0xff,\r\n        hi >>>  8 & 0xff,\r\n        hi        & 0xff,\r\n        lo >>> 24       ,\r\n        lo >>> 16 & 0xff,\r\n        lo >>>  8 & 0xff,\r\n        lo        & 0xff\r\n    ];\r\n};\r\n\r\n/**\r\n * Creates a Long from its byte representation.\r\n * @param {!Array.<number>} bytes Byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @param {boolean=} le Whether little or big endian, defaults to big endian\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytes = function fromBytes(bytes, unsigned, le) {\r\n    return le ? Long.fromBytesLE(bytes, unsigned) : Long.fromBytesBE(bytes, unsigned);\r\n};\r\n\r\n/**\r\n * Creates a Long from its little endian byte representation.\r\n * @param {!Array.<number>} bytes Little endian byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytesLE = function fromBytesLE(bytes, unsigned) {\r\n    return new Long(\r\n        bytes[0]       |\r\n        bytes[1] <<  8 |\r\n        bytes[2] << 16 |\r\n        bytes[3] << 24,\r\n        bytes[4]       |\r\n        bytes[5] <<  8 |\r\n        bytes[6] << 16 |\r\n        bytes[7] << 24,\r\n        unsigned\r\n    );\r\n};\r\n\r\n/**\r\n * Creates a Long from its big endian byte representation.\r\n * @param {!Array.<number>} bytes Big endian byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytesBE = function fromBytesBE(bytes, unsigned) {\r\n    return new Long(\r\n        bytes[4] << 24 |\r\n        bytes[5] << 16 |\r\n        bytes[6] <<  8 |\r\n        bytes[7],\r\n        bytes[0] << 24 |\r\n        bytes[1] << 16 |\r\n        bytes[2] <<  8 |\r\n        bytes[3],\r\n        unsigned\r\n    );\r\n};\r\n","\"use strict\";\r\nmodule.exports = asPromise;\r\n\r\n/**\r\n * Callback as used by {@link util.asPromise}.\r\n * @typedef asPromiseCallback\r\n * @type {function}\r\n * @param {Error|null} error Error, if any\r\n * @param {...*} params Additional arguments\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Returns a promise from a node-style callback function.\r\n * @memberof util\r\n * @param {asPromiseCallback} fn Function to call\r\n * @param {*} ctx Function context\r\n * @param {...*} params Function arguments\r\n * @returns {Promise<*>} Promisified function\r\n */\r\nfunction asPromise(fn, ctx/*, varargs */) {\r\n    var params  = new Array(arguments.length - 1),\r\n        offset  = 0,\r\n        index   = 2,\r\n        pending = true;\r\n    while (index < arguments.length)\r\n        params[offset++] = arguments[index++];\r\n    return new Promise(function executor(resolve, reject) {\r\n        params[offset] = function callback(err/*, varargs */) {\r\n            if (pending) {\r\n                pending = false;\r\n                if (err)\r\n                    reject(err);\r\n                else {\r\n                    var params = new Array(arguments.length - 1),\r\n                        offset = 0;\r\n                    while (offset < params.length)\r\n                        params[offset++] = arguments[offset];\r\n                    resolve.apply(null, params);\r\n                }\r\n            }\r\n        };\r\n        try {\r\n            fn.apply(ctx || null, params);\r\n        } catch (err) {\r\n            if (pending) {\r\n                pending = false;\r\n                reject(err);\r\n            }\r\n        }\r\n    });\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal base64 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar base64 = exports;\r\n\r\n/**\r\n * Calculates the byte length of a base64 encoded string.\r\n * @param {string} string Base64 encoded string\r\n * @returns {number} Byte length\r\n */\r\nbase64.length = function length(string) {\r\n    var p = string.length;\r\n    if (!p)\r\n        return 0;\r\n    var n = 0;\r\n    while (--p % 4 > 1 && string.charAt(p) === \"=\")\r\n        ++n;\r\n    return Math.ceil(string.length * 3) / 4 - n;\r\n};\r\n\r\n// Base64 encoding table\r\nvar b64 = new Array(64);\r\n\r\n// Base64 decoding table\r\nvar s64 = new Array(123);\r\n\r\n// 65..90, 97..122, 48..57, 43, 47\r\nfor (var i = 0; i < 64;)\r\n    s64[b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i - 59 | 43] = i++;\r\n\r\n/**\r\n * Encodes a buffer to a base64 encoded string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} Base64 encoded string\r\n */\r\nbase64.encode = function encode(buffer, start, end) {\r\n    var parts = null,\r\n        chunk = [];\r\n    var i = 0, // output index\r\n        j = 0, // goto index\r\n        t;     // temporary\r\n    while (start < end) {\r\n        var b = buffer[start++];\r\n        switch (j) {\r\n            case 0:\r\n                chunk[i++] = b64[b >> 2];\r\n                t = (b & 3) << 4;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                chunk[i++] = b64[t | b >> 4];\r\n                t = (b & 15) << 2;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                chunk[i++] = b64[t | b >> 6];\r\n                chunk[i++] = b64[b & 63];\r\n                j = 0;\r\n                break;\r\n        }\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (j) {\r\n        chunk[i++] = b64[t];\r\n        chunk[i++] = 61;\r\n        if (j === 1)\r\n            chunk[i++] = 61;\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\nvar invalidEncoding = \"invalid encoding\";\r\n\r\n/**\r\n * Decodes a base64 encoded string to a buffer.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Number of bytes written\r\n * @throws {Error} If encoding is invalid\r\n */\r\nbase64.decode = function decode(string, buffer, offset) {\r\n    var start = offset;\r\n    var j = 0, // goto index\r\n        t;     // temporary\r\n    for (var i = 0; i < string.length;) {\r\n        var c = string.charCodeAt(i++);\r\n        if (c === 61 && j > 1)\r\n            break;\r\n        if ((c = s64[c]) === undefined)\r\n            throw Error(invalidEncoding);\r\n        switch (j) {\r\n            case 0:\r\n                t = c;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                buffer[offset++] = t << 2 | (c & 48) >> 4;\r\n                t = c;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                buffer[offset++] = (t & 15) << 4 | (c & 60) >> 2;\r\n                t = c;\r\n                j = 3;\r\n                break;\r\n            case 3:\r\n                buffer[offset++] = (t & 3) << 6 | c;\r\n                j = 0;\r\n                break;\r\n        }\r\n    }\r\n    if (j === 1)\r\n        throw Error(invalidEncoding);\r\n    return offset - start;\r\n};\r\n\r\n/**\r\n * Tests if the specified string appears to be base64 encoded.\r\n * @param {string} string String to test\r\n * @returns {boolean} `true` if probably base64 encoded, otherwise false\r\n */\r\nbase64.test = function test(string) {\r\n    return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);\r\n};\r\n","\"use strict\";\r\nmodule.exports = EventEmitter;\r\n\r\n/**\r\n * Constructs a new event emitter instance.\r\n * @classdesc A minimal event emitter.\r\n * @memberof util\r\n * @constructor\r\n */\r\nfunction EventEmitter() {\r\n\r\n    /**\r\n     * Registered listeners.\r\n     * @type {Object.<string,*>}\r\n     * @private\r\n     */\r\n    this._listeners = {};\r\n}\r\n\r\n/**\r\n * Registers an event listener.\r\n * @param {string} evt Event name\r\n * @param {function} fn Listener\r\n * @param {*} [ctx] Listener context\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.on = function on(evt, fn, ctx) {\r\n    (this._listeners[evt] || (this._listeners[evt] = [])).push({\r\n        fn  : fn,\r\n        ctx : ctx || this\r\n    });\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes an event listener or any matching listeners if arguments are omitted.\r\n * @param {string} [evt] Event name. Removes all listeners if omitted.\r\n * @param {function} [fn] Listener to remove. Removes all listeners of `evt` if omitted.\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.off = function off(evt, fn) {\r\n    if (evt === undefined)\r\n        this._listeners = {};\r\n    else {\r\n        if (fn === undefined)\r\n            this._listeners[evt] = [];\r\n        else {\r\n            var listeners = this._listeners[evt];\r\n            for (var i = 0; i < listeners.length;)\r\n                if (listeners[i].fn === fn)\r\n                    listeners.splice(i, 1);\r\n                else\r\n                    ++i;\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Emits an event by calling its listeners with the specified arguments.\r\n * @param {string} evt Event name\r\n * @param {...*} args Arguments\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.emit = function emit(evt) {\r\n    var listeners = this._listeners[evt];\r\n    if (listeners) {\r\n        var args = [],\r\n            i = 1;\r\n        for (; i < arguments.length;)\r\n            args.push(arguments[i++]);\r\n        for (i = 0; i < listeners.length;)\r\n            listeners[i].fn.apply(listeners[i++].ctx, args);\r\n    }\r\n    return this;\r\n};\r\n","\"use strict\";\r\n\r\nmodule.exports = factory(factory);\r\n\r\n/**\r\n * Reads / writes floats / doubles from / to buffers.\r\n * @name util.float\r\n * @namespace\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using little endian byte order.\r\n * @name util.float.writeFloatLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using big endian byte order.\r\n * @name util.float.writeFloatBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using little endian byte order.\r\n * @name util.float.readFloatLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using big endian byte order.\r\n * @name util.float.readFloatBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using little endian byte order.\r\n * @name util.float.writeDoubleLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using big endian byte order.\r\n * @name util.float.writeDoubleBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using little endian byte order.\r\n * @name util.float.readDoubleLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using big endian byte order.\r\n * @name util.float.readDoubleBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n// Factory function for the purpose of node-based testing in modified global environments\r\nfunction factory(exports) {\r\n\r\n    // float: typed array\r\n    if (typeof Float32Array !== \"undefined\") (function() {\r\n\r\n        var f32 = new Float32Array([ -0 ]),\r\n            f8b = new Uint8Array(f32.buffer),\r\n            le  = f8b[3] === 128;\r\n\r\n        function writeFloat_f32_cpy(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n        }\r\n\r\n        function writeFloat_f32_rev(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[3];\r\n            buf[pos + 1] = f8b[2];\r\n            buf[pos + 2] = f8b[1];\r\n            buf[pos + 3] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;\r\n\r\n        function readFloat_f32_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        function readFloat_f32_rev(buf, pos) {\r\n            f8b[3] = buf[pos    ];\r\n            f8b[2] = buf[pos + 1];\r\n            f8b[1] = buf[pos + 2];\r\n            f8b[0] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;\r\n\r\n    // float: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeFloat_ieee754(writeUint, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0)\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos);\r\n            else if (isNaN(val))\r\n                writeUint(2143289344, buf, pos);\r\n            else if (val > 3.4028234663852886e+38) // +-Infinity\r\n                writeUint((sign << 31 | 2139095040) >>> 0, buf, pos);\r\n            else if (val < 1.1754943508222875e-38) // denormal\r\n                writeUint((sign << 31 | Math.round(val / 1.401298464324817e-45)) >>> 0, buf, pos);\r\n            else {\r\n                var exponent = Math.floor(Math.log(val) / Math.LN2),\r\n                    mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;\r\n                writeUint((sign << 31 | exponent + 127 << 23 | mantissa) >>> 0, buf, pos);\r\n            }\r\n        }\r\n\r\n        exports.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);\r\n        exports.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);\r\n\r\n        function readFloat_ieee754(readUint, buf, pos) {\r\n            var uint = readUint(buf, pos),\r\n                sign = (uint >> 31) * 2 + 1,\r\n                exponent = uint >>> 23 & 255,\r\n                mantissa = uint & 8388607;\r\n            return exponent === 255\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 1.401298464324817e-45 * mantissa\r\n                : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);\r\n        }\r\n\r\n        exports.readFloatLE = readFloat_ieee754.bind(null, readUintLE);\r\n        exports.readFloatBE = readFloat_ieee754.bind(null, readUintBE);\r\n\r\n    })();\r\n\r\n    // double: typed array\r\n    if (typeof Float64Array !== \"undefined\") (function() {\r\n\r\n        var f64 = new Float64Array([-0]),\r\n            f8b = new Uint8Array(f64.buffer),\r\n            le  = f8b[7] === 128;\r\n\r\n        function writeDouble_f64_cpy(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n            buf[pos + 4] = f8b[4];\r\n            buf[pos + 5] = f8b[5];\r\n            buf[pos + 6] = f8b[6];\r\n            buf[pos + 7] = f8b[7];\r\n        }\r\n\r\n        function writeDouble_f64_rev(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[7];\r\n            buf[pos + 1] = f8b[6];\r\n            buf[pos + 2] = f8b[5];\r\n            buf[pos + 3] = f8b[4];\r\n            buf[pos + 4] = f8b[3];\r\n            buf[pos + 5] = f8b[2];\r\n            buf[pos + 6] = f8b[1];\r\n            buf[pos + 7] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;\r\n\r\n        function readDouble_f64_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            f8b[4] = buf[pos + 4];\r\n            f8b[5] = buf[pos + 5];\r\n            f8b[6] = buf[pos + 6];\r\n            f8b[7] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        function readDouble_f64_rev(buf, pos) {\r\n            f8b[7] = buf[pos    ];\r\n            f8b[6] = buf[pos + 1];\r\n            f8b[5] = buf[pos + 2];\r\n            f8b[4] = buf[pos + 3];\r\n            f8b[3] = buf[pos + 4];\r\n            f8b[2] = buf[pos + 5];\r\n            f8b[1] = buf[pos + 6];\r\n            f8b[0] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;\r\n\r\n    // double: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos + off1);\r\n            } else if (isNaN(val)) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(2146959360, buf, pos + off1);\r\n            } else if (val > 1.7976931348623157e+308) { // +-Infinity\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint((sign << 31 | 2146435072) >>> 0, buf, pos + off1);\r\n            } else {\r\n                var mantissa;\r\n                if (val < 2.2250738585072014e-308) { // denormal\r\n                    mantissa = val / 5e-324;\r\n                    writeUint(mantissa >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | mantissa / 4294967296) >>> 0, buf, pos + off1);\r\n                } else {\r\n                    var exponent = Math.floor(Math.log(val) / Math.LN2);\r\n                    if (exponent === 1024)\r\n                        exponent = 1023;\r\n                    mantissa = val * Math.pow(2, -exponent);\r\n                    writeUint(mantissa * 4503599627370496 >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | exponent + 1023 << 20 | mantissa * 1048576 & 1048575) >>> 0, buf, pos + off1);\r\n                }\r\n            }\r\n        }\r\n\r\n        exports.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);\r\n        exports.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);\r\n\r\n        function readDouble_ieee754(readUint, off0, off1, buf, pos) {\r\n            var lo = readUint(buf, pos + off0),\r\n                hi = readUint(buf, pos + off1);\r\n            var sign = (hi >> 31) * 2 + 1,\r\n                exponent = hi >>> 20 & 2047,\r\n                mantissa = 4294967296 * (hi & 1048575) + lo;\r\n            return exponent === 2047\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 5e-324 * mantissa\r\n                : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);\r\n        }\r\n\r\n        exports.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);\r\n        exports.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);\r\n\r\n    })();\r\n\r\n    return exports;\r\n}\r\n\r\n// uint helpers\r\n\r\nfunction writeUintLE(val, buf, pos) {\r\n    buf[pos    ] =  val        & 255;\r\n    buf[pos + 1] =  val >>> 8  & 255;\r\n    buf[pos + 2] =  val >>> 16 & 255;\r\n    buf[pos + 3] =  val >>> 24;\r\n}\r\n\r\nfunction writeUintBE(val, buf, pos) {\r\n    buf[pos    ] =  val >>> 24;\r\n    buf[pos + 1] =  val >>> 16 & 255;\r\n    buf[pos + 2] =  val >>> 8  & 255;\r\n    buf[pos + 3] =  val        & 255;\r\n}\r\n\r\nfunction readUintLE(buf, pos) {\r\n    return (buf[pos    ]\r\n          | buf[pos + 1] << 8\r\n          | buf[pos + 2] << 16\r\n          | buf[pos + 3] << 24) >>> 0;\r\n}\r\n\r\nfunction readUintBE(buf, pos) {\r\n    return (buf[pos    ] << 24\r\n          | buf[pos + 1] << 16\r\n          | buf[pos + 2] << 8\r\n          | buf[pos + 3]) >>> 0;\r\n}\r\n","\"use strict\";\r\nmodule.exports = inquire;\r\n\r\n/**\r\n * Requires a module only if available.\r\n * @memberof util\r\n * @param {string} moduleName Module to require\r\n * @returns {?Object} Required module if available and not empty, otherwise `null`\r\n */\r\nfunction inquire(moduleName) {\r\n    try {\r\n        var mod = eval(\"quire\".replace(/^/,\"re\"))(moduleName); // eslint-disable-line no-eval\r\n        if (mod && (mod.length || Object.keys(mod).length))\r\n            return mod;\r\n    } catch (e) {} // eslint-disable-line no-empty\r\n    return null;\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal UTF8 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar utf8 = exports;\r\n\r\n/**\r\n * Calculates the UTF8 byte length of a string.\r\n * @param {string} string String\r\n * @returns {number} Byte length\r\n */\r\nutf8.length = function utf8_length(string) {\r\n    var len = 0,\r\n        c = 0;\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c = string.charCodeAt(i);\r\n        if (c < 128)\r\n            len += 1;\r\n        else if (c < 2048)\r\n            len += 2;\r\n        else if ((c & 0xFC00) === 0xD800 && (string.charCodeAt(i + 1) & 0xFC00) === 0xDC00) {\r\n            ++i;\r\n            len += 4;\r\n        } else\r\n            len += 3;\r\n    }\r\n    return len;\r\n};\r\n\r\n/**\r\n * Reads UTF8 bytes as a string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} String read\r\n */\r\nutf8.read = function utf8_read(buffer, start, end) {\r\n    var len = end - start;\r\n    if (len < 1)\r\n        return \"\";\r\n    var parts = null,\r\n        chunk = [],\r\n        i = 0, // char offset\r\n        t;     // temporary\r\n    while (start < end) {\r\n        t = buffer[start++];\r\n        if (t < 128)\r\n            chunk[i++] = t;\r\n        else if (t > 191 && t < 224)\r\n            chunk[i++] = (t & 31) << 6 | buffer[start++] & 63;\r\n        else if (t > 239 && t < 365) {\r\n            t = ((t & 7) << 18 | (buffer[start++] & 63) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63) - 0x10000;\r\n            chunk[i++] = 0xD800 + (t >> 10);\r\n            chunk[i++] = 0xDC00 + (t & 1023);\r\n        } else\r\n            chunk[i++] = (t & 15) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63;\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\n/**\r\n * Writes a string as UTF8 bytes.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Bytes written\r\n */\r\nutf8.write = function utf8_write(string, buffer, offset) {\r\n    var start = offset,\r\n        c1, // character 1\r\n        c2; // character 2\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c1 = string.charCodeAt(i);\r\n        if (c1 < 128) {\r\n            buffer[offset++] = c1;\r\n        } else if (c1 < 2048) {\r\n            buffer[offset++] = c1 >> 6       | 192;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else if ((c1 & 0xFC00) === 0xD800 && ((c2 = string.charCodeAt(i + 1)) & 0xFC00) === 0xDC00) {\r\n            c1 = 0x10000 + ((c1 & 0x03FF) << 10) + (c2 & 0x03FF);\r\n            ++i;\r\n            buffer[offset++] = c1 >> 18      | 240;\r\n            buffer[offset++] = c1 >> 12 & 63 | 128;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else {\r\n            buffer[offset++] = c1 >> 12      | 224;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        }\r\n    }\r\n    return offset - start;\r\n};\r\n","\"use strict\";\r\nmodule.exports = pool;\r\n\r\n/**\r\n * An allocator as used by {@link util.pool}.\r\n * @typedef PoolAllocator\r\n * @type {function}\r\n * @param {number} size Buffer size\r\n * @returns {Uint8Array} Buffer\r\n */\r\n\r\n/**\r\n * A slicer as used by {@link util.pool}.\r\n * @typedef PoolSlicer\r\n * @type {function}\r\n * @param {number} start Start offset\r\n * @param {number} end End offset\r\n * @returns {Uint8Array} Buffer slice\r\n * @this {Uint8Array}\r\n */\r\n\r\n/**\r\n * A general purpose buffer pool.\r\n * @memberof util\r\n * @function\r\n * @param {PoolAllocator} alloc Allocator\r\n * @param {PoolSlicer} slice Slicer\r\n * @param {number} [size=8192] Slab size\r\n * @returns {PoolAllocator} Pooled allocator\r\n */\r\nfunction pool(alloc, slice, size) {\r\n    var SIZE   = size || 8192;\r\n    var MAX    = SIZE >>> 1;\r\n    var slab   = null;\r\n    var offset = SIZE;\r\n    return function pool_alloc(size) {\r\n        if (size < 1 || size > MAX)\r\n            return alloc(size);\r\n        if (offset + size > SIZE) {\r\n            slab = alloc(SIZE);\r\n            offset = 0;\r\n        }\r\n        var buf = slice.call(slab, offset, offset += size);\r\n        if (offset & 7) // align to 32 bit\r\n            offset = (offset | 7) + 1;\r\n        return buf;\r\n    };\r\n}\r\n","\"use strict\";\nmodule.exports = LongBits;\n\nvar util = require(\"../util/minimal\");\n\n/**\n * Constructs new long bits.\n * @classdesc Helper class for working with the low and high bits of a 64 bit value.\n * @memberof util\n * @constructor\n * @param {number} lo Low 32 bits, unsigned\n * @param {number} hi High 32 bits, unsigned\n */\nfunction LongBits(lo, hi) {\n\n    // note that the casts below are theoretically unnecessary as of today, but older statically\n    // generated converter code might still call the ctor with signed 32bits. kept for compat.\n\n    /**\n     * Low bits.\n     * @type {number}\n     */\n    this.lo = lo >>> 0;\n\n    /**\n     * High bits.\n     * @type {number}\n     */\n    this.hi = hi >>> 0;\n}\n\n/**\n * Zero bits.\n * @memberof util.LongBits\n * @type {util.LongBits}\n */\nvar zero = LongBits.zero = new LongBits(0, 0);\n\nzero.toNumber = function() { return 0; };\nzero.zzEncode = zero.zzDecode = function() { return this; };\nzero.length = function() { return 1; };\n\n/**\n * Zero hash.\n * @memberof util.LongBits\n * @type {string}\n */\nvar zeroHash = LongBits.zeroHash = \"\\0\\0\\0\\0\\0\\0\\0\\0\";\n\n/**\n * Constructs new long bits from the specified number.\n * @param {number} value Value\n * @returns {util.LongBits} Instance\n */\nLongBits.fromNumber = function fromNumber(value) {\n    if (value === 0)\n        return zero;\n    var sign = value < 0;\n    if (sign)\n        value = -value;\n    var lo = value >>> 0,\n        hi = (value - lo) / 4294967296 >>> 0;\n    if (sign) {\n        hi = ~hi >>> 0;\n        lo = ~lo >>> 0;\n        if (++lo > 4294967295) {\n            lo = 0;\n            if (++hi > 4294967295)\n                hi = 0;\n        }\n    }\n    return new LongBits(lo, hi);\n};\n\n/**\n * Constructs new long bits from a number, long or string.\n * @param {Long|number|string} value Value\n * @returns {util.LongBits} Instance\n */\nLongBits.from = function from(value) {\n    if (typeof value === \"number\")\n        return LongBits.fromNumber(value);\n    if (util.isString(value)) {\n        /* istanbul ignore else */\n        if (util.Long)\n            value = util.Long.fromString(value);\n        else\n            return LongBits.fromNumber(parseInt(value, 10));\n    }\n    return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;\n};\n\n/**\n * Converts this long bits to a possibly unsafe JavaScript number.\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {number} Possibly unsafe number\n */\nLongBits.prototype.toNumber = function toNumber(unsigned) {\n    if (!unsigned && this.hi >>> 31) {\n        var lo = ~this.lo + 1 >>> 0,\n            hi = ~this.hi     >>> 0;\n        if (!lo)\n            hi = hi + 1 >>> 0;\n        return -(lo + hi * 4294967296);\n    }\n    return this.lo + this.hi * 4294967296;\n};\n\n/**\n * Converts this long bits to a long.\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {Long} Long\n */\nLongBits.prototype.toLong = function toLong(unsigned) {\n    return util.Long\n        ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned))\n        /* istanbul ignore next */\n        : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };\n};\n\nvar charCodeAt = String.prototype.charCodeAt;\n\n/**\n * Constructs new long bits from the specified 8 characters long hash.\n * @param {string} hash Hash\n * @returns {util.LongBits} Bits\n */\nLongBits.fromHash = function fromHash(hash) {\n    if (hash === zeroHash)\n        return zero;\n    return new LongBits(\n        ( charCodeAt.call(hash, 0)\n        | charCodeAt.call(hash, 1) << 8\n        | charCodeAt.call(hash, 2) << 16\n        | charCodeAt.call(hash, 3) << 24) >>> 0\n    ,\n        ( charCodeAt.call(hash, 4)\n        | charCodeAt.call(hash, 5) << 8\n        | charCodeAt.call(hash, 6) << 16\n        | charCodeAt.call(hash, 7) << 24) >>> 0\n    );\n};\n\n/**\n * Converts this long bits to a 8 characters long hash.\n * @returns {string} Hash\n */\nLongBits.prototype.toHash = function toHash() {\n    return String.fromCharCode(\n        this.lo        & 255,\n        this.lo >>> 8  & 255,\n        this.lo >>> 16 & 255,\n        this.lo >>> 24      ,\n        this.hi        & 255,\n        this.hi >>> 8  & 255,\n        this.hi >>> 16 & 255,\n        this.hi >>> 24\n    );\n};\n\n/**\n * Zig-zag encodes this long bits.\n * @returns {util.LongBits} `this`\n */\nLongBits.prototype.zzEncode = function zzEncode() {\n    var mask =   this.hi >> 31;\n    this.hi  = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;\n    this.lo  = ( this.lo << 1                   ^ mask) >>> 0;\n    return this;\n};\n\n/**\n * Zig-zag decodes this long bits.\n * @returns {util.LongBits} `this`\n */\nLongBits.prototype.zzDecode = function zzDecode() {\n    var mask = -(this.lo & 1);\n    this.lo  = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;\n    this.hi  = ( this.hi >>> 1                  ^ mask) >>> 0;\n    return this;\n};\n\n/**\n * Calculates the length of this longbits when encoded as a varint.\n * @returns {number} Length\n */\nLongBits.prototype.length = function length() {\n    var part0 =  this.lo,\n        part1 = (this.lo >>> 28 | this.hi << 4) >>> 0,\n        part2 =  this.hi >>> 24;\n    return part2 === 0\n         ? part1 === 0\n           ? part0 < 16384\n             ? part0 < 128 ? 1 : 2\n             : part0 < 2097152 ? 3 : 4\n           : part1 < 16384\n             ? part1 < 128 ? 5 : 6\n             : part1 < 2097152 ? 7 : 8\n         : part2 < 128 ? 9 : 10;\n};\n","\"use strict\";\nvar util = exports;\n\n// used to return a Promise where callback is omitted\nutil.asPromise = require(\"@protobufjs/aspromise\");\n\n// converts to / from base64 encoded strings\nutil.base64 = require(\"@protobufjs/base64\");\n\n// base class of rpc.Service\nutil.EventEmitter = require(\"@protobufjs/eventemitter\");\n\n// float handling accross browsers\nutil.float = require(\"@protobufjs/float\");\n\n// requires modules optionally and hides the call from bundlers\nutil.inquire = require(\"@protobufjs/inquire\");\n\n// converts to / from utf8 encoded strings\nutil.utf8 = require(\"@protobufjs/utf8\");\n\n// provides a node-like buffer pool in the browser\nutil.pool = require(\"@protobufjs/pool\");\n\n// utility to work with the low and high bits of a 64 bit value\nutil.LongBits = require(\"./longbits\");\n\n/**\n * Whether running within node or not.\n * @memberof util\n * @type {boolean}\n */\nutil.isNode = Boolean(typeof global !== \"undefined\"\n                   && global\n                   && global.process\n                   && global.process.versions\n                   && global.process.versions.node);\n\n/**\n * Global object reference.\n * @memberof util\n * @type {Object}\n */\nutil.global = util.isNode && global\n           || typeof window !== \"undefined\" && window\n           || typeof self   !== \"undefined\" && self\n           || this; // eslint-disable-line no-invalid-this\n\n/**\n * An immuable empty array.\n * @memberof util\n * @type {Array.<*>}\n * @const\n */\nutil.emptyArray = Object.freeze ? Object.freeze([]) : /* istanbul ignore next */ []; // used on prototypes\n\n/**\n * An immutable empty object.\n * @type {Object}\n * @const\n */\nutil.emptyObject = Object.freeze ? Object.freeze({}) : /* istanbul ignore next */ {}; // used on prototypes\n\n/**\n * Tests if the specified value is an integer.\n * @function\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is an integer\n */\nutil.isInteger = Number.isInteger || /* istanbul ignore next */ function isInteger(value) {\n    return typeof value === \"number\" && isFinite(value) && Math.floor(value) === value;\n};\n\n/**\n * Tests if the specified value is a string.\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is a string\n */\nutil.isString = function isString(value) {\n    return typeof value === \"string\" || value instanceof String;\n};\n\n/**\n * Tests if the specified value is a non-null object.\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is a non-null object\n */\nutil.isObject = function isObject(value) {\n    return value && typeof value === \"object\";\n};\n\n/**\n * Checks if a property on a message is considered to be present.\n * This is an alias of {@link util.isSet}.\n * @function\n * @param {Object} obj Plain object or message instance\n * @param {string} prop Property name\n * @returns {boolean} `true` if considered to be present, otherwise `false`\n */\nutil.isset =\n\n/**\n * Checks if a property on a message is considered to be present.\n * @param {Object} obj Plain object or message instance\n * @param {string} prop Property name\n * @returns {boolean} `true` if considered to be present, otherwise `false`\n */\nutil.isSet = function isSet(obj, prop) {\n    var value = obj[prop];\n    if (value != null && obj.hasOwnProperty(prop)) // eslint-disable-line eqeqeq, no-prototype-builtins\n        return typeof value !== \"object\" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;\n    return false;\n};\n\n/**\n * Any compatible Buffer instance.\n * This is a minimal stand-alone definition of a Buffer instance. The actual type is that exported by node's typings.\n * @interface Buffer\n * @extends Uint8Array\n */\n\n/**\n * Node's Buffer class if available.\n * @type {Constructor<Buffer>}\n */\nutil.Buffer = (function() {\n    try {\n        var Buffer = util.inquire(\"buffer\").Buffer;\n        // refuse to use non-node buffers if not explicitly assigned (perf reasons):\n        return Buffer.prototype.utf8Write ? Buffer : /* istanbul ignore next */ null;\n    } catch (e) {\n        /* istanbul ignore next */\n        return null;\n    }\n})();\n\n// Internal alias of or polyfull for Buffer.from.\nutil._Buffer_from = null;\n\n// Internal alias of or polyfill for Buffer.allocUnsafe.\nutil._Buffer_allocUnsafe = null;\n\n/**\n * Creates a new buffer of whatever type supported by the environment.\n * @param {number|number[]} [sizeOrArray=0] Buffer size or number array\n * @returns {Uint8Array|Buffer} Buffer\n */\nutil.newBuffer = function newBuffer(sizeOrArray) {\n    /* istanbul ignore next */\n    return typeof sizeOrArray === \"number\"\n        ? util.Buffer\n            ? util._Buffer_allocUnsafe(sizeOrArray)\n            : new util.Array(sizeOrArray)\n        : util.Buffer\n            ? util._Buffer_from(sizeOrArray)\n            : typeof Uint8Array === \"undefined\"\n                ? sizeOrArray\n                : new Uint8Array(sizeOrArray);\n};\n\n/**\n * Array implementation used in the browser. `Uint8Array` if supported, otherwise `Array`.\n * @type {Constructor<Uint8Array>}\n */\nutil.Array = typeof Uint8Array !== \"undefined\" ? Uint8Array /* istanbul ignore next */ : Array;\n\n/**\n * Any compatible Long instance.\n * This is a minimal stand-alone definition of a Long instance. The actual type is that exported by long.js.\n * @interface Long\n * @property {number} low Low bits\n * @property {number} high High bits\n * @property {boolean} unsigned Whether unsigned or not\n */\n\n/**\n * Long.js's Long class if available.\n * @type {Constructor<Long>}\n */\nutil.Long = /* istanbul ignore next */ util.global.dcodeIO && /* istanbul ignore next */ util.global.dcodeIO.Long\n         || /* istanbul ignore next */ util.global.Long\n         || util.inquire(\"long\");\n\n/**\n * Regular expression used to verify 2 bit (`bool`) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key2Re = /^true|false|0|1$/;\n\n/**\n * Regular expression used to verify 32 bit (`int32` etc.) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key32Re = /^-?(?:0|[1-9][0-9]*)$/;\n\n/**\n * Regular expression used to verify 64 bit (`int64` etc.) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key64Re = /^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;\n\n/**\n * Converts a number or long to an 8 characters long hash string.\n * @param {Long|number} value Value to convert\n * @returns {string} Hash\n */\nutil.longToHash = function longToHash(value) {\n    return value\n        ? util.LongBits.from(value).toHash()\n        : util.LongBits.zeroHash;\n};\n\n/**\n * Converts an 8 characters long hash string to a long or number.\n * @param {string} hash Hash\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {Long|number} Original value\n */\nutil.longFromHash = function longFromHash(hash, unsigned) {\n    var bits = util.LongBits.fromHash(hash);\n    if (util.Long)\n        return util.Long.fromBits(bits.lo, bits.hi, unsigned);\n    return bits.toNumber(Boolean(unsigned));\n};\n\n/**\n * Merges the properties of the source object into the destination object.\n * @memberof util\n * @param {Object.<string,*>} dst Destination object\n * @param {Object.<string,*>} src Source object\n * @param {boolean} [ifNotSet=false] Merges only if the key is not already set\n * @returns {Object.<string,*>} Destination object\n */\nfunction merge(dst, src, ifNotSet) { // used by converters\n    for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)\n        if (dst[keys[i]] === undefined || !ifNotSet)\n            dst[keys[i]] = src[keys[i]];\n    return dst;\n}\n\nutil.merge = merge;\n\n/**\n * Converts the first character of a string to lower case.\n * @param {string} str String to convert\n * @returns {string} Converted string\n */\nutil.lcFirst = function lcFirst(str) {\n    return str.charAt(0).toLowerCase() + str.substring(1);\n};\n\n/**\n * Creates a custom error constructor.\n * @memberof util\n * @param {string} name Error name\n * @returns {Constructor<Error>} Custom error constructor\n */\nfunction newError(name) {\n\n    function CustomError(message, properties) {\n\n        if (!(this instanceof CustomError))\n            return new CustomError(message, properties);\n\n        // Error.call(this, message);\n        // ^ just returns a new error instance because the ctor can be called as a function\n\n        Object.defineProperty(this, \"message\", { get: function() { return message; } });\n\n        /* istanbul ignore next */\n        if (Error.captureStackTrace) // node\n            Error.captureStackTrace(this, CustomError);\n        else\n            Object.defineProperty(this, \"stack\", { value: new Error().stack || \"\" });\n\n        if (properties)\n            merge(this, properties);\n    }\n\n    CustomError.prototype = Object.create(Error.prototype, {\n        constructor: {\n            value: CustomError,\n            writable: true,\n            enumerable: false,\n            configurable: true,\n        },\n        name: {\n            get: function get() { return name; },\n            set: undefined,\n            enumerable: false,\n            // configurable: false would accurately preserve the behavior of\n            // the original, but I'm guessing that was not intentional.\n            // For an actual error subclass, this property would\n            // be configurable.\n            configurable: true,\n        },\n        toString: {\n            value: function value() { return this.name + \": \" + this.message; },\n            writable: true,\n            enumerable: false,\n            configurable: true,\n        },\n    });\n\n    return CustomError;\n}\n\nutil.newError = newError;\n\n/**\n * Constructs a new protocol error.\n * @classdesc Error subclass indicating a protocol specifc error.\n * @memberof util\n * @extends Error\n * @template T extends Message<T>\n * @constructor\n * @param {string} message Error message\n * @param {Object.<string,*>} [properties] Additional properties\n * @example\n * try {\n *     MyMessage.decode(someBuffer); // throws if required fields are missing\n * } catch (e) {\n *     if (e instanceof ProtocolError && e.instance)\n *         console.log(\"decoded so far: \" + JSON.stringify(e.instance));\n * }\n */\nutil.ProtocolError = newError(\"ProtocolError\");\n\n/**\n * So far decoded message instance.\n * @name util.ProtocolError#instance\n * @type {Message<T>}\n */\n\n/**\n * A OneOf getter as returned by {@link util.oneOfGetter}.\n * @typedef OneOfGetter\n * @type {function}\n * @returns {string|undefined} Set field name, if any\n */\n\n/**\n * Builds a getter for a oneof's present field name.\n * @param {string[]} fieldNames Field names\n * @returns {OneOfGetter} Unbound getter\n */\nutil.oneOfGetter = function getOneOf(fieldNames) {\n    var fieldMap = {};\n    for (var i = 0; i < fieldNames.length; ++i)\n        fieldMap[fieldNames[i]] = 1;\n\n    /**\n     * @returns {string|undefined} Set field name, if any\n     * @this Object\n     * @ignore\n     */\n    return function() { // eslint-disable-line consistent-return\n        for (var keys = Object.keys(this), i = keys.length - 1; i > -1; --i)\n            if (fieldMap[keys[i]] === 1 && this[keys[i]] !== undefined && this[keys[i]] !== null)\n                return keys[i];\n    };\n};\n\n/**\n * A OneOf setter as returned by {@link util.oneOfSetter}.\n * @typedef OneOfSetter\n * @type {function}\n * @param {string|undefined} value Field name\n * @returns {undefined}\n */\n\n/**\n * Builds a setter for a oneof's present field name.\n * @param {string[]} fieldNames Field names\n * @returns {OneOfSetter} Unbound setter\n */\nutil.oneOfSetter = function setOneOf(fieldNames) {\n\n    /**\n     * @param {string} name Field name\n     * @returns {undefined}\n     * @this Object\n     * @ignore\n     */\n    return function(name) {\n        for (var i = 0; i < fieldNames.length; ++i)\n            if (fieldNames[i] !== name)\n                delete this[fieldNames[i]];\n    };\n};\n\n/**\n * Default conversion options used for {@link Message#toJSON} implementations.\n *\n * These options are close to proto3's JSON mapping with the exception that internal types like Any are handled just like messages. More precisely:\n *\n * - Longs become strings\n * - Enums become string keys\n * - Bytes become base64 encoded strings\n * - (Sub-)Messages become plain objects\n * - Maps become plain objects with all string keys\n * - Repeated fields become arrays\n * - NaN and Infinity for float and double fields become strings\n *\n * @type {IConversionOptions}\n * @see https://developers.google.com/protocol-buffers/docs/proto3?hl=en#json\n */\nutil.toJSONOptions = {\n    longs: String,\n    enums: String,\n    bytes: String,\n    json: true\n};\n\n// Sets up buffer utility according to the environment (called in index-minimal)\nutil._configure = function() {\n    var Buffer = util.Buffer;\n    /* istanbul ignore if */\n    if (!Buffer) {\n        util._Buffer_from = util._Buffer_allocUnsafe = null;\n        return;\n    }\n    // because node 4.x buffers are incompatible & immutable\n    // see: https://github.com/dcodeIO/protobuf.js/pull/665\n    util._Buffer_from = Buffer.from !== Uint8Array.from && Buffer.from ||\n        /* istanbul ignore next */\n        function Buffer_from(value, encoding) {\n            return new Buffer(value, encoding);\n        };\n    util._Buffer_allocUnsafe = Buffer.allocUnsafe ||\n        /* istanbul ignore next */\n        function Buffer_allocUnsafe(size) {\n            return new Buffer(size);\n        };\n};\n","\"use strict\";\nmodule.exports = Writer;\n\nvar util      = require(\"./util/minimal\");\n\nvar BufferWriter; // cyclic\n\nvar LongBits  = util.LongBits,\n    base64    = util.base64,\n    utf8      = util.utf8;\n\n/**\n * Constructs a new writer operation instance.\n * @classdesc Scheduled writer operation.\n * @constructor\n * @param {function(*, Uint8Array, number)} fn Function to call\n * @param {number} len Value byte length\n * @param {*} val Value to write\n * @ignore\n */\nfunction Op(fn, len, val) {\n\n    /**\n     * Function to call.\n     * @type {function(Uint8Array, number, *)}\n     */\n    this.fn = fn;\n\n    /**\n     * Value byte length.\n     * @type {number}\n     */\n    this.len = len;\n\n    /**\n     * Next operation.\n     * @type {Writer.Op|undefined}\n     */\n    this.next = undefined;\n\n    /**\n     * Value to write.\n     * @type {*}\n     */\n    this.val = val; // type varies\n}\n\n/* istanbul ignore next */\nfunction noop() {} // eslint-disable-line no-empty-function\n\n/**\n * Constructs a new writer state instance.\n * @classdesc Copied writer state.\n * @memberof Writer\n * @constructor\n * @param {Writer} writer Writer to copy state from\n * @ignore\n */\nfunction State(writer) {\n\n    /**\n     * Current head.\n     * @type {Writer.Op}\n     */\n    this.head = writer.head;\n\n    /**\n     * Current tail.\n     * @type {Writer.Op}\n     */\n    this.tail = writer.tail;\n\n    /**\n     * Current buffer length.\n     * @type {number}\n     */\n    this.len = writer.len;\n\n    /**\n     * Next state.\n     * @type {State|null}\n     */\n    this.next = writer.states;\n}\n\n/**\n * Constructs a new writer instance.\n * @classdesc Wire format writer using `Uint8Array` if available, otherwise `Array`.\n * @constructor\n */\nfunction Writer() {\n\n    /**\n     * Current length.\n     * @type {number}\n     */\n    this.len = 0;\n\n    /**\n     * Operations head.\n     * @type {Object}\n     */\n    this.head = new Op(noop, 0, 0);\n\n    /**\n     * Operations tail\n     * @type {Object}\n     */\n    this.tail = this.head;\n\n    /**\n     * Linked forked states.\n     * @type {Object|null}\n     */\n    this.states = null;\n\n    // When a value is written, the writer calculates its byte length and puts it into a linked\n    // list of operations to perform when finish() is called. This both allows us to allocate\n    // buffers of the exact required size and reduces the amount of work we have to do compared\n    // to first calculating over objects and then encoding over objects. In our case, the encoding\n    // part is just a linked list walk calling operations with already prepared values.\n}\n\nvar create = function create() {\n    return util.Buffer\n        ? function create_buffer_setup() {\n            return (Writer.create = function create_buffer() {\n                return new BufferWriter();\n            })();\n        }\n        /* istanbul ignore next */\n        : function create_array() {\n            return new Writer();\n        };\n};\n\n/**\n * Creates a new writer.\n * @function\n * @returns {BufferWriter|Writer} A {@link BufferWriter} when Buffers are supported, otherwise a {@link Writer}\n */\nWriter.create = create();\n\n/**\n * Allocates a buffer of the specified size.\n * @param {number} size Buffer size\n * @returns {Uint8Array} Buffer\n */\nWriter.alloc = function alloc(size) {\n    return new util.Array(size);\n};\n\n// Use Uint8Array buffer pool in the browser, just like node does with buffers\n/* istanbul ignore else */\nif (util.Array !== Array)\n    Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);\n\n/**\n * Pushes a new operation to the queue.\n * @param {function(Uint8Array, number, *)} fn Function to call\n * @param {number} len Value byte length\n * @param {number} val Value to write\n * @returns {Writer} `this`\n * @private\n */\nWriter.prototype._push = function push(fn, len, val) {\n    this.tail = this.tail.next = new Op(fn, len, val);\n    this.len += len;\n    return this;\n};\n\nfunction writeByte(val, buf, pos) {\n    buf[pos] = val & 255;\n}\n\nfunction writeVarint32(val, buf, pos) {\n    while (val > 127) {\n        buf[pos++] = val & 127 | 128;\n        val >>>= 7;\n    }\n    buf[pos] = val;\n}\n\n/**\n * Constructs a new varint writer operation instance.\n * @classdesc Scheduled varint writer operation.\n * @extends Op\n * @constructor\n * @param {number} len Value byte length\n * @param {number} val Value to write\n * @ignore\n */\nfunction VarintOp(len, val) {\n    this.len = len;\n    this.next = undefined;\n    this.val = val;\n}\n\nVarintOp.prototype = Object.create(Op.prototype);\nVarintOp.prototype.fn = writeVarint32;\n\n/**\n * Writes an unsigned 32 bit value as a varint.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.uint32 = function write_uint32(value) {\n    // here, the call to this.push has been inlined and a varint specific Op subclass is used.\n    // uint32 is by far the most frequently used operation and benefits significantly from this.\n    this.len += (this.tail = this.tail.next = new VarintOp(\n        (value = value >>> 0)\n                < 128       ? 1\n        : value < 16384     ? 2\n        : value < 2097152   ? 3\n        : value < 268435456 ? 4\n        :                     5,\n    value)).len;\n    return this;\n};\n\n/**\n * Writes a signed 32 bit value as a varint.\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.int32 = function write_int32(value) {\n    return value < 0\n        ? this._push(writeVarint64, 10, LongBits.fromNumber(value)) // 10 bytes per spec\n        : this.uint32(value);\n};\n\n/**\n * Writes a 32 bit value as a varint, zig-zag encoded.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.sint32 = function write_sint32(value) {\n    return this.uint32((value << 1 ^ value >> 31) >>> 0);\n};\n\nfunction writeVarint64(val, buf, pos) {\n    while (val.hi) {\n        buf[pos++] = val.lo & 127 | 128;\n        val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;\n        val.hi >>>= 7;\n    }\n    while (val.lo > 127) {\n        buf[pos++] = val.lo & 127 | 128;\n        val.lo = val.lo >>> 7;\n    }\n    buf[pos++] = val.lo;\n}\n\n/**\n * Writes an unsigned 64 bit value as a varint.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.uint64 = function write_uint64(value) {\n    var bits = LongBits.from(value);\n    return this._push(writeVarint64, bits.length(), bits);\n};\n\n/**\n * Writes a signed 64 bit value as a varint.\n * @function\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.int64 = Writer.prototype.uint64;\n\n/**\n * Writes a signed 64 bit value as a varint, zig-zag encoded.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.sint64 = function write_sint64(value) {\n    var bits = LongBits.from(value).zzEncode();\n    return this._push(writeVarint64, bits.length(), bits);\n};\n\n/**\n * Writes a boolish value as a varint.\n * @param {boolean} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.bool = function write_bool(value) {\n    return this._push(writeByte, 1, value ? 1 : 0);\n};\n\nfunction writeFixed32(val, buf, pos) {\n    buf[pos    ] =  val         & 255;\n    buf[pos + 1] =  val >>> 8   & 255;\n    buf[pos + 2] =  val >>> 16  & 255;\n    buf[pos + 3] =  val >>> 24;\n}\n\n/**\n * Writes an unsigned 32 bit value as fixed 32 bits.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.fixed32 = function write_fixed32(value) {\n    return this._push(writeFixed32, 4, value >>> 0);\n};\n\n/**\n * Writes a signed 32 bit value as fixed 32 bits.\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.sfixed32 = Writer.prototype.fixed32;\n\n/**\n * Writes an unsigned 64 bit value as fixed 64 bits.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.fixed64 = function write_fixed64(value) {\n    var bits = LongBits.from(value);\n    return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);\n};\n\n/**\n * Writes a signed 64 bit value as fixed 64 bits.\n * @function\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.sfixed64 = Writer.prototype.fixed64;\n\n/**\n * Writes a float (32 bit).\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.float = function write_float(value) {\n    return this._push(util.float.writeFloatLE, 4, value);\n};\n\n/**\n * Writes a double (64 bit float).\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.double = function write_double(value) {\n    return this._push(util.float.writeDoubleLE, 8, value);\n};\n\nvar writeBytes = util.Array.prototype.set\n    ? function writeBytes_set(val, buf, pos) {\n        buf.set(val, pos); // also works for plain array values\n    }\n    /* istanbul ignore next */\n    : function writeBytes_for(val, buf, pos) {\n        for (var i = 0; i < val.length; ++i)\n            buf[pos + i] = val[i];\n    };\n\n/**\n * Writes a sequence of bytes.\n * @param {Uint8Array|string} value Buffer or base64 encoded string to write\n * @returns {Writer} `this`\n */\nWriter.prototype.bytes = function write_bytes(value) {\n    var len = value.length >>> 0;\n    if (!len)\n        return this._push(writeByte, 1, 0);\n    if (util.isString(value)) {\n        var buf = Writer.alloc(len = base64.length(value));\n        base64.decode(value, buf, 0);\n        value = buf;\n    }\n    return this.uint32(len)._push(writeBytes, len, value);\n};\n\n/**\n * Writes a string.\n * @param {string} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.string = function write_string(value) {\n    var len = utf8.length(value);\n    return len\n        ? this.uint32(len)._push(utf8.write, len, value)\n        : this._push(writeByte, 1, 0);\n};\n\n/**\n * Forks this writer's state by pushing it to a stack.\n * Calling {@link Writer#reset|reset} or {@link Writer#ldelim|ldelim} resets the writer to the previous state.\n * @returns {Writer} `this`\n */\nWriter.prototype.fork = function fork() {\n    this.states = new State(this);\n    this.head = this.tail = new Op(noop, 0, 0);\n    this.len = 0;\n    return this;\n};\n\n/**\n * Resets this instance to the last state.\n * @returns {Writer} `this`\n */\nWriter.prototype.reset = function reset() {\n    if (this.states) {\n        this.head   = this.states.head;\n        this.tail   = this.states.tail;\n        this.len    = this.states.len;\n        this.states = this.states.next;\n    } else {\n        this.head = this.tail = new Op(noop, 0, 0);\n        this.len  = 0;\n    }\n    return this;\n};\n\n/**\n * Resets to the last state and appends the fork state's current write length as a varint followed by its operations.\n * @returns {Writer} `this`\n */\nWriter.prototype.ldelim = function ldelim() {\n    var head = this.head,\n        tail = this.tail,\n        len  = this.len;\n    this.reset().uint32(len);\n    if (len) {\n        this.tail.next = head.next; // skip noop\n        this.tail = tail;\n        this.len += len;\n    }\n    return this;\n};\n\n/**\n * Finishes the write operation.\n * @returns {Uint8Array} Finished buffer\n */\nWriter.prototype.finish = function finish() {\n    var head = this.head.next, // skip noop\n        buf  = this.constructor.alloc(this.len),\n        pos  = 0;\n    while (head) {\n        head.fn(head.val, buf, pos);\n        pos += head.len;\n        head = head.next;\n    }\n    // this.head = this.tail = null;\n    return buf;\n};\n\nWriter._configure = function(BufferWriter_) {\n    BufferWriter = BufferWriter_;\n    Writer.create = create();\n    BufferWriter._configure();\n};\n","\"use strict\";\nmodule.exports = BufferWriter;\n\n// extends Writer\nvar Writer = require(\"./writer\");\n(BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;\n\nvar util = require(\"./util/minimal\");\n\n/**\n * Constructs a new buffer writer instance.\n * @classdesc Wire format writer using node buffers.\n * @extends Writer\n * @constructor\n */\nfunction BufferWriter() {\n    Writer.call(this);\n}\n\nBufferWriter._configure = function () {\n    /**\n     * Allocates a buffer of the specified size.\n     * @function\n     * @param {number} size Buffer size\n     * @returns {Buffer} Buffer\n     */\n    BufferWriter.alloc = util._Buffer_allocUnsafe;\n\n    BufferWriter.writeBytesBuffer = util.Buffer && util.Buffer.prototype instanceof Uint8Array && util.Buffer.prototype.set.name === \"set\"\n        ? function writeBytesBuffer_set(val, buf, pos) {\n          buf.set(val, pos); // faster than copy (requires node >= 4 where Buffers extend Uint8Array and set is properly inherited)\n          // also works for plain array values\n        }\n        /* istanbul ignore next */\n        : function writeBytesBuffer_copy(val, buf, pos) {\n          if (val.copy) // Buffer values\n            val.copy(buf, pos, 0, val.length);\n          else for (var i = 0; i < val.length;) // plain array values\n            buf[pos++] = val[i++];\n        };\n};\n\n\n/**\n * @override\n */\nBufferWriter.prototype.bytes = function write_bytes_buffer(value) {\n    if (util.isString(value))\n        value = util._Buffer_from(value, \"base64\");\n    var len = value.length >>> 0;\n    this.uint32(len);\n    if (len)\n        this._push(BufferWriter.writeBytesBuffer, len, value);\n    return this;\n};\n\nfunction writeStringBuffer(val, buf, pos) {\n    if (val.length < 40) // plain js is faster for short strings (probably due to redundant assertions)\n        util.utf8.write(val, buf, pos);\n    else if (buf.utf8Write)\n        buf.utf8Write(val, pos);\n    else\n        buf.write(val, pos);\n}\n\n/**\n * @override\n */\nBufferWriter.prototype.string = function write_string_buffer(value) {\n    var len = util.Buffer.byteLength(value);\n    this.uint32(len);\n    if (len)\n        this._push(writeStringBuffer, len, value);\n    return this;\n};\n\n\n/**\n * Finishes the write operation.\n * @name BufferWriter#finish\n * @function\n * @returns {Buffer} Finished buffer\n */\n\nBufferWriter._configure();\n","\"use strict\";\nmodule.exports = Reader;\n\nvar util      = require(\"./util/minimal\");\n\nvar BufferReader; // cyclic\n\nvar LongBits  = util.LongBits,\n    utf8      = util.utf8;\n\n/* istanbul ignore next */\nfunction indexOutOfRange(reader, writeLength) {\n    return RangeError(\"index out of range: \" + reader.pos + \" + \" + (writeLength || 1) + \" > \" + reader.len);\n}\n\n/**\n * Constructs a new reader instance using the specified buffer.\n * @classdesc Wire format reader using `Uint8Array` if available, otherwise `Array`.\n * @constructor\n * @param {Uint8Array} buffer Buffer to read from\n */\nfunction Reader(buffer) {\n\n    /**\n     * Read buffer.\n     * @type {Uint8Array}\n     */\n    this.buf = buffer;\n\n    /**\n     * Read buffer position.\n     * @type {number}\n     */\n    this.pos = 0;\n\n    /**\n     * Read buffer length.\n     * @type {number}\n     */\n    this.len = buffer.length;\n}\n\nvar create_array = typeof Uint8Array !== \"undefined\"\n    ? function create_typed_array(buffer) {\n        if (buffer instanceof Uint8Array || Array.isArray(buffer))\n            return new Reader(buffer);\n        throw Error(\"illegal buffer\");\n    }\n    /* istanbul ignore next */\n    : function create_array(buffer) {\n        if (Array.isArray(buffer))\n            return new Reader(buffer);\n        throw Error(\"illegal buffer\");\n    };\n\nvar create = function create() {\n    return util.Buffer\n        ? function create_buffer_setup(buffer) {\n            return (Reader.create = function create_buffer(buffer) {\n                return util.Buffer.isBuffer(buffer)\n                    ? new BufferReader(buffer)\n                    /* istanbul ignore next */\n                    : create_array(buffer);\n            })(buffer);\n        }\n        /* istanbul ignore next */\n        : create_array;\n};\n\n/**\n * Creates a new reader using the specified buffer.\n * @function\n * @param {Uint8Array|Buffer} buffer Buffer to read from\n * @returns {Reader|BufferReader} A {@link BufferReader} if `buffer` is a Buffer, otherwise a {@link Reader}\n * @throws {Error} If `buffer` is not a valid buffer\n */\nReader.create = create();\n\nReader.prototype._slice = util.Array.prototype.subarray || /* istanbul ignore next */ util.Array.prototype.slice;\n\n/**\n * Reads a varint as an unsigned 32 bit value.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.uint32 = (function read_uint32_setup() {\n    var value = 4294967295; // optimizer type-hint, tends to deopt otherwise (?!)\n    return function read_uint32() {\n        value = (         this.buf[this.pos] & 127       ) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) <<  7) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) << 14) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) << 21) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] &  15) << 28) >>> 0; if (this.buf[this.pos++] < 128) return value;\n\n        /* istanbul ignore if */\n        if ((this.pos += 5) > this.len) {\n            this.pos = this.len;\n            throw indexOutOfRange(this, 10);\n        }\n        return value;\n    };\n})();\n\n/**\n * Reads a varint as a signed 32 bit value.\n * @returns {number} Value read\n */\nReader.prototype.int32 = function read_int32() {\n    return this.uint32() | 0;\n};\n\n/**\n * Reads a zig-zag encoded varint as a signed 32 bit value.\n * @returns {number} Value read\n */\nReader.prototype.sint32 = function read_sint32() {\n    var value = this.uint32();\n    return value >>> 1 ^ -(value & 1) | 0;\n};\n\n/* eslint-disable no-invalid-this */\n\nfunction readLongVarint() {\n    // tends to deopt with local vars for octet etc.\n    var bits = new LongBits(0, 0);\n    var i = 0;\n    if (this.len - this.pos > 4) { // fast route (lo)\n        for (; i < 4; ++i) {\n            // 1st..4th\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n        // 5th\n        bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;\n        bits.hi = (bits.hi | (this.buf[this.pos] & 127) >>  4) >>> 0;\n        if (this.buf[this.pos++] < 128)\n            return bits;\n        i = 0;\n    } else {\n        for (; i < 3; ++i) {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n            // 1st..3th\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n        // 4th\n        bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;\n        return bits;\n    }\n    if (this.len - this.pos > 4) { // fast route (hi)\n        for (; i < 5; ++i) {\n            // 6th..10th\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n    } else {\n        for (; i < 5; ++i) {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n            // 6th..10th\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n    }\n    /* istanbul ignore next */\n    throw Error(\"invalid varint encoding\");\n}\n\n/* eslint-enable no-invalid-this */\n\n/**\n * Reads a varint as a signed 64 bit value.\n * @name Reader#int64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a varint as an unsigned 64 bit value.\n * @name Reader#uint64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a zig-zag encoded varint as a signed 64 bit value.\n * @name Reader#sint64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a varint as a boolean.\n * @returns {boolean} Value read\n */\nReader.prototype.bool = function read_bool() {\n    return this.uint32() !== 0;\n};\n\nfunction readFixed32_end(buf, end) { // note that this uses `end`, not `pos`\n    return (buf[end - 4]\n          | buf[end - 3] << 8\n          | buf[end - 2] << 16\n          | buf[end - 1] << 24) >>> 0;\n}\n\n/**\n * Reads fixed 32 bits as an unsigned 32 bit integer.\n * @returns {number} Value read\n */\nReader.prototype.fixed32 = function read_fixed32() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    return readFixed32_end(this.buf, this.pos += 4);\n};\n\n/**\n * Reads fixed 32 bits as a signed 32 bit integer.\n * @returns {number} Value read\n */\nReader.prototype.sfixed32 = function read_sfixed32() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    return readFixed32_end(this.buf, this.pos += 4) | 0;\n};\n\n/* eslint-disable no-invalid-this */\n\nfunction readFixed64(/* this: Reader */) {\n\n    /* istanbul ignore if */\n    if (this.pos + 8 > this.len)\n        throw indexOutOfRange(this, 8);\n\n    return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));\n}\n\n/* eslint-enable no-invalid-this */\n\n/**\n * Reads fixed 64 bits.\n * @name Reader#fixed64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads zig-zag encoded fixed 64 bits.\n * @name Reader#sfixed64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a float (32 bit) as a number.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.float = function read_float() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    var value = util.float.readFloatLE(this.buf, this.pos);\n    this.pos += 4;\n    return value;\n};\n\n/**\n * Reads a double (64 bit float) as a number.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.double = function read_double() {\n\n    /* istanbul ignore if */\n    if (this.pos + 8 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    var value = util.float.readDoubleLE(this.buf, this.pos);\n    this.pos += 8;\n    return value;\n};\n\n/**\n * Reads a sequence of bytes preceeded by its length as a varint.\n * @returns {Uint8Array} Value read\n */\nReader.prototype.bytes = function read_bytes() {\n    var length = this.uint32(),\n        start  = this.pos,\n        end    = this.pos + length;\n\n    /* istanbul ignore if */\n    if (end > this.len)\n        throw indexOutOfRange(this, length);\n\n    this.pos += length;\n    if (Array.isArray(this.buf)) // plain array\n        return this.buf.slice(start, end);\n    return start === end // fix for IE 10/Win8 and others' subarray returning array of size 1\n        ? new this.buf.constructor(0)\n        : this._slice.call(this.buf, start, end);\n};\n\n/**\n * Reads a string preceeded by its byte length as a varint.\n * @returns {string} Value read\n */\nReader.prototype.string = function read_string() {\n    var bytes = this.bytes();\n    return utf8.read(bytes, 0, bytes.length);\n};\n\n/**\n * Skips the specified number of bytes if specified, otherwise skips a varint.\n * @param {number} [length] Length if known, otherwise a varint is assumed\n * @returns {Reader} `this`\n */\nReader.prototype.skip = function skip(length) {\n    if (typeof length === \"number\") {\n        /* istanbul ignore if */\n        if (this.pos + length > this.len)\n            throw indexOutOfRange(this, length);\n        this.pos += length;\n    } else {\n        do {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n        } while (this.buf[this.pos++] & 128);\n    }\n    return this;\n};\n\n/**\n * Skips the next element of the specified wire type.\n * @param {number} wireType Wire type received\n * @returns {Reader} `this`\n */\nReader.prototype.skipType = function(wireType) {\n    switch (wireType) {\n        case 0:\n            this.skip();\n            break;\n        case 1:\n            this.skip(8);\n            break;\n        case 2:\n            this.skip(this.uint32());\n            break;\n        case 3:\n            while ((wireType = this.uint32() & 7) !== 4) {\n                this.skipType(wireType);\n            }\n            break;\n        case 5:\n            this.skip(4);\n            break;\n\n        /* istanbul ignore next */\n        default:\n            throw Error(\"invalid wire type \" + wireType + \" at offset \" + this.pos);\n    }\n    return this;\n};\n\nReader._configure = function(BufferReader_) {\n    BufferReader = BufferReader_;\n    Reader.create = create();\n    BufferReader._configure();\n\n    var fn = util.Long ? \"toLong\" : /* istanbul ignore next */ \"toNumber\";\n    util.merge(Reader.prototype, {\n\n        int64: function read_int64() {\n            return readLongVarint.call(this)[fn](false);\n        },\n\n        uint64: function read_uint64() {\n            return readLongVarint.call(this)[fn](true);\n        },\n\n        sint64: function read_sint64() {\n            return readLongVarint.call(this).zzDecode()[fn](false);\n        },\n\n        fixed64: function read_fixed64() {\n            return readFixed64.call(this)[fn](true);\n        },\n\n        sfixed64: function read_sfixed64() {\n            return readFixed64.call(this)[fn](false);\n        }\n\n    });\n};\n","\"use strict\";\nmodule.exports = BufferReader;\n\n// extends Reader\nvar Reader = require(\"./reader\");\n(BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;\n\nvar util = require(\"./util/minimal\");\n\n/**\n * Constructs a new buffer reader instance.\n * @classdesc Wire format reader using node buffers.\n * @extends Reader\n * @constructor\n * @param {Buffer} buffer Buffer to read from\n */\nfunction BufferReader(buffer) {\n    Reader.call(this, buffer);\n\n    /**\n     * Read buffer.\n     * @name BufferReader#buf\n     * @type {Buffer}\n     */\n}\n\nBufferReader._configure = function () {\n    /* istanbul ignore else */\n    if (util.Buffer)\n        BufferReader.prototype._slice = util.Buffer.prototype.slice;\n};\n\n\n/**\n * @override\n */\nBufferReader.prototype.string = function read_string_buffer() {\n    var len = this.uint32(); // modifies pos\n    return this.buf.utf8Slice\n        ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len))\n        : this.buf.toString(\"utf-8\", this.pos, this.pos = Math.min(this.pos + len, this.len));\n};\n\n/**\n * Reads a sequence of bytes preceeded by its length as a varint.\n * @name BufferReader#bytes\n * @function\n * @returns {Buffer} Value read\n */\n\nBufferReader._configure();\n","\"use strict\";\nmodule.exports = Service;\n\nvar util = require(\"../util/minimal\");\n\n// Extends EventEmitter\n(Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;\n\n/**\n * A service method callback as used by {@link rpc.ServiceMethod|ServiceMethod}.\n *\n * Differs from {@link RPCImplCallback} in that it is an actual callback of a service method which may not return `response = null`.\n * @typedef rpc.ServiceMethodCallback\n * @template TRes extends Message<TRes>\n * @type {function}\n * @param {Error|null} error Error, if any\n * @param {TRes} [response] Response message\n * @returns {undefined}\n */\n\n/**\n * A service method part of a {@link rpc.Service} as created by {@link Service.create}.\n * @typedef rpc.ServiceMethod\n * @template TReq extends Message<TReq>\n * @template TRes extends Message<TRes>\n * @type {function}\n * @param {TReq|Properties<TReq>} request Request message or plain object\n * @param {rpc.ServiceMethodCallback<TRes>} [callback] Node-style callback called with the error, if any, and the response message\n * @returns {Promise<Message<TRes>>} Promise if `callback` has been omitted, otherwise `undefined`\n */\n\n/**\n * Constructs a new RPC service instance.\n * @classdesc An RPC service as returned by {@link Service#create}.\n * @exports rpc.Service\n * @extends util.EventEmitter\n * @constructor\n * @param {RPCImpl} rpcImpl RPC implementation\n * @param {boolean} [requestDelimited=false] Whether requests are length-delimited\n * @param {boolean} [responseDelimited=false] Whether responses are length-delimited\n */\nfunction Service(rpcImpl, requestDelimited, responseDelimited) {\n\n    if (typeof rpcImpl !== \"function\")\n        throw TypeError(\"rpcImpl must be a function\");\n\n    util.EventEmitter.call(this);\n\n    /**\n     * RPC implementation. Becomes `null` once the service is ended.\n     * @type {RPCImpl|null}\n     */\n    this.rpcImpl = rpcImpl;\n\n    /**\n     * Whether requests are length-delimited.\n     * @type {boolean}\n     */\n    this.requestDelimited = Boolean(requestDelimited);\n\n    /**\n     * Whether responses are length-delimited.\n     * @type {boolean}\n     */\n    this.responseDelimited = Boolean(responseDelimited);\n}\n\n/**\n * Calls a service method through {@link rpc.Service#rpcImpl|rpcImpl}.\n * @param {Method|rpc.ServiceMethod<TReq,TRes>} method Reflected or static method\n * @param {Constructor<TReq>} requestCtor Request constructor\n * @param {Constructor<TRes>} responseCtor Response constructor\n * @param {TReq|Properties<TReq>} request Request message or plain object\n * @param {rpc.ServiceMethodCallback<TRes>} callback Service callback\n * @returns {undefined}\n * @template TReq extends Message<TReq>\n * @template TRes extends Message<TRes>\n */\nService.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {\n\n    if (!request)\n        throw TypeError(\"request must be specified\");\n\n    var self = this;\n    if (!callback)\n        return util.asPromise(rpcCall, self, method, requestCtor, responseCtor, request);\n\n    if (!self.rpcImpl) {\n        setTimeout(function() { callback(Error(\"already ended\")); }, 0);\n        return undefined;\n    }\n\n    try {\n        return self.rpcImpl(\n            method,\n            requestCtor[self.requestDelimited ? \"encodeDelimited\" : \"encode\"](request).finish(),\n            function rpcCallback(err, response) {\n\n                if (err) {\n                    self.emit(\"error\", err, method);\n                    return callback(err);\n                }\n\n                if (response === null) {\n                    self.end(/* endedByRPC */ true);\n                    return undefined;\n                }\n\n                if (!(response instanceof responseCtor)) {\n                    try {\n                        response = responseCtor[self.responseDelimited ? \"decodeDelimited\" : \"decode\"](response);\n                    } catch (err) {\n                        self.emit(\"error\", err, method);\n                        return callback(err);\n                    }\n                }\n\n                self.emit(\"data\", response, method);\n                return callback(null, response);\n            }\n        );\n    } catch (err) {\n        self.emit(\"error\", err, method);\n        setTimeout(function() { callback(err); }, 0);\n        return undefined;\n    }\n};\n\n/**\n * Ends this service and emits the `end` event.\n * @param {boolean} [endedByRPC=false] Whether the service has been ended by the RPC implementation.\n * @returns {rpc.Service} `this`\n */\nService.prototype.end = function end(endedByRPC) {\n    if (this.rpcImpl) {\n        if (!endedByRPC) // signal end to rpcImpl\n            this.rpcImpl(null, null, null);\n        this.rpcImpl = null;\n        this.emit(\"end\").off();\n    }\n    return this;\n};\n","\"use strict\";\n\n/**\n * Streaming RPC helpers.\n * @namespace\n */\nvar rpc = exports;\n\n/**\n * RPC implementation passed to {@link Service#create} performing a service request on network level, i.e. by utilizing http requests or websockets.\n * @typedef RPCImpl\n * @type {function}\n * @param {Method|rpc.ServiceMethod<Message<{}>,Message<{}>>} method Reflected or static method being called\n * @param {Uint8Array} requestData Request data\n * @param {RPCImplCallback} callback Callback function\n * @returns {undefined}\n * @example\n * function rpcImpl(method, requestData, callback) {\n *     if (protobuf.util.lcFirst(method.name) !== \"myMethod\") // compatible with static code\n *         throw Error(\"no such method\");\n *     asynchronouslyObtainAResponse(requestData, function(err, responseData) {\n *         callback(err, responseData);\n *     });\n * }\n */\n\n/**\n * Node-style callback as used by {@link RPCImpl}.\n * @typedef RPCImplCallback\n * @type {function}\n * @param {Error|null} error Error, if any, otherwise `null`\n * @param {Uint8Array|null} [response] Response data or `null` to signal end of stream, if there hasn't been an error\n * @returns {undefined}\n */\n\nrpc.Service = require(\"./rpc/service\");\n","\"use strict\";\nmodule.exports = {};\n\n/**\n * Named roots.\n * This is where pbjs stores generated structures (the option `-r, --root` specifies a name).\n * Can also be used manually to make roots available across modules.\n * @name roots\n * @type {Object.<string,Root>}\n * @example\n * // pbjs -r myroot -o compiled.js ...\n *\n * // in another module:\n * require(\"./compiled.js\");\n *\n * // in any subsequent module:\n * var root = protobuf.roots[\"myroot\"];\n */\n","\"use strict\";\nvar protobuf = exports;\n\n/**\n * Build type, one of `\"full\"`, `\"light\"` or `\"minimal\"`.\n * @name build\n * @type {string}\n * @const\n */\nprotobuf.build = \"minimal\";\n\n// Serialization\nprotobuf.Writer       = require(\"./writer\");\nprotobuf.BufferWriter = require(\"./writer_buffer\");\nprotobuf.Reader       = require(\"./reader\");\nprotobuf.BufferReader = require(\"./reader_buffer\");\n\n// Utility\nprotobuf.util         = require(\"./util/minimal\");\nprotobuf.rpc          = require(\"./rpc\");\nprotobuf.roots        = require(\"./roots\");\nprotobuf.configure    = configure;\n\n/* istanbul ignore next */\n/**\n * Reconfigures the library according to the environment.\n * @returns {undefined}\n */\nfunction configure() {\n    protobuf.util._configure();\n    protobuf.Writer._configure(protobuf.BufferWriter);\n    protobuf.Reader._configure(protobuf.BufferReader);\n}\n\n// Set up buffer utility according to the environment\nconfigure();\n","// minimal library entry point.\n\n\"use strict\";\nmodule.exports = require(\"./src/index-minimal\");\n","/* eslint-disable */\r\nimport Long from \"long\";\r\nimport _m0 from \"protobufjs/minimal\";\r\n\r\nexport const protobufPackage = \"google.protobuf\";\r\n\r\n/**\r\n * A Timestamp represents a point in time independent of any time zone or local\r\n * calendar, encoded as a count of seconds and fractions of seconds at\r\n * nanosecond resolution. The count is relative to an epoch at UTC midnight on\r\n * January 1, 1970, in the proleptic Gregorian calendar which extends the\r\n * Gregorian calendar backwards to year one.\r\n *\r\n * All minutes are 60 seconds long. Leap seconds are \"smeared\" so that no leap\r\n * second table is needed for interpretation, using a [24-hour linear\r\n * smear](https://developers.google.com/time/smear).\r\n *\r\n * The range is from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59.999999999Z. By\r\n * restricting to that range, we ensure that we can convert to and from [RFC\r\n * 3339](https://www.ietf.org/rfc/rfc3339.txt) date strings.\r\n *\r\n * # Examples\r\n *\r\n * Example 1: Compute Timestamp from POSIX `time()`.\r\n *\r\n *     Timestamp timestamp;\r\n *     timestamp.set_seconds(time(NULL));\r\n *     timestamp.set_nanos(0);\r\n *\r\n * Example 2: Compute Timestamp from POSIX `gettimeofday()`.\r\n *\r\n *     struct timeval tv;\r\n *     gettimeofday(&tv, NULL);\r\n *\r\n *     Timestamp timestamp;\r\n *     timestamp.set_seconds(tv.tv_sec);\r\n *     timestamp.set_nanos(tv.tv_usec * 1000);\r\n *\r\n * Example 3: Compute Timestamp from Win32 `GetSystemTimeAsFileTime()`.\r\n *\r\n *     FILETIME ft;\r\n *     GetSystemTimeAsFileTime(&ft);\r\n *     UINT64 ticks = (((UINT64)ft.dwHighDateTime) << 32) | ft.dwLowDateTime;\r\n *\r\n *     // A Windows tick is 100 nanoseconds. Windows epoch 1601-01-01T00:00:00Z\r\n *     // is 11644473600 seconds before Unix epoch 1970-01-01T00:00:00Z.\r\n *     Timestamp timestamp;\r\n *     timestamp.set_seconds((INT64) ((ticks / 10000000) - 11644473600LL));\r\n *     timestamp.set_nanos((INT32) ((ticks % 10000000) * 100));\r\n *\r\n * Example 4: Compute Timestamp from Java `System.currentTimeMillis()`.\r\n *\r\n *     long millis = System.currentTimeMillis();\r\n *\r\n *     Timestamp timestamp = Timestamp.newBuilder().setSeconds(millis / 1000)\r\n *         .setNanos((int) ((millis % 1000) * 1000000)).build();\r\n *\r\n * Example 5: Compute Timestamp from Java `Instant.now()`.\r\n *\r\n *     Instant now = Instant.now();\r\n *\r\n *     Timestamp timestamp =\r\n *         Timestamp.newBuilder().setSeconds(now.getEpochSecond())\r\n *             .setNanos(now.getNano()).build();\r\n *\r\n * Example 6: Compute Timestamp from current time in Python.\r\n *\r\n *     timestamp = Timestamp()\r\n *     timestamp.GetCurrentTime()\r\n *\r\n * # JSON Mapping\r\n *\r\n * In JSON format, the Timestamp type is encoded as a string in the\r\n * [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt) format. That is, the\r\n * format is \"{year}-{month}-{day}T{hour}:{min}:{sec}[.{frac_sec}]Z\"\r\n * where {year} is always expressed using four digits while {month}, {day},\r\n * {hour}, {min}, and {sec} are zero-padded to two digits each. The fractional\r\n * seconds, which can go up to 9 digits (i.e. up to 1 nanosecond resolution),\r\n * are optional. The \"Z\" suffix indicates the timezone (\"UTC\"); the timezone\r\n * is required. A proto3 JSON serializer should always use UTC (as indicated by\r\n * \"Z\") when printing the Timestamp type and a proto3 JSON parser should be\r\n * able to accept both UTC and other timezones (as indicated by an offset).\r\n *\r\n * For example, \"2017-01-15T01:30:15.01Z\" encodes 15.01 seconds past\r\n * 01:30 UTC on January 15, 2017.\r\n *\r\n * In JavaScript, one can convert a Date object to this format using the\r\n * standard\r\n * [toISOString()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString)\r\n * method. In Python, a standard `datetime.datetime` object can be converted\r\n * to this format using\r\n * [`strftime`](https://docs.python.org/2/library/time.html#time.strftime) with\r\n * the time format spec '%Y-%m-%dT%H:%M:%S.%fZ'. Likewise, in Java, one can use\r\n * the Joda Time's [`ISODateTimeFormat.dateTime()`](\r\n * http://www.joda.org/joda-time/apidocs/org/joda/time/format/ISODateTimeFormat.html#dateTime%2D%2D\r\n * ) to obtain a formatter capable of generating timestamps in this format.\r\n */\r\nexport interface Timestamp {\r\n  /**\r\n   * Represents seconds of UTC time since Unix epoch\r\n   * 1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to\r\n   * 9999-12-31T23:59:59Z inclusive.\r\n   */\r\n  seconds: number;\r\n  /**\r\n   * Non-negative fractions of a second at nanosecond resolution. Negative\r\n   * second values with fractions must still have non-negative nanos values\r\n   * that count forward in time. Must be from 0 to 999,999,999\r\n   * inclusive.\r\n   */\r\n  nanos: number;\r\n}\r\n\r\nfunction createBaseTimestamp(): Timestamp {\r\n  return { seconds: 0, nanos: 0 };\r\n}\r\n\r\nexport const Timestamp = {\r\n  encode(message: Timestamp, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.seconds !== 0) {\r\n      writer.uint32(8).int64(message.seconds);\r\n    }\r\n    if (message.nanos !== 0) {\r\n      writer.uint32(16).int32(message.nanos);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): Timestamp {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseTimestamp();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 8) {\r\n            break;\r\n          }\r\n\r\n          message.seconds = longToNumber(reader.int64() as Long);\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.nanos = reader.int32();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): Timestamp {\r\n    return {\r\n      seconds: isSet(object.seconds) ? Number(object.seconds) : 0,\r\n      nanos: isSet(object.nanos) ? Number(object.nanos) : 0,\r\n    };\r\n  },\r\n\r\n  toJSON(message: Timestamp): unknown {\r\n    const obj: any = {};\r\n    message.seconds !== undefined && (obj.seconds = Math.round(message.seconds));\r\n    message.nanos !== undefined && (obj.nanos = Math.round(message.nanos));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<Timestamp>, I>>(base?: I): Timestamp {\r\n    return Timestamp.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<Timestamp>, I>>(object: I): Timestamp {\r\n    const message = createBaseTimestamp();\r\n    message.seconds = object.seconds ?? 0;\r\n    message.nanos = object.nanos ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\ndeclare var self: any | undefined;\r\ndeclare var window: any | undefined;\r\ndeclare var global: any | undefined;\r\nvar tsProtoGlobalThis: any = (() => {\r\n  if (typeof globalThis !== \"undefined\") {\r\n    return globalThis;\r\n  }\r\n  if (typeof self !== \"undefined\") {\r\n    return self;\r\n  }\r\n  if (typeof window !== \"undefined\") {\r\n    return window;\r\n  }\r\n  if (typeof global !== \"undefined\") {\r\n    return global;\r\n  }\r\n  throw \"Unable to locate global object\";\r\n})();\r\n\r\ntype Builtin = Date | Function | Uint8Array | string | number | boolean | undefined;\r\n\r\nexport type DeepPartial<T> = T extends Builtin ? T\r\n  : T extends Array<infer U> ? Array<DeepPartial<U>> : T extends ReadonlyArray<infer U> ? ReadonlyArray<DeepPartial<U>>\r\n  : T extends { $case: string } ? { [K in keyof Omit<T, \"$case\">]?: DeepPartial<T[K]> } & { $case: T[\"$case\"] }\r\n  : T extends {} ? { [K in keyof T]?: DeepPartial<T[K]> }\r\n  : Partial<T>;\r\n\r\ntype KeysOfUnion<T> = T extends T ? keyof T : never;\r\nexport type Exact<P, I extends P> = P extends Builtin ? P\r\n  : P & { [K in keyof P]: Exact<P[K], I[K]> } & { [K in Exclude<keyof I, KeysOfUnion<P>>]: never };\r\n\r\nfunction longToNumber(long: Long): number {\r\n  if (long.gt(Number.MAX_SAFE_INTEGER)) {\r\n    throw new tsProtoGlobalThis.Error(\"Value is larger than Number.MAX_SAFE_INTEGER\");\r\n  }\r\n  return long.toNumber();\r\n}\r\n\r\nif (_m0.util.Long !== Long) {\r\n  _m0.util.Long = Long as any;\r\n  _m0.configure();\r\n}\r\n\r\nfunction isSet(value: any): boolean {\r\n  return value !== null && value !== undefined;\r\n}\r\n","/* eslint-disable */\r\nimport Long from \"long\";\r\nimport _m0 from \"protobufjs/minimal\";\r\nimport { Timestamp } from \"./google/protobuf/timestamp\";\r\n\r\nexport const protobufPackage = \"livekit\";\r\n\r\nexport enum AudioCodec {\r\n  DEFAULT_AC = 0,\r\n  OPUS = 1,\r\n  AAC = 2,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function audioCodecFromJSON(object: any): AudioCodec {\r\n  switch (object) {\r\n    case 0:\r\n    case \"DEFAULT_AC\":\r\n      return AudioCodec.DEFAULT_AC;\r\n    case 1:\r\n    case \"OPUS\":\r\n      return AudioCodec.OPUS;\r\n    case 2:\r\n    case \"AAC\":\r\n      return AudioCodec.AAC;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return AudioCodec.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function audioCodecToJSON(object: AudioCodec): string {\r\n  switch (object) {\r\n    case AudioCodec.DEFAULT_AC:\r\n      return \"DEFAULT_AC\";\r\n    case AudioCodec.OPUS:\r\n      return \"OPUS\";\r\n    case AudioCodec.AAC:\r\n      return \"AAC\";\r\n    case AudioCodec.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\nexport enum VideoCodec {\r\n  DEFAULT_VC = 0,\r\n  H264_BASELINE = 1,\r\n  H264_MAIN = 2,\r\n  H264_HIGH = 3,\r\n  VP8 = 4,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function videoCodecFromJSON(object: any): VideoCodec {\r\n  switch (object) {\r\n    case 0:\r\n    case \"DEFAULT_VC\":\r\n      return VideoCodec.DEFAULT_VC;\r\n    case 1:\r\n    case \"H264_BASELINE\":\r\n      return VideoCodec.H264_BASELINE;\r\n    case 2:\r\n    case \"H264_MAIN\":\r\n      return VideoCodec.H264_MAIN;\r\n    case 3:\r\n    case \"H264_HIGH\":\r\n      return VideoCodec.H264_HIGH;\r\n    case 4:\r\n    case \"VP8\":\r\n      return VideoCodec.VP8;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return VideoCodec.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function videoCodecToJSON(object: VideoCodec): string {\r\n  switch (object) {\r\n    case VideoCodec.DEFAULT_VC:\r\n      return \"DEFAULT_VC\";\r\n    case VideoCodec.H264_BASELINE:\r\n      return \"H264_BASELINE\";\r\n    case VideoCodec.H264_MAIN:\r\n      return \"H264_MAIN\";\r\n    case VideoCodec.H264_HIGH:\r\n      return \"H264_HIGH\";\r\n    case VideoCodec.VP8:\r\n      return \"VP8\";\r\n    case VideoCodec.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\nexport enum TrackType {\r\n  AUDIO = 0,\r\n  VIDEO = 1,\r\n  DATA = 2,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function trackTypeFromJSON(object: any): TrackType {\r\n  switch (object) {\r\n    case 0:\r\n    case \"AUDIO\":\r\n      return TrackType.AUDIO;\r\n    case 1:\r\n    case \"VIDEO\":\r\n      return TrackType.VIDEO;\r\n    case 2:\r\n    case \"DATA\":\r\n      return TrackType.DATA;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return TrackType.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function trackTypeToJSON(object: TrackType): string {\r\n  switch (object) {\r\n    case TrackType.AUDIO:\r\n      return \"AUDIO\";\r\n    case TrackType.VIDEO:\r\n      return \"VIDEO\";\r\n    case TrackType.DATA:\r\n      return \"DATA\";\r\n    case TrackType.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\nexport enum TrackSource {\r\n  UNKNOWN = 0,\r\n  CAMERA = 1,\r\n  MICROPHONE = 2,\r\n  SCREEN_SHARE = 3,\r\n  SCREEN_SHARE_AUDIO = 4,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function trackSourceFromJSON(object: any): TrackSource {\r\n  switch (object) {\r\n    case 0:\r\n    case \"UNKNOWN\":\r\n      return TrackSource.UNKNOWN;\r\n    case 1:\r\n    case \"CAMERA\":\r\n      return TrackSource.CAMERA;\r\n    case 2:\r\n    case \"MICROPHONE\":\r\n      return TrackSource.MICROPHONE;\r\n    case 3:\r\n    case \"SCREEN_SHARE\":\r\n      return TrackSource.SCREEN_SHARE;\r\n    case 4:\r\n    case \"SCREEN_SHARE_AUDIO\":\r\n      return TrackSource.SCREEN_SHARE_AUDIO;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return TrackSource.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function trackSourceToJSON(object: TrackSource): string {\r\n  switch (object) {\r\n    case TrackSource.UNKNOWN:\r\n      return \"UNKNOWN\";\r\n    case TrackSource.CAMERA:\r\n      return \"CAMERA\";\r\n    case TrackSource.MICROPHONE:\r\n      return \"MICROPHONE\";\r\n    case TrackSource.SCREEN_SHARE:\r\n      return \"SCREEN_SHARE\";\r\n    case TrackSource.SCREEN_SHARE_AUDIO:\r\n      return \"SCREEN_SHARE_AUDIO\";\r\n    case TrackSource.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\nexport enum VideoQuality {\r\n  LOW = 0,\r\n  MEDIUM = 1,\r\n  HIGH = 2,\r\n  OFF = 3,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function videoQualityFromJSON(object: any): VideoQuality {\r\n  switch (object) {\r\n    case 0:\r\n    case \"LOW\":\r\n      return VideoQuality.LOW;\r\n    case 1:\r\n    case \"MEDIUM\":\r\n      return VideoQuality.MEDIUM;\r\n    case 2:\r\n    case \"HIGH\":\r\n      return VideoQuality.HIGH;\r\n    case 3:\r\n    case \"OFF\":\r\n      return VideoQuality.OFF;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return VideoQuality.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function videoQualityToJSON(object: VideoQuality): string {\r\n  switch (object) {\r\n    case VideoQuality.LOW:\r\n      return \"LOW\";\r\n    case VideoQuality.MEDIUM:\r\n      return \"MEDIUM\";\r\n    case VideoQuality.HIGH:\r\n      return \"HIGH\";\r\n    case VideoQuality.OFF:\r\n      return \"OFF\";\r\n    case VideoQuality.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\nexport enum ConnectionQuality {\r\n  POOR = 0,\r\n  GOOD = 1,\r\n  EXCELLENT = 2,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function connectionQualityFromJSON(object: any): ConnectionQuality {\r\n  switch (object) {\r\n    case 0:\r\n    case \"POOR\":\r\n      return ConnectionQuality.POOR;\r\n    case 1:\r\n    case \"GOOD\":\r\n      return ConnectionQuality.GOOD;\r\n    case 2:\r\n    case \"EXCELLENT\":\r\n      return ConnectionQuality.EXCELLENT;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return ConnectionQuality.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function connectionQualityToJSON(object: ConnectionQuality): string {\r\n  switch (object) {\r\n    case ConnectionQuality.POOR:\r\n      return \"POOR\";\r\n    case ConnectionQuality.GOOD:\r\n      return \"GOOD\";\r\n    case ConnectionQuality.EXCELLENT:\r\n      return \"EXCELLENT\";\r\n    case ConnectionQuality.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\nexport enum ClientConfigSetting {\r\n  UNSET = 0,\r\n  DISABLED = 1,\r\n  ENABLED = 2,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function clientConfigSettingFromJSON(object: any): ClientConfigSetting {\r\n  switch (object) {\r\n    case 0:\r\n    case \"UNSET\":\r\n      return ClientConfigSetting.UNSET;\r\n    case 1:\r\n    case \"DISABLED\":\r\n      return ClientConfigSetting.DISABLED;\r\n    case 2:\r\n    case \"ENABLED\":\r\n      return ClientConfigSetting.ENABLED;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return ClientConfigSetting.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function clientConfigSettingToJSON(object: ClientConfigSetting): string {\r\n  switch (object) {\r\n    case ClientConfigSetting.UNSET:\r\n      return \"UNSET\";\r\n    case ClientConfigSetting.DISABLED:\r\n      return \"DISABLED\";\r\n    case ClientConfigSetting.ENABLED:\r\n      return \"ENABLED\";\r\n    case ClientConfigSetting.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\nexport enum DisconnectReason {\r\n  UNKNOWN_REASON = 0,\r\n  CLIENT_INITIATED = 1,\r\n  DUPLICATE_IDENTITY = 2,\r\n  SERVER_SHUTDOWN = 3,\r\n  PARTICIPANT_REMOVED = 4,\r\n  ROOM_DELETED = 5,\r\n  STATE_MISMATCH = 6,\r\n  JOIN_FAILURE = 7,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function disconnectReasonFromJSON(object: any): DisconnectReason {\r\n  switch (object) {\r\n    case 0:\r\n    case \"UNKNOWN_REASON\":\r\n      return DisconnectReason.UNKNOWN_REASON;\r\n    case 1:\r\n    case \"CLIENT_INITIATED\":\r\n      return DisconnectReason.CLIENT_INITIATED;\r\n    case 2:\r\n    case \"DUPLICATE_IDENTITY\":\r\n      return DisconnectReason.DUPLICATE_IDENTITY;\r\n    case 3:\r\n    case \"SERVER_SHUTDOWN\":\r\n      return DisconnectReason.SERVER_SHUTDOWN;\r\n    case 4:\r\n    case \"PARTICIPANT_REMOVED\":\r\n      return DisconnectReason.PARTICIPANT_REMOVED;\r\n    case 5:\r\n    case \"ROOM_DELETED\":\r\n      return DisconnectReason.ROOM_DELETED;\r\n    case 6:\r\n    case \"STATE_MISMATCH\":\r\n      return DisconnectReason.STATE_MISMATCH;\r\n    case 7:\r\n    case \"JOIN_FAILURE\":\r\n      return DisconnectReason.JOIN_FAILURE;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return DisconnectReason.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function disconnectReasonToJSON(object: DisconnectReason): string {\r\n  switch (object) {\r\n    case DisconnectReason.UNKNOWN_REASON:\r\n      return \"UNKNOWN_REASON\";\r\n    case DisconnectReason.CLIENT_INITIATED:\r\n      return \"CLIENT_INITIATED\";\r\n    case DisconnectReason.DUPLICATE_IDENTITY:\r\n      return \"DUPLICATE_IDENTITY\";\r\n    case DisconnectReason.SERVER_SHUTDOWN:\r\n      return \"SERVER_SHUTDOWN\";\r\n    case DisconnectReason.PARTICIPANT_REMOVED:\r\n      return \"PARTICIPANT_REMOVED\";\r\n    case DisconnectReason.ROOM_DELETED:\r\n      return \"ROOM_DELETED\";\r\n    case DisconnectReason.STATE_MISMATCH:\r\n      return \"STATE_MISMATCH\";\r\n    case DisconnectReason.JOIN_FAILURE:\r\n      return \"JOIN_FAILURE\";\r\n    case DisconnectReason.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\nexport enum ReconnectReason {\r\n  RR_UNKOWN = 0,\r\n  RR_SIGNAL_DISCONNECTED = 1,\r\n  RR_PUBLISHER_FAILED = 2,\r\n  RR_SUBSCRIBER_FAILED = 3,\r\n  RR_SWITCH_CANDIDATE = 4,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function reconnectReasonFromJSON(object: any): ReconnectReason {\r\n  switch (object) {\r\n    case 0:\r\n    case \"RR_UNKOWN\":\r\n      return ReconnectReason.RR_UNKOWN;\r\n    case 1:\r\n    case \"RR_SIGNAL_DISCONNECTED\":\r\n      return ReconnectReason.RR_SIGNAL_DISCONNECTED;\r\n    case 2:\r\n    case \"RR_PUBLISHER_FAILED\":\r\n      return ReconnectReason.RR_PUBLISHER_FAILED;\r\n    case 3:\r\n    case \"RR_SUBSCRIBER_FAILED\":\r\n      return ReconnectReason.RR_SUBSCRIBER_FAILED;\r\n    case 4:\r\n    case \"RR_SWITCH_CANDIDATE\":\r\n      return ReconnectReason.RR_SWITCH_CANDIDATE;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return ReconnectReason.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function reconnectReasonToJSON(object: ReconnectReason): string {\r\n  switch (object) {\r\n    case ReconnectReason.RR_UNKOWN:\r\n      return \"RR_UNKOWN\";\r\n    case ReconnectReason.RR_SIGNAL_DISCONNECTED:\r\n      return \"RR_SIGNAL_DISCONNECTED\";\r\n    case ReconnectReason.RR_PUBLISHER_FAILED:\r\n      return \"RR_PUBLISHER_FAILED\";\r\n    case ReconnectReason.RR_SUBSCRIBER_FAILED:\r\n      return \"RR_SUBSCRIBER_FAILED\";\r\n    case ReconnectReason.RR_SWITCH_CANDIDATE:\r\n      return \"RR_SWITCH_CANDIDATE\";\r\n    case ReconnectReason.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\nexport interface Room {\r\n  sid: string;\r\n  name: string;\r\n  emptyTimeout: number;\r\n  maxParticipants: number;\r\n  creationTime: number;\r\n  turnPassword: string;\r\n  enabledCodecs: Codec[];\r\n  metadata: string;\r\n  numParticipants: number;\r\n  numPublishers: number;\r\n  activeRecording: boolean;\r\n}\r\n\r\nexport interface Codec {\r\n  mime: string;\r\n  fmtpLine: string;\r\n}\r\n\r\nexport interface ParticipantPermission {\r\n  /** allow participant to subscribe to other tracks in the room */\r\n  canSubscribe: boolean;\r\n  /** allow participant to publish new tracks to room */\r\n  canPublish: boolean;\r\n  /** allow participant to publish data */\r\n  canPublishData: boolean;\r\n  /** sources that are allowed to be published */\r\n  canPublishSources: TrackSource[];\r\n  /** indicates that it's hidden to others */\r\n  hidden: boolean;\r\n  /** indicates it's a recorder instance */\r\n  recorder: boolean;\r\n  /** indicates that participant can update own metadata */\r\n  canUpdateMetadata: boolean;\r\n}\r\n\r\nexport interface ParticipantInfo {\r\n  sid: string;\r\n  identity: string;\r\n  state: ParticipantInfo_State;\r\n  tracks: TrackInfo[];\r\n  metadata: string;\r\n  /** timestamp when participant joined room, in seconds */\r\n  joinedAt: number;\r\n  name: string;\r\n  version: number;\r\n  permission?: ParticipantPermission;\r\n  region: string;\r\n  /**\r\n   * indicates the participant has an active publisher connection\r\n   * and can publish to the server\r\n   */\r\n  isPublisher: boolean;\r\n}\r\n\r\nexport enum ParticipantInfo_State {\r\n  /** JOINING - websocket' connected, but not offered yet */\r\n  JOINING = 0,\r\n  /** JOINED - server received client offer */\r\n  JOINED = 1,\r\n  /** ACTIVE - ICE connectivity established */\r\n  ACTIVE = 2,\r\n  /** DISCONNECTED - WS disconnected */\r\n  DISCONNECTED = 3,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function participantInfo_StateFromJSON(object: any): ParticipantInfo_State {\r\n  switch (object) {\r\n    case 0:\r\n    case \"JOINING\":\r\n      return ParticipantInfo_State.JOINING;\r\n    case 1:\r\n    case \"JOINED\":\r\n      return ParticipantInfo_State.JOINED;\r\n    case 2:\r\n    case \"ACTIVE\":\r\n      return ParticipantInfo_State.ACTIVE;\r\n    case 3:\r\n    case \"DISCONNECTED\":\r\n      return ParticipantInfo_State.DISCONNECTED;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return ParticipantInfo_State.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function participantInfo_StateToJSON(object: ParticipantInfo_State): string {\r\n  switch (object) {\r\n    case ParticipantInfo_State.JOINING:\r\n      return \"JOINING\";\r\n    case ParticipantInfo_State.JOINED:\r\n      return \"JOINED\";\r\n    case ParticipantInfo_State.ACTIVE:\r\n      return \"ACTIVE\";\r\n    case ParticipantInfo_State.DISCONNECTED:\r\n      return \"DISCONNECTED\";\r\n    case ParticipantInfo_State.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\nexport interface Encryption {\r\n}\r\n\r\nexport enum Encryption_Type {\r\n  NONE = 0,\r\n  GCM = 1,\r\n  CUSTOM = 2,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function encryption_TypeFromJSON(object: any): Encryption_Type {\r\n  switch (object) {\r\n    case 0:\r\n    case \"NONE\":\r\n      return Encryption_Type.NONE;\r\n    case 1:\r\n    case \"GCM\":\r\n      return Encryption_Type.GCM;\r\n    case 2:\r\n    case \"CUSTOM\":\r\n      return Encryption_Type.CUSTOM;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return Encryption_Type.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function encryption_TypeToJSON(object: Encryption_Type): string {\r\n  switch (object) {\r\n    case Encryption_Type.NONE:\r\n      return \"NONE\";\r\n    case Encryption_Type.GCM:\r\n      return \"GCM\";\r\n    case Encryption_Type.CUSTOM:\r\n      return \"CUSTOM\";\r\n    case Encryption_Type.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\nexport interface SimulcastCodecInfo {\r\n  mimeType: string;\r\n  mid: string;\r\n  cid: string;\r\n  layers: VideoLayer[];\r\n}\r\n\r\nexport interface TrackInfo {\r\n  sid: string;\r\n  type: TrackType;\r\n  name: string;\r\n  muted: boolean;\r\n  /**\r\n   * original width of video (unset for audio)\r\n   * clients may receive a lower resolution version with simulcast\r\n   */\r\n  width: number;\r\n  /** original height of video (unset for audio) */\r\n  height: number;\r\n  /** true if track is simulcasted */\r\n  simulcast: boolean;\r\n  /** true if DTX (Discontinuous Transmission) is disabled for audio */\r\n  disableDtx: boolean;\r\n  /** source of media */\r\n  source: TrackSource;\r\n  layers: VideoLayer[];\r\n  /** mime type of codec */\r\n  mimeType: string;\r\n  mid: string;\r\n  codecs: SimulcastCodecInfo[];\r\n  stereo: boolean;\r\n  /** true if RED (Redundant Encoding) is disabled for audio */\r\n  disableRed: boolean;\r\n  encryption: Encryption_Type;\r\n}\r\n\r\n/** provide information about available spatial layers */\r\nexport interface VideoLayer {\r\n  /** for tracks with a single layer, this should be HIGH */\r\n  quality: VideoQuality;\r\n  width: number;\r\n  height: number;\r\n  /** target bitrate in bit per second (bps), server will measure actual */\r\n  bitrate: number;\r\n  ssrc: number;\r\n}\r\n\r\n/** new DataPacket API */\r\nexport interface DataPacket {\r\n  kind: DataPacket_Kind;\r\n  value?: { $case: \"user\"; user: UserPacket } | { $case: \"speaker\"; speaker: ActiveSpeakerUpdate };\r\n}\r\n\r\nexport enum DataPacket_Kind {\r\n  RELIABLE = 0,\r\n  LOSSY = 1,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function dataPacket_KindFromJSON(object: any): DataPacket_Kind {\r\n  switch (object) {\r\n    case 0:\r\n    case \"RELIABLE\":\r\n      return DataPacket_Kind.RELIABLE;\r\n    case 1:\r\n    case \"LOSSY\":\r\n      return DataPacket_Kind.LOSSY;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return DataPacket_Kind.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function dataPacket_KindToJSON(object: DataPacket_Kind): string {\r\n  switch (object) {\r\n    case DataPacket_Kind.RELIABLE:\r\n      return \"RELIABLE\";\r\n    case DataPacket_Kind.LOSSY:\r\n      return \"LOSSY\";\r\n    case DataPacket_Kind.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\nexport interface ActiveSpeakerUpdate {\r\n  speakers: SpeakerInfo[];\r\n}\r\n\r\nexport interface SpeakerInfo {\r\n  sid: string;\r\n  /** audio level, 0-1.0, 1 is loudest */\r\n  level: number;\r\n  /** true if speaker is currently active */\r\n  active: boolean;\r\n}\r\n\r\nexport interface UserPacket {\r\n  /** participant ID of user that sent the message */\r\n  participantSid: string;\r\n  /** user defined payload */\r\n  payload: Uint8Array;\r\n  /** the ID of the participants who will receive the message (the message will be sent to all the people in the room if this variable is empty) */\r\n  destinationSids: string[];\r\n  /** topic under which the message was published */\r\n  topic?: string | undefined;\r\n}\r\n\r\nexport interface ParticipantTracks {\r\n  /** participant ID of participant to whom the tracks belong */\r\n  participantSid: string;\r\n  trackSids: string[];\r\n}\r\n\r\n/** details about the server */\r\nexport interface ServerInfo {\r\n  edition: ServerInfo_Edition;\r\n  version: string;\r\n  protocol: number;\r\n  region: string;\r\n  nodeId: string;\r\n  /** additional debugging information. sent only if server is in development mode */\r\n  debugInfo: string;\r\n}\r\n\r\nexport enum ServerInfo_Edition {\r\n  Standard = 0,\r\n  Cloud = 1,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function serverInfo_EditionFromJSON(object: any): ServerInfo_Edition {\r\n  switch (object) {\r\n    case 0:\r\n    case \"Standard\":\r\n      return ServerInfo_Edition.Standard;\r\n    case 1:\r\n    case \"Cloud\":\r\n      return ServerInfo_Edition.Cloud;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return ServerInfo_Edition.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function serverInfo_EditionToJSON(object: ServerInfo_Edition): string {\r\n  switch (object) {\r\n    case ServerInfo_Edition.Standard:\r\n      return \"Standard\";\r\n    case ServerInfo_Edition.Cloud:\r\n      return \"Cloud\";\r\n    case ServerInfo_Edition.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\n/** details about the client */\r\nexport interface ClientInfo {\r\n  sdk: ClientInfo_SDK;\r\n  version: string;\r\n  protocol: number;\r\n  os: string;\r\n  osVersion: string;\r\n  deviceModel: string;\r\n  browser: string;\r\n  browserVersion: string;\r\n  address: string;\r\n  /** wifi, wired, cellular, vpn, empty if not known */\r\n  network: string;\r\n}\r\n\r\nexport enum ClientInfo_SDK {\r\n  UNKNOWN = 0,\r\n  JS = 1,\r\n  SWIFT = 2,\r\n  ANDROID = 3,\r\n  FLUTTER = 4,\r\n  GO = 5,\r\n  UNITY = 6,\r\n  REACT_NATIVE = 7,\r\n  RUST = 8,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function clientInfo_SDKFromJSON(object: any): ClientInfo_SDK {\r\n  switch (object) {\r\n    case 0:\r\n    case \"UNKNOWN\":\r\n      return ClientInfo_SDK.UNKNOWN;\r\n    case 1:\r\n    case \"JS\":\r\n      return ClientInfo_SDK.JS;\r\n    case 2:\r\n    case \"SWIFT\":\r\n      return ClientInfo_SDK.SWIFT;\r\n    case 3:\r\n    case \"ANDROID\":\r\n      return ClientInfo_SDK.ANDROID;\r\n    case 4:\r\n    case \"FLUTTER\":\r\n      return ClientInfo_SDK.FLUTTER;\r\n    case 5:\r\n    case \"GO\":\r\n      return ClientInfo_SDK.GO;\r\n    case 6:\r\n    case \"UNITY\":\r\n      return ClientInfo_SDK.UNITY;\r\n    case 7:\r\n    case \"REACT_NATIVE\":\r\n      return ClientInfo_SDK.REACT_NATIVE;\r\n    case 8:\r\n    case \"RUST\":\r\n      return ClientInfo_SDK.RUST;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return ClientInfo_SDK.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function clientInfo_SDKToJSON(object: ClientInfo_SDK): string {\r\n  switch (object) {\r\n    case ClientInfo_SDK.UNKNOWN:\r\n      return \"UNKNOWN\";\r\n    case ClientInfo_SDK.JS:\r\n      return \"JS\";\r\n    case ClientInfo_SDK.SWIFT:\r\n      return \"SWIFT\";\r\n    case ClientInfo_SDK.ANDROID:\r\n      return \"ANDROID\";\r\n    case ClientInfo_SDK.FLUTTER:\r\n      return \"FLUTTER\";\r\n    case ClientInfo_SDK.GO:\r\n      return \"GO\";\r\n    case ClientInfo_SDK.UNITY:\r\n      return \"UNITY\";\r\n    case ClientInfo_SDK.REACT_NATIVE:\r\n      return \"REACT_NATIVE\";\r\n    case ClientInfo_SDK.RUST:\r\n      return \"RUST\";\r\n    case ClientInfo_SDK.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\n/** server provided client configuration */\r\nexport interface ClientConfiguration {\r\n  video?: VideoConfiguration;\r\n  screen?: VideoConfiguration;\r\n  resumeConnection: ClientConfigSetting;\r\n  disabledCodecs?: DisabledCodecs;\r\n  forceRelay: ClientConfigSetting;\r\n}\r\n\r\nexport interface VideoConfiguration {\r\n  hardwareEncoder: ClientConfigSetting;\r\n}\r\n\r\nexport interface DisabledCodecs {\r\n  codecs: Codec[];\r\n}\r\n\r\nexport interface RTPStats {\r\n  startTime?: Date;\r\n  endTime?: Date;\r\n  duration: number;\r\n  packets: number;\r\n  packetRate: number;\r\n  bytes: number;\r\n  headerBytes: number;\r\n  bitrate: number;\r\n  packetsLost: number;\r\n  packetLossRate: number;\r\n  packetLossPercentage: number;\r\n  packetsDuplicate: number;\r\n  packetDuplicateRate: number;\r\n  bytesDuplicate: number;\r\n  headerBytesDuplicate: number;\r\n  bitrateDuplicate: number;\r\n  packetsPadding: number;\r\n  packetPaddingRate: number;\r\n  bytesPadding: number;\r\n  headerBytesPadding: number;\r\n  bitratePadding: number;\r\n  packetsOutOfOrder: number;\r\n  frames: number;\r\n  frameRate: number;\r\n  jitterCurrent: number;\r\n  jitterMax: number;\r\n  gapHistogram: { [key: number]: number };\r\n  nacks: number;\r\n  nackAcks: number;\r\n  nackMisses: number;\r\n  nackRepeated: number;\r\n  plis: number;\r\n  lastPli?: Date;\r\n  firs: number;\r\n  lastFir?: Date;\r\n  rttCurrent: number;\r\n  rttMax: number;\r\n  keyFrames: number;\r\n  lastKeyFrame?: Date;\r\n  layerLockPlis: number;\r\n  lastLayerLockPli?: Date;\r\n}\r\n\r\nexport interface RTPStats_GapHistogramEntry {\r\n  key: number;\r\n  value: number;\r\n}\r\n\r\nexport interface TimedVersion {\r\n  unixMicro: number;\r\n  ticks: number;\r\n}\r\n\r\nfunction createBaseRoom(): Room {\r\n  return {\r\n    sid: \"\",\r\n    name: \"\",\r\n    emptyTimeout: 0,\r\n    maxParticipants: 0,\r\n    creationTime: 0,\r\n    turnPassword: \"\",\r\n    enabledCodecs: [],\r\n    metadata: \"\",\r\n    numParticipants: 0,\r\n    numPublishers: 0,\r\n    activeRecording: false,\r\n  };\r\n}\r\n\r\nexport const Room = {\r\n  encode(message: Room, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.sid !== \"\") {\r\n      writer.uint32(10).string(message.sid);\r\n    }\r\n    if (message.name !== \"\") {\r\n      writer.uint32(18).string(message.name);\r\n    }\r\n    if (message.emptyTimeout !== 0) {\r\n      writer.uint32(24).uint32(message.emptyTimeout);\r\n    }\r\n    if (message.maxParticipants !== 0) {\r\n      writer.uint32(32).uint32(message.maxParticipants);\r\n    }\r\n    if (message.creationTime !== 0) {\r\n      writer.uint32(40).int64(message.creationTime);\r\n    }\r\n    if (message.turnPassword !== \"\") {\r\n      writer.uint32(50).string(message.turnPassword);\r\n    }\r\n    for (const v of message.enabledCodecs) {\r\n      Codec.encode(v!, writer.uint32(58).fork()).ldelim();\r\n    }\r\n    if (message.metadata !== \"\") {\r\n      writer.uint32(66).string(message.metadata);\r\n    }\r\n    if (message.numParticipants !== 0) {\r\n      writer.uint32(72).uint32(message.numParticipants);\r\n    }\r\n    if (message.numPublishers !== 0) {\r\n      writer.uint32(88).uint32(message.numPublishers);\r\n    }\r\n    if (message.activeRecording === true) {\r\n      writer.uint32(80).bool(message.activeRecording);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): Room {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseRoom();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.sid = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.name = reader.string();\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.emptyTimeout = reader.uint32();\r\n          continue;\r\n        case 4:\r\n          if (tag != 32) {\r\n            break;\r\n          }\r\n\r\n          message.maxParticipants = reader.uint32();\r\n          continue;\r\n        case 5:\r\n          if (tag != 40) {\r\n            break;\r\n          }\r\n\r\n          message.creationTime = longToNumber(reader.int64() as Long);\r\n          continue;\r\n        case 6:\r\n          if (tag != 50) {\r\n            break;\r\n          }\r\n\r\n          message.turnPassword = reader.string();\r\n          continue;\r\n        case 7:\r\n          if (tag != 58) {\r\n            break;\r\n          }\r\n\r\n          message.enabledCodecs.push(Codec.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 8:\r\n          if (tag != 66) {\r\n            break;\r\n          }\r\n\r\n          message.metadata = reader.string();\r\n          continue;\r\n        case 9:\r\n          if (tag != 72) {\r\n            break;\r\n          }\r\n\r\n          message.numParticipants = reader.uint32();\r\n          continue;\r\n        case 11:\r\n          if (tag != 88) {\r\n            break;\r\n          }\r\n\r\n          message.numPublishers = reader.uint32();\r\n          continue;\r\n        case 10:\r\n          if (tag != 80) {\r\n            break;\r\n          }\r\n\r\n          message.activeRecording = reader.bool();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): Room {\r\n    return {\r\n      sid: isSet(object.sid) ? String(object.sid) : \"\",\r\n      name: isSet(object.name) ? String(object.name) : \"\",\r\n      emptyTimeout: isSet(object.emptyTimeout) ? Number(object.emptyTimeout) : 0,\r\n      maxParticipants: isSet(object.maxParticipants) ? Number(object.maxParticipants) : 0,\r\n      creationTime: isSet(object.creationTime) ? Number(object.creationTime) : 0,\r\n      turnPassword: isSet(object.turnPassword) ? String(object.turnPassword) : \"\",\r\n      enabledCodecs: Array.isArray(object?.enabledCodecs)\r\n        ? object.enabledCodecs.map((e: any) => Codec.fromJSON(e))\r\n        : [],\r\n      metadata: isSet(object.metadata) ? String(object.metadata) : \"\",\r\n      numParticipants: isSet(object.numParticipants) ? Number(object.numParticipants) : 0,\r\n      numPublishers: isSet(object.numPublishers) ? Number(object.numPublishers) : 0,\r\n      activeRecording: isSet(object.activeRecording) ? Boolean(object.activeRecording) : false,\r\n    };\r\n  },\r\n\r\n  toJSON(message: Room): unknown {\r\n    const obj: any = {};\r\n    message.sid !== undefined && (obj.sid = message.sid);\r\n    message.name !== undefined && (obj.name = message.name);\r\n    message.emptyTimeout !== undefined && (obj.emptyTimeout = Math.round(message.emptyTimeout));\r\n    message.maxParticipants !== undefined && (obj.maxParticipants = Math.round(message.maxParticipants));\r\n    message.creationTime !== undefined && (obj.creationTime = Math.round(message.creationTime));\r\n    message.turnPassword !== undefined && (obj.turnPassword = message.turnPassword);\r\n    if (message.enabledCodecs) {\r\n      obj.enabledCodecs = message.enabledCodecs.map((e) => e ? Codec.toJSON(e) : undefined);\r\n    } else {\r\n      obj.enabledCodecs = [];\r\n    }\r\n    message.metadata !== undefined && (obj.metadata = message.metadata);\r\n    message.numParticipants !== undefined && (obj.numParticipants = Math.round(message.numParticipants));\r\n    message.numPublishers !== undefined && (obj.numPublishers = Math.round(message.numPublishers));\r\n    message.activeRecording !== undefined && (obj.activeRecording = message.activeRecording);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<Room>, I>>(base?: I): Room {\r\n    return Room.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<Room>, I>>(object: I): Room {\r\n    const message = createBaseRoom();\r\n    message.sid = object.sid ?? \"\";\r\n    message.name = object.name ?? \"\";\r\n    message.emptyTimeout = object.emptyTimeout ?? 0;\r\n    message.maxParticipants = object.maxParticipants ?? 0;\r\n    message.creationTime = object.creationTime ?? 0;\r\n    message.turnPassword = object.turnPassword ?? \"\";\r\n    message.enabledCodecs = object.enabledCodecs?.map((e) => Codec.fromPartial(e)) || [];\r\n    message.metadata = object.metadata ?? \"\";\r\n    message.numParticipants = object.numParticipants ?? 0;\r\n    message.numPublishers = object.numPublishers ?? 0;\r\n    message.activeRecording = object.activeRecording ?? false;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseCodec(): Codec {\r\n  return { mime: \"\", fmtpLine: \"\" };\r\n}\r\n\r\nexport const Codec = {\r\n  encode(message: Codec, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.mime !== \"\") {\r\n      writer.uint32(10).string(message.mime);\r\n    }\r\n    if (message.fmtpLine !== \"\") {\r\n      writer.uint32(18).string(message.fmtpLine);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): Codec {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseCodec();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.mime = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.fmtpLine = reader.string();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): Codec {\r\n    return {\r\n      mime: isSet(object.mime) ? String(object.mime) : \"\",\r\n      fmtpLine: isSet(object.fmtpLine) ? String(object.fmtpLine) : \"\",\r\n    };\r\n  },\r\n\r\n  toJSON(message: Codec): unknown {\r\n    const obj: any = {};\r\n    message.mime !== undefined && (obj.mime = message.mime);\r\n    message.fmtpLine !== undefined && (obj.fmtpLine = message.fmtpLine);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<Codec>, I>>(base?: I): Codec {\r\n    return Codec.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<Codec>, I>>(object: I): Codec {\r\n    const message = createBaseCodec();\r\n    message.mime = object.mime ?? \"\";\r\n    message.fmtpLine = object.fmtpLine ?? \"\";\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseParticipantPermission(): ParticipantPermission {\r\n  return {\r\n    canSubscribe: false,\r\n    canPublish: false,\r\n    canPublishData: false,\r\n    canPublishSources: [],\r\n    hidden: false,\r\n    recorder: false,\r\n    canUpdateMetadata: false,\r\n  };\r\n}\r\n\r\nexport const ParticipantPermission = {\r\n  encode(message: ParticipantPermission, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.canSubscribe === true) {\r\n      writer.uint32(8).bool(message.canSubscribe);\r\n    }\r\n    if (message.canPublish === true) {\r\n      writer.uint32(16).bool(message.canPublish);\r\n    }\r\n    if (message.canPublishData === true) {\r\n      writer.uint32(24).bool(message.canPublishData);\r\n    }\r\n    writer.uint32(74).fork();\r\n    for (const v of message.canPublishSources) {\r\n      writer.int32(v);\r\n    }\r\n    writer.ldelim();\r\n    if (message.hidden === true) {\r\n      writer.uint32(56).bool(message.hidden);\r\n    }\r\n    if (message.recorder === true) {\r\n      writer.uint32(64).bool(message.recorder);\r\n    }\r\n    if (message.canUpdateMetadata === true) {\r\n      writer.uint32(80).bool(message.canUpdateMetadata);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): ParticipantPermission {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseParticipantPermission();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 8) {\r\n            break;\r\n          }\r\n\r\n          message.canSubscribe = reader.bool();\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.canPublish = reader.bool();\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.canPublishData = reader.bool();\r\n          continue;\r\n        case 9:\r\n          if (tag == 72) {\r\n            message.canPublishSources.push(reader.int32() as any);\r\n            continue;\r\n          }\r\n\r\n          if (tag == 74) {\r\n            const end2 = reader.uint32() + reader.pos;\r\n            while (reader.pos < end2) {\r\n              message.canPublishSources.push(reader.int32() as any);\r\n            }\r\n\r\n            continue;\r\n          }\r\n\r\n          break;\r\n        case 7:\r\n          if (tag != 56) {\r\n            break;\r\n          }\r\n\r\n          message.hidden = reader.bool();\r\n          continue;\r\n        case 8:\r\n          if (tag != 64) {\r\n            break;\r\n          }\r\n\r\n          message.recorder = reader.bool();\r\n          continue;\r\n        case 10:\r\n          if (tag != 80) {\r\n            break;\r\n          }\r\n\r\n          message.canUpdateMetadata = reader.bool();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): ParticipantPermission {\r\n    return {\r\n      canSubscribe: isSet(object.canSubscribe) ? Boolean(object.canSubscribe) : false,\r\n      canPublish: isSet(object.canPublish) ? Boolean(object.canPublish) : false,\r\n      canPublishData: isSet(object.canPublishData) ? Boolean(object.canPublishData) : false,\r\n      canPublishSources: Array.isArray(object?.canPublishSources)\r\n        ? object.canPublishSources.map((e: any) => trackSourceFromJSON(e))\r\n        : [],\r\n      hidden: isSet(object.hidden) ? Boolean(object.hidden) : false,\r\n      recorder: isSet(object.recorder) ? Boolean(object.recorder) : false,\r\n      canUpdateMetadata: isSet(object.canUpdateMetadata) ? Boolean(object.canUpdateMetadata) : false,\r\n    };\r\n  },\r\n\r\n  toJSON(message: ParticipantPermission): unknown {\r\n    const obj: any = {};\r\n    message.canSubscribe !== undefined && (obj.canSubscribe = message.canSubscribe);\r\n    message.canPublish !== undefined && (obj.canPublish = message.canPublish);\r\n    message.canPublishData !== undefined && (obj.canPublishData = message.canPublishData);\r\n    if (message.canPublishSources) {\r\n      obj.canPublishSources = message.canPublishSources.map((e) => trackSourceToJSON(e));\r\n    } else {\r\n      obj.canPublishSources = [];\r\n    }\r\n    message.hidden !== undefined && (obj.hidden = message.hidden);\r\n    message.recorder !== undefined && (obj.recorder = message.recorder);\r\n    message.canUpdateMetadata !== undefined && (obj.canUpdateMetadata = message.canUpdateMetadata);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<ParticipantPermission>, I>>(base?: I): ParticipantPermission {\r\n    return ParticipantPermission.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<ParticipantPermission>, I>>(object: I): ParticipantPermission {\r\n    const message = createBaseParticipantPermission();\r\n    message.canSubscribe = object.canSubscribe ?? false;\r\n    message.canPublish = object.canPublish ?? false;\r\n    message.canPublishData = object.canPublishData ?? false;\r\n    message.canPublishSources = object.canPublishSources?.map((e) => e) || [];\r\n    message.hidden = object.hidden ?? false;\r\n    message.recorder = object.recorder ?? false;\r\n    message.canUpdateMetadata = object.canUpdateMetadata ?? false;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseParticipantInfo(): ParticipantInfo {\r\n  return {\r\n    sid: \"\",\r\n    identity: \"\",\r\n    state: 0,\r\n    tracks: [],\r\n    metadata: \"\",\r\n    joinedAt: 0,\r\n    name: \"\",\r\n    version: 0,\r\n    permission: undefined,\r\n    region: \"\",\r\n    isPublisher: false,\r\n  };\r\n}\r\n\r\nexport const ParticipantInfo = {\r\n  encode(message: ParticipantInfo, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.sid !== \"\") {\r\n      writer.uint32(10).string(message.sid);\r\n    }\r\n    if (message.identity !== \"\") {\r\n      writer.uint32(18).string(message.identity);\r\n    }\r\n    if (message.state !== 0) {\r\n      writer.uint32(24).int32(message.state);\r\n    }\r\n    for (const v of message.tracks) {\r\n      TrackInfo.encode(v!, writer.uint32(34).fork()).ldelim();\r\n    }\r\n    if (message.metadata !== \"\") {\r\n      writer.uint32(42).string(message.metadata);\r\n    }\r\n    if (message.joinedAt !== 0) {\r\n      writer.uint32(48).int64(message.joinedAt);\r\n    }\r\n    if (message.name !== \"\") {\r\n      writer.uint32(74).string(message.name);\r\n    }\r\n    if (message.version !== 0) {\r\n      writer.uint32(80).uint32(message.version);\r\n    }\r\n    if (message.permission !== undefined) {\r\n      ParticipantPermission.encode(message.permission, writer.uint32(90).fork()).ldelim();\r\n    }\r\n    if (message.region !== \"\") {\r\n      writer.uint32(98).string(message.region);\r\n    }\r\n    if (message.isPublisher === true) {\r\n      writer.uint32(104).bool(message.isPublisher);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): ParticipantInfo {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseParticipantInfo();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.sid = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.identity = reader.string();\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.state = reader.int32() as any;\r\n          continue;\r\n        case 4:\r\n          if (tag != 34) {\r\n            break;\r\n          }\r\n\r\n          message.tracks.push(TrackInfo.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 5:\r\n          if (tag != 42) {\r\n            break;\r\n          }\r\n\r\n          message.metadata = reader.string();\r\n          continue;\r\n        case 6:\r\n          if (tag != 48) {\r\n            break;\r\n          }\r\n\r\n          message.joinedAt = longToNumber(reader.int64() as Long);\r\n          continue;\r\n        case 9:\r\n          if (tag != 74) {\r\n            break;\r\n          }\r\n\r\n          message.name = reader.string();\r\n          continue;\r\n        case 10:\r\n          if (tag != 80) {\r\n            break;\r\n          }\r\n\r\n          message.version = reader.uint32();\r\n          continue;\r\n        case 11:\r\n          if (tag != 90) {\r\n            break;\r\n          }\r\n\r\n          message.permission = ParticipantPermission.decode(reader, reader.uint32());\r\n          continue;\r\n        case 12:\r\n          if (tag != 98) {\r\n            break;\r\n          }\r\n\r\n          message.region = reader.string();\r\n          continue;\r\n        case 13:\r\n          if (tag != 104) {\r\n            break;\r\n          }\r\n\r\n          message.isPublisher = reader.bool();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): ParticipantInfo {\r\n    return {\r\n      sid: isSet(object.sid) ? String(object.sid) : \"\",\r\n      identity: isSet(object.identity) ? String(object.identity) : \"\",\r\n      state: isSet(object.state) ? participantInfo_StateFromJSON(object.state) : 0,\r\n      tracks: Array.isArray(object?.tracks) ? object.tracks.map((e: any) => TrackInfo.fromJSON(e)) : [],\r\n      metadata: isSet(object.metadata) ? String(object.metadata) : \"\",\r\n      joinedAt: isSet(object.joinedAt) ? Number(object.joinedAt) : 0,\r\n      name: isSet(object.name) ? String(object.name) : \"\",\r\n      version: isSet(object.version) ? Number(object.version) : 0,\r\n      permission: isSet(object.permission) ? ParticipantPermission.fromJSON(object.permission) : undefined,\r\n      region: isSet(object.region) ? String(object.region) : \"\",\r\n      isPublisher: isSet(object.isPublisher) ? Boolean(object.isPublisher) : false,\r\n    };\r\n  },\r\n\r\n  toJSON(message: ParticipantInfo): unknown {\r\n    const obj: any = {};\r\n    message.sid !== undefined && (obj.sid = message.sid);\r\n    message.identity !== undefined && (obj.identity = message.identity);\r\n    message.state !== undefined && (obj.state = participantInfo_StateToJSON(message.state));\r\n    if (message.tracks) {\r\n      obj.tracks = message.tracks.map((e) => e ? TrackInfo.toJSON(e) : undefined);\r\n    } else {\r\n      obj.tracks = [];\r\n    }\r\n    message.metadata !== undefined && (obj.metadata = message.metadata);\r\n    message.joinedAt !== undefined && (obj.joinedAt = Math.round(message.joinedAt));\r\n    message.name !== undefined && (obj.name = message.name);\r\n    message.version !== undefined && (obj.version = Math.round(message.version));\r\n    message.permission !== undefined &&\r\n      (obj.permission = message.permission ? ParticipantPermission.toJSON(message.permission) : undefined);\r\n    message.region !== undefined && (obj.region = message.region);\r\n    message.isPublisher !== undefined && (obj.isPublisher = message.isPublisher);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<ParticipantInfo>, I>>(base?: I): ParticipantInfo {\r\n    return ParticipantInfo.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<ParticipantInfo>, I>>(object: I): ParticipantInfo {\r\n    const message = createBaseParticipantInfo();\r\n    message.sid = object.sid ?? \"\";\r\n    message.identity = object.identity ?? \"\";\r\n    message.state = object.state ?? 0;\r\n    message.tracks = object.tracks?.map((e) => TrackInfo.fromPartial(e)) || [];\r\n    message.metadata = object.metadata ?? \"\";\r\n    message.joinedAt = object.joinedAt ?? 0;\r\n    message.name = object.name ?? \"\";\r\n    message.version = object.version ?? 0;\r\n    message.permission = (object.permission !== undefined && object.permission !== null)\r\n      ? ParticipantPermission.fromPartial(object.permission)\r\n      : undefined;\r\n    message.region = object.region ?? \"\";\r\n    message.isPublisher = object.isPublisher ?? false;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseEncryption(): Encryption {\r\n  return {};\r\n}\r\n\r\nexport const Encryption = {\r\n  encode(_: Encryption, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): Encryption {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseEncryption();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(_: any): Encryption {\r\n    return {};\r\n  },\r\n\r\n  toJSON(_: Encryption): unknown {\r\n    const obj: any = {};\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<Encryption>, I>>(base?: I): Encryption {\r\n    return Encryption.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<Encryption>, I>>(_: I): Encryption {\r\n    const message = createBaseEncryption();\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseSimulcastCodecInfo(): SimulcastCodecInfo {\r\n  return { mimeType: \"\", mid: \"\", cid: \"\", layers: [] };\r\n}\r\n\r\nexport const SimulcastCodecInfo = {\r\n  encode(message: SimulcastCodecInfo, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.mimeType !== \"\") {\r\n      writer.uint32(10).string(message.mimeType);\r\n    }\r\n    if (message.mid !== \"\") {\r\n      writer.uint32(18).string(message.mid);\r\n    }\r\n    if (message.cid !== \"\") {\r\n      writer.uint32(26).string(message.cid);\r\n    }\r\n    for (const v of message.layers) {\r\n      VideoLayer.encode(v!, writer.uint32(34).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): SimulcastCodecInfo {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseSimulcastCodecInfo();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.mimeType = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.mid = reader.string();\r\n          continue;\r\n        case 3:\r\n          if (tag != 26) {\r\n            break;\r\n          }\r\n\r\n          message.cid = reader.string();\r\n          continue;\r\n        case 4:\r\n          if (tag != 34) {\r\n            break;\r\n          }\r\n\r\n          message.layers.push(VideoLayer.decode(reader, reader.uint32()));\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): SimulcastCodecInfo {\r\n    return {\r\n      mimeType: isSet(object.mimeType) ? String(object.mimeType) : \"\",\r\n      mid: isSet(object.mid) ? String(object.mid) : \"\",\r\n      cid: isSet(object.cid) ? String(object.cid) : \"\",\r\n      layers: Array.isArray(object?.layers) ? object.layers.map((e: any) => VideoLayer.fromJSON(e)) : [],\r\n    };\r\n  },\r\n\r\n  toJSON(message: SimulcastCodecInfo): unknown {\r\n    const obj: any = {};\r\n    message.mimeType !== undefined && (obj.mimeType = message.mimeType);\r\n    message.mid !== undefined && (obj.mid = message.mid);\r\n    message.cid !== undefined && (obj.cid = message.cid);\r\n    if (message.layers) {\r\n      obj.layers = message.layers.map((e) => e ? VideoLayer.toJSON(e) : undefined);\r\n    } else {\r\n      obj.layers = [];\r\n    }\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<SimulcastCodecInfo>, I>>(base?: I): SimulcastCodecInfo {\r\n    return SimulcastCodecInfo.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<SimulcastCodecInfo>, I>>(object: I): SimulcastCodecInfo {\r\n    const message = createBaseSimulcastCodecInfo();\r\n    message.mimeType = object.mimeType ?? \"\";\r\n    message.mid = object.mid ?? \"\";\r\n    message.cid = object.cid ?? \"\";\r\n    message.layers = object.layers?.map((e) => VideoLayer.fromPartial(e)) || [];\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseTrackInfo(): TrackInfo {\r\n  return {\r\n    sid: \"\",\r\n    type: 0,\r\n    name: \"\",\r\n    muted: false,\r\n    width: 0,\r\n    height: 0,\r\n    simulcast: false,\r\n    disableDtx: false,\r\n    source: 0,\r\n    layers: [],\r\n    mimeType: \"\",\r\n    mid: \"\",\r\n    codecs: [],\r\n    stereo: false,\r\n    disableRed: false,\r\n    encryption: 0,\r\n  };\r\n}\r\n\r\nexport const TrackInfo = {\r\n  encode(message: TrackInfo, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.sid !== \"\") {\r\n      writer.uint32(10).string(message.sid);\r\n    }\r\n    if (message.type !== 0) {\r\n      writer.uint32(16).int32(message.type);\r\n    }\r\n    if (message.name !== \"\") {\r\n      writer.uint32(26).string(message.name);\r\n    }\r\n    if (message.muted === true) {\r\n      writer.uint32(32).bool(message.muted);\r\n    }\r\n    if (message.width !== 0) {\r\n      writer.uint32(40).uint32(message.width);\r\n    }\r\n    if (message.height !== 0) {\r\n      writer.uint32(48).uint32(message.height);\r\n    }\r\n    if (message.simulcast === true) {\r\n      writer.uint32(56).bool(message.simulcast);\r\n    }\r\n    if (message.disableDtx === true) {\r\n      writer.uint32(64).bool(message.disableDtx);\r\n    }\r\n    if (message.source !== 0) {\r\n      writer.uint32(72).int32(message.source);\r\n    }\r\n    for (const v of message.layers) {\r\n      VideoLayer.encode(v!, writer.uint32(82).fork()).ldelim();\r\n    }\r\n    if (message.mimeType !== \"\") {\r\n      writer.uint32(90).string(message.mimeType);\r\n    }\r\n    if (message.mid !== \"\") {\r\n      writer.uint32(98).string(message.mid);\r\n    }\r\n    for (const v of message.codecs) {\r\n      SimulcastCodecInfo.encode(v!, writer.uint32(106).fork()).ldelim();\r\n    }\r\n    if (message.stereo === true) {\r\n      writer.uint32(112).bool(message.stereo);\r\n    }\r\n    if (message.disableRed === true) {\r\n      writer.uint32(120).bool(message.disableRed);\r\n    }\r\n    if (message.encryption !== 0) {\r\n      writer.uint32(128).int32(message.encryption);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): TrackInfo {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseTrackInfo();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.sid = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.type = reader.int32() as any;\r\n          continue;\r\n        case 3:\r\n          if (tag != 26) {\r\n            break;\r\n          }\r\n\r\n          message.name = reader.string();\r\n          continue;\r\n        case 4:\r\n          if (tag != 32) {\r\n            break;\r\n          }\r\n\r\n          message.muted = reader.bool();\r\n          continue;\r\n        case 5:\r\n          if (tag != 40) {\r\n            break;\r\n          }\r\n\r\n          message.width = reader.uint32();\r\n          continue;\r\n        case 6:\r\n          if (tag != 48) {\r\n            break;\r\n          }\r\n\r\n          message.height = reader.uint32();\r\n          continue;\r\n        case 7:\r\n          if (tag != 56) {\r\n            break;\r\n          }\r\n\r\n          message.simulcast = reader.bool();\r\n          continue;\r\n        case 8:\r\n          if (tag != 64) {\r\n            break;\r\n          }\r\n\r\n          message.disableDtx = reader.bool();\r\n          continue;\r\n        case 9:\r\n          if (tag != 72) {\r\n            break;\r\n          }\r\n\r\n          message.source = reader.int32() as any;\r\n          continue;\r\n        case 10:\r\n          if (tag != 82) {\r\n            break;\r\n          }\r\n\r\n          message.layers.push(VideoLayer.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 11:\r\n          if (tag != 90) {\r\n            break;\r\n          }\r\n\r\n          message.mimeType = reader.string();\r\n          continue;\r\n        case 12:\r\n          if (tag != 98) {\r\n            break;\r\n          }\r\n\r\n          message.mid = reader.string();\r\n          continue;\r\n        case 13:\r\n          if (tag != 106) {\r\n            break;\r\n          }\r\n\r\n          message.codecs.push(SimulcastCodecInfo.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 14:\r\n          if (tag != 112) {\r\n            break;\r\n          }\r\n\r\n          message.stereo = reader.bool();\r\n          continue;\r\n        case 15:\r\n          if (tag != 120) {\r\n            break;\r\n          }\r\n\r\n          message.disableRed = reader.bool();\r\n          continue;\r\n        case 16:\r\n          if (tag != 128) {\r\n            break;\r\n          }\r\n\r\n          message.encryption = reader.int32() as any;\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): TrackInfo {\r\n    return {\r\n      sid: isSet(object.sid) ? String(object.sid) : \"\",\r\n      type: isSet(object.type) ? trackTypeFromJSON(object.type) : 0,\r\n      name: isSet(object.name) ? String(object.name) : \"\",\r\n      muted: isSet(object.muted) ? Boolean(object.muted) : false,\r\n      width: isSet(object.width) ? Number(object.width) : 0,\r\n      height: isSet(object.height) ? Number(object.height) : 0,\r\n      simulcast: isSet(object.simulcast) ? Boolean(object.simulcast) : false,\r\n      disableDtx: isSet(object.disableDtx) ? Boolean(object.disableDtx) : false,\r\n      source: isSet(object.source) ? trackSourceFromJSON(object.source) : 0,\r\n      layers: Array.isArray(object?.layers) ? object.layers.map((e: any) => VideoLayer.fromJSON(e)) : [],\r\n      mimeType: isSet(object.mimeType) ? String(object.mimeType) : \"\",\r\n      mid: isSet(object.mid) ? String(object.mid) : \"\",\r\n      codecs: Array.isArray(object?.codecs) ? object.codecs.map((e: any) => SimulcastCodecInfo.fromJSON(e)) : [],\r\n      stereo: isSet(object.stereo) ? Boolean(object.stereo) : false,\r\n      disableRed: isSet(object.disableRed) ? Boolean(object.disableRed) : false,\r\n      encryption: isSet(object.encryption) ? encryption_TypeFromJSON(object.encryption) : 0,\r\n    };\r\n  },\r\n\r\n  toJSON(message: TrackInfo): unknown {\r\n    const obj: any = {};\r\n    message.sid !== undefined && (obj.sid = message.sid);\r\n    message.type !== undefined && (obj.type = trackTypeToJSON(message.type));\r\n    message.name !== undefined && (obj.name = message.name);\r\n    message.muted !== undefined && (obj.muted = message.muted);\r\n    message.width !== undefined && (obj.width = Math.round(message.width));\r\n    message.height !== undefined && (obj.height = Math.round(message.height));\r\n    message.simulcast !== undefined && (obj.simulcast = message.simulcast);\r\n    message.disableDtx !== undefined && (obj.disableDtx = message.disableDtx);\r\n    message.source !== undefined && (obj.source = trackSourceToJSON(message.source));\r\n    if (message.layers) {\r\n      obj.layers = message.layers.map((e) => e ? VideoLayer.toJSON(e) : undefined);\r\n    } else {\r\n      obj.layers = [];\r\n    }\r\n    message.mimeType !== undefined && (obj.mimeType = message.mimeType);\r\n    message.mid !== undefined && (obj.mid = message.mid);\r\n    if (message.codecs) {\r\n      obj.codecs = message.codecs.map((e) => e ? SimulcastCodecInfo.toJSON(e) : undefined);\r\n    } else {\r\n      obj.codecs = [];\r\n    }\r\n    message.stereo !== undefined && (obj.stereo = message.stereo);\r\n    message.disableRed !== undefined && (obj.disableRed = message.disableRed);\r\n    message.encryption !== undefined && (obj.encryption = encryption_TypeToJSON(message.encryption));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<TrackInfo>, I>>(base?: I): TrackInfo {\r\n    return TrackInfo.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<TrackInfo>, I>>(object: I): TrackInfo {\r\n    const message = createBaseTrackInfo();\r\n    message.sid = object.sid ?? \"\";\r\n    message.type = object.type ?? 0;\r\n    message.name = object.name ?? \"\";\r\n    message.muted = object.muted ?? false;\r\n    message.width = object.width ?? 0;\r\n    message.height = object.height ?? 0;\r\n    message.simulcast = object.simulcast ?? false;\r\n    message.disableDtx = object.disableDtx ?? false;\r\n    message.source = object.source ?? 0;\r\n    message.layers = object.layers?.map((e) => VideoLayer.fromPartial(e)) || [];\r\n    message.mimeType = object.mimeType ?? \"\";\r\n    message.mid = object.mid ?? \"\";\r\n    message.codecs = object.codecs?.map((e) => SimulcastCodecInfo.fromPartial(e)) || [];\r\n    message.stereo = object.stereo ?? false;\r\n    message.disableRed = object.disableRed ?? false;\r\n    message.encryption = object.encryption ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseVideoLayer(): VideoLayer {\r\n  return { quality: 0, width: 0, height: 0, bitrate: 0, ssrc: 0 };\r\n}\r\n\r\nexport const VideoLayer = {\r\n  encode(message: VideoLayer, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.quality !== 0) {\r\n      writer.uint32(8).int32(message.quality);\r\n    }\r\n    if (message.width !== 0) {\r\n      writer.uint32(16).uint32(message.width);\r\n    }\r\n    if (message.height !== 0) {\r\n      writer.uint32(24).uint32(message.height);\r\n    }\r\n    if (message.bitrate !== 0) {\r\n      writer.uint32(32).uint32(message.bitrate);\r\n    }\r\n    if (message.ssrc !== 0) {\r\n      writer.uint32(40).uint32(message.ssrc);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): VideoLayer {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseVideoLayer();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 8) {\r\n            break;\r\n          }\r\n\r\n          message.quality = reader.int32() as any;\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.width = reader.uint32();\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.height = reader.uint32();\r\n          continue;\r\n        case 4:\r\n          if (tag != 32) {\r\n            break;\r\n          }\r\n\r\n          message.bitrate = reader.uint32();\r\n          continue;\r\n        case 5:\r\n          if (tag != 40) {\r\n            break;\r\n          }\r\n\r\n          message.ssrc = reader.uint32();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): VideoLayer {\r\n    return {\r\n      quality: isSet(object.quality) ? videoQualityFromJSON(object.quality) : 0,\r\n      width: isSet(object.width) ? Number(object.width) : 0,\r\n      height: isSet(object.height) ? Number(object.height) : 0,\r\n      bitrate: isSet(object.bitrate) ? Number(object.bitrate) : 0,\r\n      ssrc: isSet(object.ssrc) ? Number(object.ssrc) : 0,\r\n    };\r\n  },\r\n\r\n  toJSON(message: VideoLayer): unknown {\r\n    const obj: any = {};\r\n    message.quality !== undefined && (obj.quality = videoQualityToJSON(message.quality));\r\n    message.width !== undefined && (obj.width = Math.round(message.width));\r\n    message.height !== undefined && (obj.height = Math.round(message.height));\r\n    message.bitrate !== undefined && (obj.bitrate = Math.round(message.bitrate));\r\n    message.ssrc !== undefined && (obj.ssrc = Math.round(message.ssrc));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<VideoLayer>, I>>(base?: I): VideoLayer {\r\n    return VideoLayer.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<VideoLayer>, I>>(object: I): VideoLayer {\r\n    const message = createBaseVideoLayer();\r\n    message.quality = object.quality ?? 0;\r\n    message.width = object.width ?? 0;\r\n    message.height = object.height ?? 0;\r\n    message.bitrate = object.bitrate ?? 0;\r\n    message.ssrc = object.ssrc ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseDataPacket(): DataPacket {\r\n  return { kind: 0, value: undefined };\r\n}\r\n\r\nexport const DataPacket = {\r\n  encode(message: DataPacket, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.kind !== 0) {\r\n      writer.uint32(8).int32(message.kind);\r\n    }\r\n    switch (message.value?.$case) {\r\n      case \"user\":\r\n        UserPacket.encode(message.value.user, writer.uint32(18).fork()).ldelim();\r\n        break;\r\n      case \"speaker\":\r\n        ActiveSpeakerUpdate.encode(message.value.speaker, writer.uint32(26).fork()).ldelim();\r\n        break;\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): DataPacket {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseDataPacket();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 8) {\r\n            break;\r\n          }\r\n\r\n          message.kind = reader.int32() as any;\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.value = { $case: \"user\", user: UserPacket.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 3:\r\n          if (tag != 26) {\r\n            break;\r\n          }\r\n\r\n          message.value = { $case: \"speaker\", speaker: ActiveSpeakerUpdate.decode(reader, reader.uint32()) };\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): DataPacket {\r\n    return {\r\n      kind: isSet(object.kind) ? dataPacket_KindFromJSON(object.kind) : 0,\r\n      value: isSet(object.user)\r\n        ? { $case: \"user\", user: UserPacket.fromJSON(object.user) }\r\n        : isSet(object.speaker)\r\n        ? { $case: \"speaker\", speaker: ActiveSpeakerUpdate.fromJSON(object.speaker) }\r\n        : undefined,\r\n    };\r\n  },\r\n\r\n  toJSON(message: DataPacket): unknown {\r\n    const obj: any = {};\r\n    message.kind !== undefined && (obj.kind = dataPacket_KindToJSON(message.kind));\r\n    message.value?.$case === \"user\" &&\r\n      (obj.user = message.value?.user ? UserPacket.toJSON(message.value?.user) : undefined);\r\n    message.value?.$case === \"speaker\" &&\r\n      (obj.speaker = message.value?.speaker ? ActiveSpeakerUpdate.toJSON(message.value?.speaker) : undefined);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<DataPacket>, I>>(base?: I): DataPacket {\r\n    return DataPacket.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<DataPacket>, I>>(object: I): DataPacket {\r\n    const message = createBaseDataPacket();\r\n    message.kind = object.kind ?? 0;\r\n    if (object.value?.$case === \"user\" && object.value?.user !== undefined && object.value?.user !== null) {\r\n      message.value = { $case: \"user\", user: UserPacket.fromPartial(object.value.user) };\r\n    }\r\n    if (object.value?.$case === \"speaker\" && object.value?.speaker !== undefined && object.value?.speaker !== null) {\r\n      message.value = { $case: \"speaker\", speaker: ActiveSpeakerUpdate.fromPartial(object.value.speaker) };\r\n    }\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseActiveSpeakerUpdate(): ActiveSpeakerUpdate {\r\n  return { speakers: [] };\r\n}\r\n\r\nexport const ActiveSpeakerUpdate = {\r\n  encode(message: ActiveSpeakerUpdate, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    for (const v of message.speakers) {\r\n      SpeakerInfo.encode(v!, writer.uint32(10).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): ActiveSpeakerUpdate {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseActiveSpeakerUpdate();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.speakers.push(SpeakerInfo.decode(reader, reader.uint32()));\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): ActiveSpeakerUpdate {\r\n    return {\r\n      speakers: Array.isArray(object?.speakers) ? object.speakers.map((e: any) => SpeakerInfo.fromJSON(e)) : [],\r\n    };\r\n  },\r\n\r\n  toJSON(message: ActiveSpeakerUpdate): unknown {\r\n    const obj: any = {};\r\n    if (message.speakers) {\r\n      obj.speakers = message.speakers.map((e) => e ? SpeakerInfo.toJSON(e) : undefined);\r\n    } else {\r\n      obj.speakers = [];\r\n    }\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<ActiveSpeakerUpdate>, I>>(base?: I): ActiveSpeakerUpdate {\r\n    return ActiveSpeakerUpdate.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<ActiveSpeakerUpdate>, I>>(object: I): ActiveSpeakerUpdate {\r\n    const message = createBaseActiveSpeakerUpdate();\r\n    message.speakers = object.speakers?.map((e) => SpeakerInfo.fromPartial(e)) || [];\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseSpeakerInfo(): SpeakerInfo {\r\n  return { sid: \"\", level: 0, active: false };\r\n}\r\n\r\nexport const SpeakerInfo = {\r\n  encode(message: SpeakerInfo, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.sid !== \"\") {\r\n      writer.uint32(10).string(message.sid);\r\n    }\r\n    if (message.level !== 0) {\r\n      writer.uint32(21).float(message.level);\r\n    }\r\n    if (message.active === true) {\r\n      writer.uint32(24).bool(message.active);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): SpeakerInfo {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseSpeakerInfo();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.sid = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 21) {\r\n            break;\r\n          }\r\n\r\n          message.level = reader.float();\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.active = reader.bool();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): SpeakerInfo {\r\n    return {\r\n      sid: isSet(object.sid) ? String(object.sid) : \"\",\r\n      level: isSet(object.level) ? Number(object.level) : 0,\r\n      active: isSet(object.active) ? Boolean(object.active) : false,\r\n    };\r\n  },\r\n\r\n  toJSON(message: SpeakerInfo): unknown {\r\n    const obj: any = {};\r\n    message.sid !== undefined && (obj.sid = message.sid);\r\n    message.level !== undefined && (obj.level = message.level);\r\n    message.active !== undefined && (obj.active = message.active);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<SpeakerInfo>, I>>(base?: I): SpeakerInfo {\r\n    return SpeakerInfo.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<SpeakerInfo>, I>>(object: I): SpeakerInfo {\r\n    const message = createBaseSpeakerInfo();\r\n    message.sid = object.sid ?? \"\";\r\n    message.level = object.level ?? 0;\r\n    message.active = object.active ?? false;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseUserPacket(): UserPacket {\r\n  return { participantSid: \"\", payload: new Uint8Array(), destinationSids: [], topic: undefined };\r\n}\r\n\r\nexport const UserPacket = {\r\n  encode(message: UserPacket, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.participantSid !== \"\") {\r\n      writer.uint32(10).string(message.participantSid);\r\n    }\r\n    if (message.payload.length !== 0) {\r\n      writer.uint32(18).bytes(message.payload);\r\n    }\r\n    for (const v of message.destinationSids) {\r\n      writer.uint32(26).string(v!);\r\n    }\r\n    if (message.topic !== undefined) {\r\n      writer.uint32(34).string(message.topic);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): UserPacket {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseUserPacket();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.participantSid = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.payload = reader.bytes();\r\n          continue;\r\n        case 3:\r\n          if (tag != 26) {\r\n            break;\r\n          }\r\n\r\n          message.destinationSids.push(reader.string());\r\n          continue;\r\n        case 4:\r\n          if (tag != 34) {\r\n            break;\r\n          }\r\n\r\n          message.topic = reader.string();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): UserPacket {\r\n    return {\r\n      participantSid: isSet(object.participantSid) ? String(object.participantSid) : \"\",\r\n      payload: isSet(object.payload) ? bytesFromBase64(object.payload) : new Uint8Array(),\r\n      destinationSids: Array.isArray(object?.destinationSids) ? object.destinationSids.map((e: any) => String(e)) : [],\r\n      topic: isSet(object.topic) ? String(object.topic) : undefined,\r\n    };\r\n  },\r\n\r\n  toJSON(message: UserPacket): unknown {\r\n    const obj: any = {};\r\n    message.participantSid !== undefined && (obj.participantSid = message.participantSid);\r\n    message.payload !== undefined &&\r\n      (obj.payload = base64FromBytes(message.payload !== undefined ? message.payload : new Uint8Array()));\r\n    if (message.destinationSids) {\r\n      obj.destinationSids = message.destinationSids.map((e) => e);\r\n    } else {\r\n      obj.destinationSids = [];\r\n    }\r\n    message.topic !== undefined && (obj.topic = message.topic);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<UserPacket>, I>>(base?: I): UserPacket {\r\n    return UserPacket.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<UserPacket>, I>>(object: I): UserPacket {\r\n    const message = createBaseUserPacket();\r\n    message.participantSid = object.participantSid ?? \"\";\r\n    message.payload = object.payload ?? new Uint8Array();\r\n    message.destinationSids = object.destinationSids?.map((e) => e) || [];\r\n    message.topic = object.topic ?? undefined;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseParticipantTracks(): ParticipantTracks {\r\n  return { participantSid: \"\", trackSids: [] };\r\n}\r\n\r\nexport const ParticipantTracks = {\r\n  encode(message: ParticipantTracks, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.participantSid !== \"\") {\r\n      writer.uint32(10).string(message.participantSid);\r\n    }\r\n    for (const v of message.trackSids) {\r\n      writer.uint32(18).string(v!);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): ParticipantTracks {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseParticipantTracks();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.participantSid = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.trackSids.push(reader.string());\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): ParticipantTracks {\r\n    return {\r\n      participantSid: isSet(object.participantSid) ? String(object.participantSid) : \"\",\r\n      trackSids: Array.isArray(object?.trackSids) ? object.trackSids.map((e: any) => String(e)) : [],\r\n    };\r\n  },\r\n\r\n  toJSON(message: ParticipantTracks): unknown {\r\n    const obj: any = {};\r\n    message.participantSid !== undefined && (obj.participantSid = message.participantSid);\r\n    if (message.trackSids) {\r\n      obj.trackSids = message.trackSids.map((e) => e);\r\n    } else {\r\n      obj.trackSids = [];\r\n    }\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<ParticipantTracks>, I>>(base?: I): ParticipantTracks {\r\n    return ParticipantTracks.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<ParticipantTracks>, I>>(object: I): ParticipantTracks {\r\n    const message = createBaseParticipantTracks();\r\n    message.participantSid = object.participantSid ?? \"\";\r\n    message.trackSids = object.trackSids?.map((e) => e) || [];\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseServerInfo(): ServerInfo {\r\n  return { edition: 0, version: \"\", protocol: 0, region: \"\", nodeId: \"\", debugInfo: \"\" };\r\n}\r\n\r\nexport const ServerInfo = {\r\n  encode(message: ServerInfo, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.edition !== 0) {\r\n      writer.uint32(8).int32(message.edition);\r\n    }\r\n    if (message.version !== \"\") {\r\n      writer.uint32(18).string(message.version);\r\n    }\r\n    if (message.protocol !== 0) {\r\n      writer.uint32(24).int32(message.protocol);\r\n    }\r\n    if (message.region !== \"\") {\r\n      writer.uint32(34).string(message.region);\r\n    }\r\n    if (message.nodeId !== \"\") {\r\n      writer.uint32(42).string(message.nodeId);\r\n    }\r\n    if (message.debugInfo !== \"\") {\r\n      writer.uint32(50).string(message.debugInfo);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): ServerInfo {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseServerInfo();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 8) {\r\n            break;\r\n          }\r\n\r\n          message.edition = reader.int32() as any;\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.version = reader.string();\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.protocol = reader.int32();\r\n          continue;\r\n        case 4:\r\n          if (tag != 34) {\r\n            break;\r\n          }\r\n\r\n          message.region = reader.string();\r\n          continue;\r\n        case 5:\r\n          if (tag != 42) {\r\n            break;\r\n          }\r\n\r\n          message.nodeId = reader.string();\r\n          continue;\r\n        case 6:\r\n          if (tag != 50) {\r\n            break;\r\n          }\r\n\r\n          message.debugInfo = reader.string();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): ServerInfo {\r\n    return {\r\n      edition: isSet(object.edition) ? serverInfo_EditionFromJSON(object.edition) : 0,\r\n      version: isSet(object.version) ? String(object.version) : \"\",\r\n      protocol: isSet(object.protocol) ? Number(object.protocol) : 0,\r\n      region: isSet(object.region) ? String(object.region) : \"\",\r\n      nodeId: isSet(object.nodeId) ? String(object.nodeId) : \"\",\r\n      debugInfo: isSet(object.debugInfo) ? String(object.debugInfo) : \"\",\r\n    };\r\n  },\r\n\r\n  toJSON(message: ServerInfo): unknown {\r\n    const obj: any = {};\r\n    message.edition !== undefined && (obj.edition = serverInfo_EditionToJSON(message.edition));\r\n    message.version !== undefined && (obj.version = message.version);\r\n    message.protocol !== undefined && (obj.protocol = Math.round(message.protocol));\r\n    message.region !== undefined && (obj.region = message.region);\r\n    message.nodeId !== undefined && (obj.nodeId = message.nodeId);\r\n    message.debugInfo !== undefined && (obj.debugInfo = message.debugInfo);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<ServerInfo>, I>>(base?: I): ServerInfo {\r\n    return ServerInfo.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<ServerInfo>, I>>(object: I): ServerInfo {\r\n    const message = createBaseServerInfo();\r\n    message.edition = object.edition ?? 0;\r\n    message.version = object.version ?? \"\";\r\n    message.protocol = object.protocol ?? 0;\r\n    message.region = object.region ?? \"\";\r\n    message.nodeId = object.nodeId ?? \"\";\r\n    message.debugInfo = object.debugInfo ?? \"\";\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseClientInfo(): ClientInfo {\r\n  return {\r\n    sdk: 0,\r\n    version: \"\",\r\n    protocol: 0,\r\n    os: \"\",\r\n    osVersion: \"\",\r\n    deviceModel: \"\",\r\n    browser: \"\",\r\n    browserVersion: \"\",\r\n    address: \"\",\r\n    network: \"\",\r\n  };\r\n}\r\n\r\nexport const ClientInfo = {\r\n  encode(message: ClientInfo, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.sdk !== 0) {\r\n      writer.uint32(8).int32(message.sdk);\r\n    }\r\n    if (message.version !== \"\") {\r\n      writer.uint32(18).string(message.version);\r\n    }\r\n    if (message.protocol !== 0) {\r\n      writer.uint32(24).int32(message.protocol);\r\n    }\r\n    if (message.os !== \"\") {\r\n      writer.uint32(34).string(message.os);\r\n    }\r\n    if (message.osVersion !== \"\") {\r\n      writer.uint32(42).string(message.osVersion);\r\n    }\r\n    if (message.deviceModel !== \"\") {\r\n      writer.uint32(50).string(message.deviceModel);\r\n    }\r\n    if (message.browser !== \"\") {\r\n      writer.uint32(58).string(message.browser);\r\n    }\r\n    if (message.browserVersion !== \"\") {\r\n      writer.uint32(66).string(message.browserVersion);\r\n    }\r\n    if (message.address !== \"\") {\r\n      writer.uint32(74).string(message.address);\r\n    }\r\n    if (message.network !== \"\") {\r\n      writer.uint32(82).string(message.network);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): ClientInfo {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseClientInfo();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 8) {\r\n            break;\r\n          }\r\n\r\n          message.sdk = reader.int32() as any;\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.version = reader.string();\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.protocol = reader.int32();\r\n          continue;\r\n        case 4:\r\n          if (tag != 34) {\r\n            break;\r\n          }\r\n\r\n          message.os = reader.string();\r\n          continue;\r\n        case 5:\r\n          if (tag != 42) {\r\n            break;\r\n          }\r\n\r\n          message.osVersion = reader.string();\r\n          continue;\r\n        case 6:\r\n          if (tag != 50) {\r\n            break;\r\n          }\r\n\r\n          message.deviceModel = reader.string();\r\n          continue;\r\n        case 7:\r\n          if (tag != 58) {\r\n            break;\r\n          }\r\n\r\n          message.browser = reader.string();\r\n          continue;\r\n        case 8:\r\n          if (tag != 66) {\r\n            break;\r\n          }\r\n\r\n          message.browserVersion = reader.string();\r\n          continue;\r\n        case 9:\r\n          if (tag != 74) {\r\n            break;\r\n          }\r\n\r\n          message.address = reader.string();\r\n          continue;\r\n        case 10:\r\n          if (tag != 82) {\r\n            break;\r\n          }\r\n\r\n          message.network = reader.string();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): ClientInfo {\r\n    return {\r\n      sdk: isSet(object.sdk) ? clientInfo_SDKFromJSON(object.sdk) : 0,\r\n      version: isSet(object.version) ? String(object.version) : \"\",\r\n      protocol: isSet(object.protocol) ? Number(object.protocol) : 0,\r\n      os: isSet(object.os) ? String(object.os) : \"\",\r\n      osVersion: isSet(object.osVersion) ? String(object.osVersion) : \"\",\r\n      deviceModel: isSet(object.deviceModel) ? String(object.deviceModel) : \"\",\r\n      browser: isSet(object.browser) ? String(object.browser) : \"\",\r\n      browserVersion: isSet(object.browserVersion) ? String(object.browserVersion) : \"\",\r\n      address: isSet(object.address) ? String(object.address) : \"\",\r\n      network: isSet(object.network) ? String(object.network) : \"\",\r\n    };\r\n  },\r\n\r\n  toJSON(message: ClientInfo): unknown {\r\n    const obj: any = {};\r\n    message.sdk !== undefined && (obj.sdk = clientInfo_SDKToJSON(message.sdk));\r\n    message.version !== undefined && (obj.version = message.version);\r\n    message.protocol !== undefined && (obj.protocol = Math.round(message.protocol));\r\n    message.os !== undefined && (obj.os = message.os);\r\n    message.osVersion !== undefined && (obj.osVersion = message.osVersion);\r\n    message.deviceModel !== undefined && (obj.deviceModel = message.deviceModel);\r\n    message.browser !== undefined && (obj.browser = message.browser);\r\n    message.browserVersion !== undefined && (obj.browserVersion = message.browserVersion);\r\n    message.address !== undefined && (obj.address = message.address);\r\n    message.network !== undefined && (obj.network = message.network);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<ClientInfo>, I>>(base?: I): ClientInfo {\r\n    return ClientInfo.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<ClientInfo>, I>>(object: I): ClientInfo {\r\n    const message = createBaseClientInfo();\r\n    message.sdk = object.sdk ?? 0;\r\n    message.version = object.version ?? \"\";\r\n    message.protocol = object.protocol ?? 0;\r\n    message.os = object.os ?? \"\";\r\n    message.osVersion = object.osVersion ?? \"\";\r\n    message.deviceModel = object.deviceModel ?? \"\";\r\n    message.browser = object.browser ?? \"\";\r\n    message.browserVersion = object.browserVersion ?? \"\";\r\n    message.address = object.address ?? \"\";\r\n    message.network = object.network ?? \"\";\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseClientConfiguration(): ClientConfiguration {\r\n  return { video: undefined, screen: undefined, resumeConnection: 0, disabledCodecs: undefined, forceRelay: 0 };\r\n}\r\n\r\nexport const ClientConfiguration = {\r\n  encode(message: ClientConfiguration, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.video !== undefined) {\r\n      VideoConfiguration.encode(message.video, writer.uint32(10).fork()).ldelim();\r\n    }\r\n    if (message.screen !== undefined) {\r\n      VideoConfiguration.encode(message.screen, writer.uint32(18).fork()).ldelim();\r\n    }\r\n    if (message.resumeConnection !== 0) {\r\n      writer.uint32(24).int32(message.resumeConnection);\r\n    }\r\n    if (message.disabledCodecs !== undefined) {\r\n      DisabledCodecs.encode(message.disabledCodecs, writer.uint32(34).fork()).ldelim();\r\n    }\r\n    if (message.forceRelay !== 0) {\r\n      writer.uint32(40).int32(message.forceRelay);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): ClientConfiguration {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseClientConfiguration();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.video = VideoConfiguration.decode(reader, reader.uint32());\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.screen = VideoConfiguration.decode(reader, reader.uint32());\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.resumeConnection = reader.int32() as any;\r\n          continue;\r\n        case 4:\r\n          if (tag != 34) {\r\n            break;\r\n          }\r\n\r\n          message.disabledCodecs = DisabledCodecs.decode(reader, reader.uint32());\r\n          continue;\r\n        case 5:\r\n          if (tag != 40) {\r\n            break;\r\n          }\r\n\r\n          message.forceRelay = reader.int32() as any;\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): ClientConfiguration {\r\n    return {\r\n      video: isSet(object.video) ? VideoConfiguration.fromJSON(object.video) : undefined,\r\n      screen: isSet(object.screen) ? VideoConfiguration.fromJSON(object.screen) : undefined,\r\n      resumeConnection: isSet(object.resumeConnection) ? clientConfigSettingFromJSON(object.resumeConnection) : 0,\r\n      disabledCodecs: isSet(object.disabledCodecs) ? DisabledCodecs.fromJSON(object.disabledCodecs) : undefined,\r\n      forceRelay: isSet(object.forceRelay) ? clientConfigSettingFromJSON(object.forceRelay) : 0,\r\n    };\r\n  },\r\n\r\n  toJSON(message: ClientConfiguration): unknown {\r\n    const obj: any = {};\r\n    message.video !== undefined && (obj.video = message.video ? VideoConfiguration.toJSON(message.video) : undefined);\r\n    message.screen !== undefined &&\r\n      (obj.screen = message.screen ? VideoConfiguration.toJSON(message.screen) : undefined);\r\n    message.resumeConnection !== undefined &&\r\n      (obj.resumeConnection = clientConfigSettingToJSON(message.resumeConnection));\r\n    message.disabledCodecs !== undefined &&\r\n      (obj.disabledCodecs = message.disabledCodecs ? DisabledCodecs.toJSON(message.disabledCodecs) : undefined);\r\n    message.forceRelay !== undefined && (obj.forceRelay = clientConfigSettingToJSON(message.forceRelay));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<ClientConfiguration>, I>>(base?: I): ClientConfiguration {\r\n    return ClientConfiguration.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<ClientConfiguration>, I>>(object: I): ClientConfiguration {\r\n    const message = createBaseClientConfiguration();\r\n    message.video = (object.video !== undefined && object.video !== null)\r\n      ? VideoConfiguration.fromPartial(object.video)\r\n      : undefined;\r\n    message.screen = (object.screen !== undefined && object.screen !== null)\r\n      ? VideoConfiguration.fromPartial(object.screen)\r\n      : undefined;\r\n    message.resumeConnection = object.resumeConnection ?? 0;\r\n    message.disabledCodecs = (object.disabledCodecs !== undefined && object.disabledCodecs !== null)\r\n      ? DisabledCodecs.fromPartial(object.disabledCodecs)\r\n      : undefined;\r\n    message.forceRelay = object.forceRelay ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseVideoConfiguration(): VideoConfiguration {\r\n  return { hardwareEncoder: 0 };\r\n}\r\n\r\nexport const VideoConfiguration = {\r\n  encode(message: VideoConfiguration, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.hardwareEncoder !== 0) {\r\n      writer.uint32(8).int32(message.hardwareEncoder);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): VideoConfiguration {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseVideoConfiguration();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 8) {\r\n            break;\r\n          }\r\n\r\n          message.hardwareEncoder = reader.int32() as any;\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): VideoConfiguration {\r\n    return { hardwareEncoder: isSet(object.hardwareEncoder) ? clientConfigSettingFromJSON(object.hardwareEncoder) : 0 };\r\n  },\r\n\r\n  toJSON(message: VideoConfiguration): unknown {\r\n    const obj: any = {};\r\n    message.hardwareEncoder !== undefined && (obj.hardwareEncoder = clientConfigSettingToJSON(message.hardwareEncoder));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<VideoConfiguration>, I>>(base?: I): VideoConfiguration {\r\n    return VideoConfiguration.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<VideoConfiguration>, I>>(object: I): VideoConfiguration {\r\n    const message = createBaseVideoConfiguration();\r\n    message.hardwareEncoder = object.hardwareEncoder ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseDisabledCodecs(): DisabledCodecs {\r\n  return { codecs: [] };\r\n}\r\n\r\nexport const DisabledCodecs = {\r\n  encode(message: DisabledCodecs, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    for (const v of message.codecs) {\r\n      Codec.encode(v!, writer.uint32(10).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): DisabledCodecs {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseDisabledCodecs();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.codecs.push(Codec.decode(reader, reader.uint32()));\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): DisabledCodecs {\r\n    return { codecs: Array.isArray(object?.codecs) ? object.codecs.map((e: any) => Codec.fromJSON(e)) : [] };\r\n  },\r\n\r\n  toJSON(message: DisabledCodecs): unknown {\r\n    const obj: any = {};\r\n    if (message.codecs) {\r\n      obj.codecs = message.codecs.map((e) => e ? Codec.toJSON(e) : undefined);\r\n    } else {\r\n      obj.codecs = [];\r\n    }\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<DisabledCodecs>, I>>(base?: I): DisabledCodecs {\r\n    return DisabledCodecs.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<DisabledCodecs>, I>>(object: I): DisabledCodecs {\r\n    const message = createBaseDisabledCodecs();\r\n    message.codecs = object.codecs?.map((e) => Codec.fromPartial(e)) || [];\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseRTPStats(): RTPStats {\r\n  return {\r\n    startTime: undefined,\r\n    endTime: undefined,\r\n    duration: 0,\r\n    packets: 0,\r\n    packetRate: 0,\r\n    bytes: 0,\r\n    headerBytes: 0,\r\n    bitrate: 0,\r\n    packetsLost: 0,\r\n    packetLossRate: 0,\r\n    packetLossPercentage: 0,\r\n    packetsDuplicate: 0,\r\n    packetDuplicateRate: 0,\r\n    bytesDuplicate: 0,\r\n    headerBytesDuplicate: 0,\r\n    bitrateDuplicate: 0,\r\n    packetsPadding: 0,\r\n    packetPaddingRate: 0,\r\n    bytesPadding: 0,\r\n    headerBytesPadding: 0,\r\n    bitratePadding: 0,\r\n    packetsOutOfOrder: 0,\r\n    frames: 0,\r\n    frameRate: 0,\r\n    jitterCurrent: 0,\r\n    jitterMax: 0,\r\n    gapHistogram: {},\r\n    nacks: 0,\r\n    nackAcks: 0,\r\n    nackMisses: 0,\r\n    nackRepeated: 0,\r\n    plis: 0,\r\n    lastPli: undefined,\r\n    firs: 0,\r\n    lastFir: undefined,\r\n    rttCurrent: 0,\r\n    rttMax: 0,\r\n    keyFrames: 0,\r\n    lastKeyFrame: undefined,\r\n    layerLockPlis: 0,\r\n    lastLayerLockPli: undefined,\r\n  };\r\n}\r\n\r\nexport const RTPStats = {\r\n  encode(message: RTPStats, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.startTime !== undefined) {\r\n      Timestamp.encode(toTimestamp(message.startTime), writer.uint32(10).fork()).ldelim();\r\n    }\r\n    if (message.endTime !== undefined) {\r\n      Timestamp.encode(toTimestamp(message.endTime), writer.uint32(18).fork()).ldelim();\r\n    }\r\n    if (message.duration !== 0) {\r\n      writer.uint32(25).double(message.duration);\r\n    }\r\n    if (message.packets !== 0) {\r\n      writer.uint32(32).uint32(message.packets);\r\n    }\r\n    if (message.packetRate !== 0) {\r\n      writer.uint32(41).double(message.packetRate);\r\n    }\r\n    if (message.bytes !== 0) {\r\n      writer.uint32(48).uint64(message.bytes);\r\n    }\r\n    if (message.headerBytes !== 0) {\r\n      writer.uint32(312).uint64(message.headerBytes);\r\n    }\r\n    if (message.bitrate !== 0) {\r\n      writer.uint32(57).double(message.bitrate);\r\n    }\r\n    if (message.packetsLost !== 0) {\r\n      writer.uint32(64).uint32(message.packetsLost);\r\n    }\r\n    if (message.packetLossRate !== 0) {\r\n      writer.uint32(73).double(message.packetLossRate);\r\n    }\r\n    if (message.packetLossPercentage !== 0) {\r\n      writer.uint32(85).float(message.packetLossPercentage);\r\n    }\r\n    if (message.packetsDuplicate !== 0) {\r\n      writer.uint32(88).uint32(message.packetsDuplicate);\r\n    }\r\n    if (message.packetDuplicateRate !== 0) {\r\n      writer.uint32(97).double(message.packetDuplicateRate);\r\n    }\r\n    if (message.bytesDuplicate !== 0) {\r\n      writer.uint32(104).uint64(message.bytesDuplicate);\r\n    }\r\n    if (message.headerBytesDuplicate !== 0) {\r\n      writer.uint32(320).uint64(message.headerBytesDuplicate);\r\n    }\r\n    if (message.bitrateDuplicate !== 0) {\r\n      writer.uint32(113).double(message.bitrateDuplicate);\r\n    }\r\n    if (message.packetsPadding !== 0) {\r\n      writer.uint32(120).uint32(message.packetsPadding);\r\n    }\r\n    if (message.packetPaddingRate !== 0) {\r\n      writer.uint32(129).double(message.packetPaddingRate);\r\n    }\r\n    if (message.bytesPadding !== 0) {\r\n      writer.uint32(136).uint64(message.bytesPadding);\r\n    }\r\n    if (message.headerBytesPadding !== 0) {\r\n      writer.uint32(328).uint64(message.headerBytesPadding);\r\n    }\r\n    if (message.bitratePadding !== 0) {\r\n      writer.uint32(145).double(message.bitratePadding);\r\n    }\r\n    if (message.packetsOutOfOrder !== 0) {\r\n      writer.uint32(152).uint32(message.packetsOutOfOrder);\r\n    }\r\n    if (message.frames !== 0) {\r\n      writer.uint32(160).uint32(message.frames);\r\n    }\r\n    if (message.frameRate !== 0) {\r\n      writer.uint32(169).double(message.frameRate);\r\n    }\r\n    if (message.jitterCurrent !== 0) {\r\n      writer.uint32(177).double(message.jitterCurrent);\r\n    }\r\n    if (message.jitterMax !== 0) {\r\n      writer.uint32(185).double(message.jitterMax);\r\n    }\r\n    Object.entries(message.gapHistogram).forEach(([key, value]) => {\r\n      RTPStats_GapHistogramEntry.encode({ key: key as any, value }, writer.uint32(194).fork()).ldelim();\r\n    });\r\n    if (message.nacks !== 0) {\r\n      writer.uint32(200).uint32(message.nacks);\r\n    }\r\n    if (message.nackAcks !== 0) {\r\n      writer.uint32(296).uint32(message.nackAcks);\r\n    }\r\n    if (message.nackMisses !== 0) {\r\n      writer.uint32(208).uint32(message.nackMisses);\r\n    }\r\n    if (message.nackRepeated !== 0) {\r\n      writer.uint32(304).uint32(message.nackRepeated);\r\n    }\r\n    if (message.plis !== 0) {\r\n      writer.uint32(216).uint32(message.plis);\r\n    }\r\n    if (message.lastPli !== undefined) {\r\n      Timestamp.encode(toTimestamp(message.lastPli), writer.uint32(226).fork()).ldelim();\r\n    }\r\n    if (message.firs !== 0) {\r\n      writer.uint32(232).uint32(message.firs);\r\n    }\r\n    if (message.lastFir !== undefined) {\r\n      Timestamp.encode(toTimestamp(message.lastFir), writer.uint32(242).fork()).ldelim();\r\n    }\r\n    if (message.rttCurrent !== 0) {\r\n      writer.uint32(248).uint32(message.rttCurrent);\r\n    }\r\n    if (message.rttMax !== 0) {\r\n      writer.uint32(256).uint32(message.rttMax);\r\n    }\r\n    if (message.keyFrames !== 0) {\r\n      writer.uint32(264).uint32(message.keyFrames);\r\n    }\r\n    if (message.lastKeyFrame !== undefined) {\r\n      Timestamp.encode(toTimestamp(message.lastKeyFrame), writer.uint32(274).fork()).ldelim();\r\n    }\r\n    if (message.layerLockPlis !== 0) {\r\n      writer.uint32(280).uint32(message.layerLockPlis);\r\n    }\r\n    if (message.lastLayerLockPli !== undefined) {\r\n      Timestamp.encode(toTimestamp(message.lastLayerLockPli), writer.uint32(290).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): RTPStats {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseRTPStats();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.startTime = fromTimestamp(Timestamp.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.endTime = fromTimestamp(Timestamp.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 3:\r\n          if (tag != 25) {\r\n            break;\r\n          }\r\n\r\n          message.duration = reader.double();\r\n          continue;\r\n        case 4:\r\n          if (tag != 32) {\r\n            break;\r\n          }\r\n\r\n          message.packets = reader.uint32();\r\n          continue;\r\n        case 5:\r\n          if (tag != 41) {\r\n            break;\r\n          }\r\n\r\n          message.packetRate = reader.double();\r\n          continue;\r\n        case 6:\r\n          if (tag != 48) {\r\n            break;\r\n          }\r\n\r\n          message.bytes = longToNumber(reader.uint64() as Long);\r\n          continue;\r\n        case 39:\r\n          if (tag != 312) {\r\n            break;\r\n          }\r\n\r\n          message.headerBytes = longToNumber(reader.uint64() as Long);\r\n          continue;\r\n        case 7:\r\n          if (tag != 57) {\r\n            break;\r\n          }\r\n\r\n          message.bitrate = reader.double();\r\n          continue;\r\n        case 8:\r\n          if (tag != 64) {\r\n            break;\r\n          }\r\n\r\n          message.packetsLost = reader.uint32();\r\n          continue;\r\n        case 9:\r\n          if (tag != 73) {\r\n            break;\r\n          }\r\n\r\n          message.packetLossRate = reader.double();\r\n          continue;\r\n        case 10:\r\n          if (tag != 85) {\r\n            break;\r\n          }\r\n\r\n          message.packetLossPercentage = reader.float();\r\n          continue;\r\n        case 11:\r\n          if (tag != 88) {\r\n            break;\r\n          }\r\n\r\n          message.packetsDuplicate = reader.uint32();\r\n          continue;\r\n        case 12:\r\n          if (tag != 97) {\r\n            break;\r\n          }\r\n\r\n          message.packetDuplicateRate = reader.double();\r\n          continue;\r\n        case 13:\r\n          if (tag != 104) {\r\n            break;\r\n          }\r\n\r\n          message.bytesDuplicate = longToNumber(reader.uint64() as Long);\r\n          continue;\r\n        case 40:\r\n          if (tag != 320) {\r\n            break;\r\n          }\r\n\r\n          message.headerBytesDuplicate = longToNumber(reader.uint64() as Long);\r\n          continue;\r\n        case 14:\r\n          if (tag != 113) {\r\n            break;\r\n          }\r\n\r\n          message.bitrateDuplicate = reader.double();\r\n          continue;\r\n        case 15:\r\n          if (tag != 120) {\r\n            break;\r\n          }\r\n\r\n          message.packetsPadding = reader.uint32();\r\n          continue;\r\n        case 16:\r\n          if (tag != 129) {\r\n            break;\r\n          }\r\n\r\n          message.packetPaddingRate = reader.double();\r\n          continue;\r\n        case 17:\r\n          if (tag != 136) {\r\n            break;\r\n          }\r\n\r\n          message.bytesPadding = longToNumber(reader.uint64() as Long);\r\n          continue;\r\n        case 41:\r\n          if (tag != 328) {\r\n            break;\r\n          }\r\n\r\n          message.headerBytesPadding = longToNumber(reader.uint64() as Long);\r\n          continue;\r\n        case 18:\r\n          if (tag != 145) {\r\n            break;\r\n          }\r\n\r\n          message.bitratePadding = reader.double();\r\n          continue;\r\n        case 19:\r\n          if (tag != 152) {\r\n            break;\r\n          }\r\n\r\n          message.packetsOutOfOrder = reader.uint32();\r\n          continue;\r\n        case 20:\r\n          if (tag != 160) {\r\n            break;\r\n          }\r\n\r\n          message.frames = reader.uint32();\r\n          continue;\r\n        case 21:\r\n          if (tag != 169) {\r\n            break;\r\n          }\r\n\r\n          message.frameRate = reader.double();\r\n          continue;\r\n        case 22:\r\n          if (tag != 177) {\r\n            break;\r\n          }\r\n\r\n          message.jitterCurrent = reader.double();\r\n          continue;\r\n        case 23:\r\n          if (tag != 185) {\r\n            break;\r\n          }\r\n\r\n          message.jitterMax = reader.double();\r\n          continue;\r\n        case 24:\r\n          if (tag != 194) {\r\n            break;\r\n          }\r\n\r\n          const entry24 = RTPStats_GapHistogramEntry.decode(reader, reader.uint32());\r\n          if (entry24.value !== undefined) {\r\n            message.gapHistogram[entry24.key] = entry24.value;\r\n          }\r\n          continue;\r\n        case 25:\r\n          if (tag != 200) {\r\n            break;\r\n          }\r\n\r\n          message.nacks = reader.uint32();\r\n          continue;\r\n        case 37:\r\n          if (tag != 296) {\r\n            break;\r\n          }\r\n\r\n          message.nackAcks = reader.uint32();\r\n          continue;\r\n        case 26:\r\n          if (tag != 208) {\r\n            break;\r\n          }\r\n\r\n          message.nackMisses = reader.uint32();\r\n          continue;\r\n        case 38:\r\n          if (tag != 304) {\r\n            break;\r\n          }\r\n\r\n          message.nackRepeated = reader.uint32();\r\n          continue;\r\n        case 27:\r\n          if (tag != 216) {\r\n            break;\r\n          }\r\n\r\n          message.plis = reader.uint32();\r\n          continue;\r\n        case 28:\r\n          if (tag != 226) {\r\n            break;\r\n          }\r\n\r\n          message.lastPli = fromTimestamp(Timestamp.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 29:\r\n          if (tag != 232) {\r\n            break;\r\n          }\r\n\r\n          message.firs = reader.uint32();\r\n          continue;\r\n        case 30:\r\n          if (tag != 242) {\r\n            break;\r\n          }\r\n\r\n          message.lastFir = fromTimestamp(Timestamp.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 31:\r\n          if (tag != 248) {\r\n            break;\r\n          }\r\n\r\n          message.rttCurrent = reader.uint32();\r\n          continue;\r\n        case 32:\r\n          if (tag != 256) {\r\n            break;\r\n          }\r\n\r\n          message.rttMax = reader.uint32();\r\n          continue;\r\n        case 33:\r\n          if (tag != 264) {\r\n            break;\r\n          }\r\n\r\n          message.keyFrames = reader.uint32();\r\n          continue;\r\n        case 34:\r\n          if (tag != 274) {\r\n            break;\r\n          }\r\n\r\n          message.lastKeyFrame = fromTimestamp(Timestamp.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 35:\r\n          if (tag != 280) {\r\n            break;\r\n          }\r\n\r\n          message.layerLockPlis = reader.uint32();\r\n          continue;\r\n        case 36:\r\n          if (tag != 290) {\r\n            break;\r\n          }\r\n\r\n          message.lastLayerLockPli = fromTimestamp(Timestamp.decode(reader, reader.uint32()));\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): RTPStats {\r\n    return {\r\n      startTime: isSet(object.startTime) ? fromJsonTimestamp(object.startTime) : undefined,\r\n      endTime: isSet(object.endTime) ? fromJsonTimestamp(object.endTime) : undefined,\r\n      duration: isSet(object.duration) ? Number(object.duration) : 0,\r\n      packets: isSet(object.packets) ? Number(object.packets) : 0,\r\n      packetRate: isSet(object.packetRate) ? Number(object.packetRate) : 0,\r\n      bytes: isSet(object.bytes) ? Number(object.bytes) : 0,\r\n      headerBytes: isSet(object.headerBytes) ? Number(object.headerBytes) : 0,\r\n      bitrate: isSet(object.bitrate) ? Number(object.bitrate) : 0,\r\n      packetsLost: isSet(object.packetsLost) ? Number(object.packetsLost) : 0,\r\n      packetLossRate: isSet(object.packetLossRate) ? Number(object.packetLossRate) : 0,\r\n      packetLossPercentage: isSet(object.packetLossPercentage) ? Number(object.packetLossPercentage) : 0,\r\n      packetsDuplicate: isSet(object.packetsDuplicate) ? Number(object.packetsDuplicate) : 0,\r\n      packetDuplicateRate: isSet(object.packetDuplicateRate) ? Number(object.packetDuplicateRate) : 0,\r\n      bytesDuplicate: isSet(object.bytesDuplicate) ? Number(object.bytesDuplicate) : 0,\r\n      headerBytesDuplicate: isSet(object.headerBytesDuplicate) ? Number(object.headerBytesDuplicate) : 0,\r\n      bitrateDuplicate: isSet(object.bitrateDuplicate) ? Number(object.bitrateDuplicate) : 0,\r\n      packetsPadding: isSet(object.packetsPadding) ? Number(object.packetsPadding) : 0,\r\n      packetPaddingRate: isSet(object.packetPaddingRate) ? Number(object.packetPaddingRate) : 0,\r\n      bytesPadding: isSet(object.bytesPadding) ? Number(object.bytesPadding) : 0,\r\n      headerBytesPadding: isSet(object.headerBytesPadding) ? Number(object.headerBytesPadding) : 0,\r\n      bitratePadding: isSet(object.bitratePadding) ? Number(object.bitratePadding) : 0,\r\n      packetsOutOfOrder: isSet(object.packetsOutOfOrder) ? Number(object.packetsOutOfOrder) : 0,\r\n      frames: isSet(object.frames) ? Number(object.frames) : 0,\r\n      frameRate: isSet(object.frameRate) ? Number(object.frameRate) : 0,\r\n      jitterCurrent: isSet(object.jitterCurrent) ? Number(object.jitterCurrent) : 0,\r\n      jitterMax: isSet(object.jitterMax) ? Number(object.jitterMax) : 0,\r\n      gapHistogram: isObject(object.gapHistogram)\r\n        ? Object.entries(object.gapHistogram).reduce<{ [key: number]: number }>((acc, [key, value]) => {\r\n          acc[Number(key)] = Number(value);\r\n          return acc;\r\n        }, {})\r\n        : {},\r\n      nacks: isSet(object.nacks) ? Number(object.nacks) : 0,\r\n      nackAcks: isSet(object.nackAcks) ? Number(object.nackAcks) : 0,\r\n      nackMisses: isSet(object.nackMisses) ? Number(object.nackMisses) : 0,\r\n      nackRepeated: isSet(object.nackRepeated) ? Number(object.nackRepeated) : 0,\r\n      plis: isSet(object.plis) ? Number(object.plis) : 0,\r\n      lastPli: isSet(object.lastPli) ? fromJsonTimestamp(object.lastPli) : undefined,\r\n      firs: isSet(object.firs) ? Number(object.firs) : 0,\r\n      lastFir: isSet(object.lastFir) ? fromJsonTimestamp(object.lastFir) : undefined,\r\n      rttCurrent: isSet(object.rttCurrent) ? Number(object.rttCurrent) : 0,\r\n      rttMax: isSet(object.rttMax) ? Number(object.rttMax) : 0,\r\n      keyFrames: isSet(object.keyFrames) ? Number(object.keyFrames) : 0,\r\n      lastKeyFrame: isSet(object.lastKeyFrame) ? fromJsonTimestamp(object.lastKeyFrame) : undefined,\r\n      layerLockPlis: isSet(object.layerLockPlis) ? Number(object.layerLockPlis) : 0,\r\n      lastLayerLockPli: isSet(object.lastLayerLockPli) ? fromJsonTimestamp(object.lastLayerLockPli) : undefined,\r\n    };\r\n  },\r\n\r\n  toJSON(message: RTPStats): unknown {\r\n    const obj: any = {};\r\n    message.startTime !== undefined && (obj.startTime = message.startTime.toISOString());\r\n    message.endTime !== undefined && (obj.endTime = message.endTime.toISOString());\r\n    message.duration !== undefined && (obj.duration = message.duration);\r\n    message.packets !== undefined && (obj.packets = Math.round(message.packets));\r\n    message.packetRate !== undefined && (obj.packetRate = message.packetRate);\r\n    message.bytes !== undefined && (obj.bytes = Math.round(message.bytes));\r\n    message.headerBytes !== undefined && (obj.headerBytes = Math.round(message.headerBytes));\r\n    message.bitrate !== undefined && (obj.bitrate = message.bitrate);\r\n    message.packetsLost !== undefined && (obj.packetsLost = Math.round(message.packetsLost));\r\n    message.packetLossRate !== undefined && (obj.packetLossRate = message.packetLossRate);\r\n    message.packetLossPercentage !== undefined && (obj.packetLossPercentage = message.packetLossPercentage);\r\n    message.packetsDuplicate !== undefined && (obj.packetsDuplicate = Math.round(message.packetsDuplicate));\r\n    message.packetDuplicateRate !== undefined && (obj.packetDuplicateRate = message.packetDuplicateRate);\r\n    message.bytesDuplicate !== undefined && (obj.bytesDuplicate = Math.round(message.bytesDuplicate));\r\n    message.headerBytesDuplicate !== undefined && (obj.headerBytesDuplicate = Math.round(message.headerBytesDuplicate));\r\n    message.bitrateDuplicate !== undefined && (obj.bitrateDuplicate = message.bitrateDuplicate);\r\n    message.packetsPadding !== undefined && (obj.packetsPadding = Math.round(message.packetsPadding));\r\n    message.packetPaddingRate !== undefined && (obj.packetPaddingRate = message.packetPaddingRate);\r\n    message.bytesPadding !== undefined && (obj.bytesPadding = Math.round(message.bytesPadding));\r\n    message.headerBytesPadding !== undefined && (obj.headerBytesPadding = Math.round(message.headerBytesPadding));\r\n    message.bitratePadding !== undefined && (obj.bitratePadding = message.bitratePadding);\r\n    message.packetsOutOfOrder !== undefined && (obj.packetsOutOfOrder = Math.round(message.packetsOutOfOrder));\r\n    message.frames !== undefined && (obj.frames = Math.round(message.frames));\r\n    message.frameRate !== undefined && (obj.frameRate = message.frameRate);\r\n    message.jitterCurrent !== undefined && (obj.jitterCurrent = message.jitterCurrent);\r\n    message.jitterMax !== undefined && (obj.jitterMax = message.jitterMax);\r\n    obj.gapHistogram = {};\r\n    if (message.gapHistogram) {\r\n      Object.entries(message.gapHistogram).forEach(([k, v]) => {\r\n        obj.gapHistogram[k] = Math.round(v);\r\n      });\r\n    }\r\n    message.nacks !== undefined && (obj.nacks = Math.round(message.nacks));\r\n    message.nackAcks !== undefined && (obj.nackAcks = Math.round(message.nackAcks));\r\n    message.nackMisses !== undefined && (obj.nackMisses = Math.round(message.nackMisses));\r\n    message.nackRepeated !== undefined && (obj.nackRepeated = Math.round(message.nackRepeated));\r\n    message.plis !== undefined && (obj.plis = Math.round(message.plis));\r\n    message.lastPli !== undefined && (obj.lastPli = message.lastPli.toISOString());\r\n    message.firs !== undefined && (obj.firs = Math.round(message.firs));\r\n    message.lastFir !== undefined && (obj.lastFir = message.lastFir.toISOString());\r\n    message.rttCurrent !== undefined && (obj.rttCurrent = Math.round(message.rttCurrent));\r\n    message.rttMax !== undefined && (obj.rttMax = Math.round(message.rttMax));\r\n    message.keyFrames !== undefined && (obj.keyFrames = Math.round(message.keyFrames));\r\n    message.lastKeyFrame !== undefined && (obj.lastKeyFrame = message.lastKeyFrame.toISOString());\r\n    message.layerLockPlis !== undefined && (obj.layerLockPlis = Math.round(message.layerLockPlis));\r\n    message.lastLayerLockPli !== undefined && (obj.lastLayerLockPli = message.lastLayerLockPli.toISOString());\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<RTPStats>, I>>(base?: I): RTPStats {\r\n    return RTPStats.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<RTPStats>, I>>(object: I): RTPStats {\r\n    const message = createBaseRTPStats();\r\n    message.startTime = object.startTime ?? undefined;\r\n    message.endTime = object.endTime ?? undefined;\r\n    message.duration = object.duration ?? 0;\r\n    message.packets = object.packets ?? 0;\r\n    message.packetRate = object.packetRate ?? 0;\r\n    message.bytes = object.bytes ?? 0;\r\n    message.headerBytes = object.headerBytes ?? 0;\r\n    message.bitrate = object.bitrate ?? 0;\r\n    message.packetsLost = object.packetsLost ?? 0;\r\n    message.packetLossRate = object.packetLossRate ?? 0;\r\n    message.packetLossPercentage = object.packetLossPercentage ?? 0;\r\n    message.packetsDuplicate = object.packetsDuplicate ?? 0;\r\n    message.packetDuplicateRate = object.packetDuplicateRate ?? 0;\r\n    message.bytesDuplicate = object.bytesDuplicate ?? 0;\r\n    message.headerBytesDuplicate = object.headerBytesDuplicate ?? 0;\r\n    message.bitrateDuplicate = object.bitrateDuplicate ?? 0;\r\n    message.packetsPadding = object.packetsPadding ?? 0;\r\n    message.packetPaddingRate = object.packetPaddingRate ?? 0;\r\n    message.bytesPadding = object.bytesPadding ?? 0;\r\n    message.headerBytesPadding = object.headerBytesPadding ?? 0;\r\n    message.bitratePadding = object.bitratePadding ?? 0;\r\n    message.packetsOutOfOrder = object.packetsOutOfOrder ?? 0;\r\n    message.frames = object.frames ?? 0;\r\n    message.frameRate = object.frameRate ?? 0;\r\n    message.jitterCurrent = object.jitterCurrent ?? 0;\r\n    message.jitterMax = object.jitterMax ?? 0;\r\n    message.gapHistogram = Object.entries(object.gapHistogram ?? {}).reduce<{ [key: number]: number }>(\r\n      (acc, [key, value]) => {\r\n        if (value !== undefined) {\r\n          acc[Number(key)] = Number(value);\r\n        }\r\n        return acc;\r\n      },\r\n      {},\r\n    );\r\n    message.nacks = object.nacks ?? 0;\r\n    message.nackAcks = object.nackAcks ?? 0;\r\n    message.nackMisses = object.nackMisses ?? 0;\r\n    message.nackRepeated = object.nackRepeated ?? 0;\r\n    message.plis = object.plis ?? 0;\r\n    message.lastPli = object.lastPli ?? undefined;\r\n    message.firs = object.firs ?? 0;\r\n    message.lastFir = object.lastFir ?? undefined;\r\n    message.rttCurrent = object.rttCurrent ?? 0;\r\n    message.rttMax = object.rttMax ?? 0;\r\n    message.keyFrames = object.keyFrames ?? 0;\r\n    message.lastKeyFrame = object.lastKeyFrame ?? undefined;\r\n    message.layerLockPlis = object.layerLockPlis ?? 0;\r\n    message.lastLayerLockPli = object.lastLayerLockPli ?? undefined;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseRTPStats_GapHistogramEntry(): RTPStats_GapHistogramEntry {\r\n  return { key: 0, value: 0 };\r\n}\r\n\r\nexport const RTPStats_GapHistogramEntry = {\r\n  encode(message: RTPStats_GapHistogramEntry, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.key !== 0) {\r\n      writer.uint32(8).int32(message.key);\r\n    }\r\n    if (message.value !== 0) {\r\n      writer.uint32(16).uint32(message.value);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): RTPStats_GapHistogramEntry {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseRTPStats_GapHistogramEntry();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 8) {\r\n            break;\r\n          }\r\n\r\n          message.key = reader.int32();\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.value = reader.uint32();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): RTPStats_GapHistogramEntry {\r\n    return { key: isSet(object.key) ? Number(object.key) : 0, value: isSet(object.value) ? Number(object.value) : 0 };\r\n  },\r\n\r\n  toJSON(message: RTPStats_GapHistogramEntry): unknown {\r\n    const obj: any = {};\r\n    message.key !== undefined && (obj.key = Math.round(message.key));\r\n    message.value !== undefined && (obj.value = Math.round(message.value));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<RTPStats_GapHistogramEntry>, I>>(base?: I): RTPStats_GapHistogramEntry {\r\n    return RTPStats_GapHistogramEntry.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<RTPStats_GapHistogramEntry>, I>>(object: I): RTPStats_GapHistogramEntry {\r\n    const message = createBaseRTPStats_GapHistogramEntry();\r\n    message.key = object.key ?? 0;\r\n    message.value = object.value ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseTimedVersion(): TimedVersion {\r\n  return { unixMicro: 0, ticks: 0 };\r\n}\r\n\r\nexport const TimedVersion = {\r\n  encode(message: TimedVersion, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.unixMicro !== 0) {\r\n      writer.uint32(8).int64(message.unixMicro);\r\n    }\r\n    if (message.ticks !== 0) {\r\n      writer.uint32(16).int32(message.ticks);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): TimedVersion {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseTimedVersion();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 8) {\r\n            break;\r\n          }\r\n\r\n          message.unixMicro = longToNumber(reader.int64() as Long);\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.ticks = reader.int32();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): TimedVersion {\r\n    return {\r\n      unixMicro: isSet(object.unixMicro) ? Number(object.unixMicro) : 0,\r\n      ticks: isSet(object.ticks) ? Number(object.ticks) : 0,\r\n    };\r\n  },\r\n\r\n  toJSON(message: TimedVersion): unknown {\r\n    const obj: any = {};\r\n    message.unixMicro !== undefined && (obj.unixMicro = Math.round(message.unixMicro));\r\n    message.ticks !== undefined && (obj.ticks = Math.round(message.ticks));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<TimedVersion>, I>>(base?: I): TimedVersion {\r\n    return TimedVersion.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<TimedVersion>, I>>(object: I): TimedVersion {\r\n    const message = createBaseTimedVersion();\r\n    message.unixMicro = object.unixMicro ?? 0;\r\n    message.ticks = object.ticks ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\ndeclare var self: any | undefined;\r\ndeclare var window: any | undefined;\r\ndeclare var global: any | undefined;\r\nvar tsProtoGlobalThis: any = (() => {\r\n  if (typeof globalThis !== \"undefined\") {\r\n    return globalThis;\r\n  }\r\n  if (typeof self !== \"undefined\") {\r\n    return self;\r\n  }\r\n  if (typeof window !== \"undefined\") {\r\n    return window;\r\n  }\r\n  if (typeof global !== \"undefined\") {\r\n    return global;\r\n  }\r\n  throw \"Unable to locate global object\";\r\n})();\r\n\r\nfunction bytesFromBase64(b64: string): Uint8Array {\r\n  if (tsProtoGlobalThis.Buffer) {\r\n    return Uint8Array.from(tsProtoGlobalThis.Buffer.from(b64, \"base64\"));\r\n  } else {\r\n    const bin = tsProtoGlobalThis.atob(b64);\r\n    const arr = new Uint8Array(bin.length);\r\n    for (let i = 0; i < bin.length; ++i) {\r\n      arr[i] = bin.charCodeAt(i);\r\n    }\r\n    return arr;\r\n  }\r\n}\r\n\r\nfunction base64FromBytes(arr: Uint8Array): string {\r\n  if (tsProtoGlobalThis.Buffer) {\r\n    return tsProtoGlobalThis.Buffer.from(arr).toString(\"base64\");\r\n  } else {\r\n    const bin: string[] = [];\r\n    arr.forEach((byte) => {\r\n      bin.push(String.fromCharCode(byte));\r\n    });\r\n    return tsProtoGlobalThis.btoa(bin.join(\"\"));\r\n  }\r\n}\r\n\r\ntype Builtin = Date | Function | Uint8Array | string | number | boolean | undefined;\r\n\r\nexport type DeepPartial<T> = T extends Builtin ? T\r\n  : T extends Array<infer U> ? Array<DeepPartial<U>> : T extends ReadonlyArray<infer U> ? ReadonlyArray<DeepPartial<U>>\r\n  : T extends { $case: string } ? { [K in keyof Omit<T, \"$case\">]?: DeepPartial<T[K]> } & { $case: T[\"$case\"] }\r\n  : T extends {} ? { [K in keyof T]?: DeepPartial<T[K]> }\r\n  : Partial<T>;\r\n\r\ntype KeysOfUnion<T> = T extends T ? keyof T : never;\r\nexport type Exact<P, I extends P> = P extends Builtin ? P\r\n  : P & { [K in keyof P]: Exact<P[K], I[K]> } & { [K in Exclude<keyof I, KeysOfUnion<P>>]: never };\r\n\r\nfunction toTimestamp(date: Date): Timestamp {\r\n  const seconds = date.getTime() / 1_000;\r\n  const nanos = (date.getTime() % 1_000) * 1_000_000;\r\n  return { seconds, nanos };\r\n}\r\n\r\nfunction fromTimestamp(t: Timestamp): Date {\r\n  let millis = t.seconds * 1_000;\r\n  millis += t.nanos / 1_000_000;\r\n  return new Date(millis);\r\n}\r\n\r\nfunction fromJsonTimestamp(o: any): Date {\r\n  if (o instanceof Date) {\r\n    return o;\r\n  } else if (typeof o === \"string\") {\r\n    return new Date(o);\r\n  } else {\r\n    return fromTimestamp(Timestamp.fromJSON(o));\r\n  }\r\n}\r\n\r\nfunction longToNumber(long: Long): number {\r\n  if (long.gt(Number.MAX_SAFE_INTEGER)) {\r\n    throw new tsProtoGlobalThis.Error(\"Value is larger than Number.MAX_SAFE_INTEGER\");\r\n  }\r\n  return long.toNumber();\r\n}\r\n\r\nif (_m0.util.Long !== Long) {\r\n  _m0.util.Long = Long as any;\r\n  _m0.configure();\r\n}\r\n\r\nfunction isObject(value: any): boolean {\r\n  return typeof value === \"object\" && value !== null;\r\n}\r\n\r\nfunction isSet(value: any): boolean {\r\n  return value !== null && value !== undefined;\r\n}\r\n","import type { ReconnectContext, ReconnectPolicy } from './ReconnectPolicy';\r\n\r\nconst maxRetryDelay = 7000;\r\n\r\nconst DEFAULT_RETRY_DELAYS_IN_MS = [\r\n  0,\r\n  300,\r\n  2 * 2 * 300,\r\n  3 * 3 * 300,\r\n  4 * 4 * 300,\r\n  maxRetryDelay,\r\n  maxRetryDelay,\r\n  maxRetryDelay,\r\n  maxRetryDelay,\r\n  maxRetryDelay,\r\n];\r\n\r\nclass DefaultReconnectPolicy implements ReconnectPolicy {\r\n  private readonly _retryDelays: number[];\r\n\r\n  constructor(retryDelays?: number[]) {\r\n    this._retryDelays = retryDelays !== undefined ? [...retryDelays] : DEFAULT_RETRY_DELAYS_IN_MS;\r\n  }\r\n\r\n  public nextRetryDelayInMs(context: ReconnectContext): number | null {\r\n    if (context.retryCount >= this._retryDelays.length) return null;\r\n\r\n    const retryDelay = this._retryDelays[context.retryCount];\r\n    if (context.retryCount <= 1) return retryDelay;\r\n\r\n    return retryDelay + Math.random() * 1_000;\r\n  }\r\n}\r\n\r\nexport default DefaultReconnectPolicy;\r\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","class Queue {\n\t/**\n\t * @class Queue\n\t * \n\t * Priority queue with rate limiting<br>\n\t * See the medium article:<br>\n\t * https://mmomtchev.medium.com/parallelizing-download-loops-in-js-with-async-await-queue-670420880cd6\n\t * \n\t * @param {number} [_maxConcurrent=1] Number of tasks allowed to run simultaneously\n\t * @param {number} [_minCycle=0] Minimum number of milliseconds between two consecutive tasks\n\t */\n\tconstructor(_maxConcurrent, _minCycle) {\n\t\tthis.maxConcurrent = _maxConcurrent || 1;\n\t\tthis.minCycle = _minCycle || 0;\n\t\tthis.queueRunning = [];\n\t\tthis.queueWaiting = {};\n\t\tthis.lastRun = 0;\n\t}\n\n\t/** @private */\n\tdequeue(hash) {\n\t\tconst q = this.queueRunning;\n\t\tconst idx = q.findIndex(x => x.hash === hash);\n\t\tif (idx == -1)\n\t\t\tthrow 'queue desync';\n\t\tconst o = q[idx];\n\t\tq.splice(idx, 1);\n\t\treturn o;\n\t}\n\n\t/** @private */\n\tgetFirstWaiting() {\n\t\tfor (let p of Object.keys(this.queueWaiting).sort((a, b) => a - b))\n\t\t\tif (this.queueWaiting[p] !== undefined && this.queueWaiting[p].length > 0)\n\t\t\t\treturn this.queueWaiting[p];\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Signal that the task `hash` has finished.<br>\n\t * Frees its slot in the queue\n\t * \n\t * @method end\n\t * @param {any} hash Unique hash identifying the task, Symbol() works very well\n\t */\n\tend(hash) {\n\t\tconst me = this.dequeue(hash);\n\t\tme.resolve();\n\t\t/* Choose the next task to run and unblock its promise */\n\t\tconst q = this.getFirstWaiting();\n\t\tif (q !== undefined) {\n\t\t\tconst next = q.shift();\n\t\t\tnext.resolve();\n\t\t}\n\t}\n\n\t/**\n\t * Wait for a slot in the queue\n\t * \n\t * @method wait\n\t * @param {any} hash Unique hash identifying the task\n\t * @param {number} [priority=0] Optional priority, -1 is higher priority than 1\n\t * @return {Promise<void>} Resolved when the task is ready to run\n\t */\n\tasync wait(hash, _priority) {\n\t\tconst priority = _priority === undefined ? 0 : _priority;\n\t\t/* Us on the queue */\n\t\tlet me = { hash, priority };\n\t\t/* Create priorities on the fly */\n\t\tif (this.queueWaiting[priority] == undefined)\n\t\t\tthis.queueWaiting[priority] = [];\n\n\t\t/* Are we allowed to run? */\n\t\tif (this.queueRunning.length >= this.maxConcurrent) {\n\t\t\t/* This promise will be unlocked from the outside */\n\t\t\t/* and it cannot reject */\n\t\t\tme.promise = new Promise((resolve) => {\n\t\t\t\tme.resolve = resolve;\n\t\t\t});\n\t\t\t/* Get in the line */\n\t\t\tthis.queueWaiting[priority].push(me);\n\t\t\tawait me.promise;\n\t\t}\n\n\t\tthis.queueRunning.push(me);\n\t\tme.promise = new Promise((resolve) => {\n\t\t\tme.resolve = resolve;\n\t\t});\n\t\t/* Wait if it is too soon */\n\t\twhile (Date.now() - this.lastRun < this.minCycle) {\n\t\t\tawait new Promise((resolve) => setTimeout(resolve, this.minCycle - Date.now() + this.lastRun));\n\t\t}\n\t\tthis.lastRun = Date.now();\n\t}\n\n\t/**\n\t * Run a job (equivalent to calling Queue.wait(), fn() and then Queue.end())<br>\n\t * fn can be both synchronous or asynchronous function\n\t * \n\t * @method run\n\t * @param {Function} fn The job\n\t * @param {number} [priority=0] Optional priority, -1 is higher priority than 1\n\t * @return {Promise<any>} Resolved when the task has finished with the return value of fn\n\t */\n\trun(job, _priority) {\n\t\tconst priority = _priority === undefined ? 0 : _priority;\n\t\tconst id = Symbol();\n\t\treturn this.wait(id, priority)\n\t\t\t.then(() => job())\n\t\t\t.finally(() => {\n\t\t\t\tthis.end(id);\n\t\t\t});\n\t}\n\n\t/**\n\t * @interface QueueStats {running: number, waiting: number, last: number}\n\t */\n\n\t/**\n\t * Return the number of running and waiting jobs\n\t * \n\t * @method stat\n\t * @return {QueueStats} running, waiting, last\n\t */\n\tstat() {\n\t\treturn {\n\t\t\trunning: this.queueRunning.length,\n\t\t\twaiting: Object.keys(this.queueWaiting).reduce((t, x) => (t += this.queueWaiting[x].length), 0),\n\t\t\tlast: this.lastRun\n\t\t};\n\t}\n\n\t/**\n\t * Returns a promise that resolves when the queue is empty\n\t * \n\t * @method flush\n\t * @return {Promise<void>}\n\t */\n\tasync flush() {\n\t\t/* Aways wait on the lowest priority in the queue */\n\t\twhile (this.stat().waiting > 0) {\n\t\t\tfor (let p of Object.keys(this.queueWaiting).sort((a, b) => b - a)) {\n\t\t\t\tconst qp = this.queueWaiting[p];\n\t\t\t\tif (qp !== undefined && qp.length > 0) {\n\t\t\t\t\tawait qp[qp.length - 1].promise;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t/* And then finish on the running queue */\n\t\twhile (this.queueRunning.length > 0) {\n\t\t\tawait Promise.allSettled(this.queueRunning.map(x => x.promise));\n\t\t}\n\t}\n}\n\nexport { Queue as default };\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nlet logDisabled_ = true;\nlet deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nexport function extractVersion(uastring, expr, pos) {\n  const match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object (or false to prevent\n// the event).\nexport function wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  const proto = window.RTCPeerConnection.prototype;\n  const nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    const wrappedCallback = (e) => {\n      const modifiedEvent = wrapper(e);\n      if (modifiedEvent) {\n        if (cb.handleEvent) {\n          cb.handleEvent(modifiedEvent);\n        } else {\n          cb(modifiedEvent);\n        }\n      }\n    };\n    this._eventMap = this._eventMap || {};\n    if (!this._eventMap[eventNameToWrap]) {\n      this._eventMap[eventNameToWrap] = new Map();\n    }\n    this._eventMap[eventNameToWrap].set(cb, wrappedCallback);\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  const nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[eventNameToWrap]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    if (!this._eventMap[eventNameToWrap].has(cb)) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    const unwrappedCb = this._eventMap[eventNameToWrap].get(cb);\n    this._eventMap[eventNameToWrap].delete(cb);\n    if (this._eventMap[eventNameToWrap].size === 0) {\n      delete this._eventMap[eventNameToWrap];\n    }\n    if (Object.keys(this._eventMap).length === 0) {\n      delete this._eventMap;\n    }\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get() {\n      return this['_on' + eventNameToWrap];\n    },\n    set(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n          this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n          this['_on' + eventNameToWrap] = cb);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\n\nexport function disableLog(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + typeof bool +\n        '. Please use a boolean.');\n  }\n  logDisabled_ = bool;\n  return (bool) ? 'adapter.js logging disabled' :\n    'adapter.js logging enabled';\n}\n\n/**\n * Disable or enable deprecation warnings\n * @param {!boolean} bool set to true to disable warnings.\n */\nexport function disableWarnings(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + typeof bool +\n        '. Please use a boolean.');\n  }\n  deprecationWarnings_ = !bool;\n  return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n}\n\nexport function log() {\n  if (typeof window === 'object') {\n    if (logDisabled_) {\n      return;\n    }\n    if (typeof console !== 'undefined' && typeof console.log === 'function') {\n      console.log.apply(console, arguments);\n    }\n  }\n}\n\n/**\n * Shows a deprecation warning suggesting the modern and spec-compatible API.\n */\nexport function deprecated(oldMethod, newMethod) {\n  if (!deprecationWarnings_) {\n    return;\n  }\n  console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n      ' instead.');\n}\n\n/**\n * Browser detector.\n *\n * @return {object} result containing browser and version\n *     properties.\n */\nexport function detectBrowser(window) {\n  // Returned result object.\n  const result = {browser: null, version: null};\n\n  // Fail early if it's not a browser\n  if (typeof window === 'undefined' || !window.navigator) {\n    result.browser = 'Not a browser.';\n    return result;\n  }\n\n  const {navigator} = window;\n\n  if (navigator.mozGetUserMedia) { // Firefox.\n    result.browser = 'firefox';\n    result.version = extractVersion(navigator.userAgent,\n      /Firefox\\/(\\d+)\\./, 1);\n  } else if (navigator.webkitGetUserMedia ||\n      (window.isSecureContext === false && window.webkitRTCPeerConnection)) {\n    // Chrome, Chromium, Webview, Opera.\n    // Version matches Chrome/WebRTC version.\n    // Chrome 74 removed webkitGetUserMedia on http as well so we need the\n    // more complicated fallback to webkitRTCPeerConnection.\n    result.browser = 'chrome';\n    result.version = extractVersion(navigator.userAgent,\n      /Chrom(e|ium)\\/(\\d+)\\./, 2);\n  } else if (window.RTCPeerConnection &&\n      navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) { // Safari.\n    result.browser = 'safari';\n    result.version = extractVersion(navigator.userAgent,\n      /AppleWebKit\\/(\\d+)\\./, 1);\n    result.supportsUnifiedPlan = window.RTCRtpTransceiver &&\n        'currentDirection' in window.RTCRtpTransceiver.prototype;\n  } else { // Default fallthrough: not supported.\n    result.browser = 'Not a supported browser.';\n    return result;\n  }\n\n  return result;\n}\n\n/**\n * Checks if something is an object.\n *\n * @param {*} val The something you want to check.\n * @return true if val is an object, false otherwise.\n */\nfunction isObject(val) {\n  return Object.prototype.toString.call(val) === '[object Object]';\n}\n\n/**\n * Remove all empty objects and undefined values\n * from a nested object -- an enhanced and vanilla version\n * of Lodash's `compact`.\n */\nexport function compactObject(data) {\n  if (!isObject(data)) {\n    return data;\n  }\n\n  return Object.keys(data).reduce(function(accumulator, key) {\n    const isObj = isObject(data[key]);\n    const value = isObj ? compactObject(data[key]) : data[key];\n    const isEmptyObject = isObj && !Object.keys(value).length;\n    if (value === undefined || isEmptyObject) {\n      return accumulator;\n    }\n    return Object.assign(accumulator, {[key]: value});\n  }, {});\n}\n\n/* iterates the stats graph recursively. */\nexport function walkStats(stats, base, resultSet) {\n  if (!base || resultSet.has(base.id)) {\n    return;\n  }\n  resultSet.set(base.id, base);\n  Object.keys(base).forEach(name => {\n    if (name.endsWith('Id')) {\n      walkStats(stats, stats.get(base[name]), resultSet);\n    } else if (name.endsWith('Ids')) {\n      base[name].forEach(id => {\n        walkStats(stats, stats.get(id), resultSet);\n      });\n    }\n  });\n}\n\n/* filter getStats for a sender/receiver track. */\nexport function filterStats(result, track, outbound) {\n  const streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';\n  const filteredResult = new Map();\n  if (track === null) {\n    return filteredResult;\n  }\n  const trackStats = [];\n  result.forEach(value => {\n    if (value.type === 'track' &&\n        value.trackIdentifier === track.id) {\n      trackStats.push(value);\n    }\n  });\n  trackStats.forEach(trackStat => {\n    result.forEach(stats => {\n      if (stats.type === streamStatsType && stats.trackId === trackStat.id) {\n        walkStats(result, stats, filteredResult);\n      }\n    });\n  });\n  return filteredResult;\n}\n\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\nimport * as utils from '../utils.js';\nconst logging = utils.log;\n\nexport function shimGetUserMedia(window, browserDetails) {\n  const navigator = window && window.navigator;\n\n  if (!navigator.mediaDevices) {\n    return;\n  }\n\n  const constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    const cc = {};\n    Object.keys(c).forEach(key => {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      const r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      const oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        let oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(mix => {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  const shimConstraints_ = function(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      const remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      let face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      const getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        let matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n            .then(devices => {\n              devices = devices.filter(d => d.kind === 'videoinput');\n              let dev = devices.find(d => matches.some(match =>\n                d.label.toLowerCase().includes(match)));\n              if (!dev && devices.length && matches.includes('back')) {\n                dev = devices[devices.length - 1]; // more likely the back cam\n              }\n              if (dev) {\n                constraints.video.deviceId = face.exact\n                  ? {exact: dev.deviceId}\n                  : {ideal: dev.deviceId};\n              }\n              constraints.video = constraintsToChrome_(constraints.video);\n              logging('chrome: ' + JSON.stringify(constraints));\n              return func(constraints);\n            });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  const shimError_ = function(e) {\n    if (browserDetails.version >= 64) {\n      return e;\n    }\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        PermissionDismissedError: 'NotAllowedError',\n        InvalidStateError: 'NotAllowedError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotAllowedError',\n        MediaDeviceKillSwitchOn: 'NotAllowedError',\n        TabCaptureError: 'AbortError',\n        ScreenCaptureError: 'AbortError',\n        DeviceCaptureError: 'AbortError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint || e.constraintName,\n      toString() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  const getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, c => {\n      navigator.webkitGetUserMedia(c, onSuccess, e => {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n  navigator.getUserMedia = getUserMedia_.bind(navigator);\n\n  // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n  // function which returns a Promise, it does not accept spec-style\n  // constraints.\n  if (navigator.mediaDevices.getUserMedia) {\n    const origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, c => origGetUserMedia(c).then(stream => {\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(track => {\n            track.stop();\n          });\n          throw new DOMException('', 'NotFoundError');\n        }\n        return stream;\n      }, e => Promise.reject(shimError_(e))));\n    };\n  }\n}\n","/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\nexport function shimGetDisplayMedia(window, getSourceId) {\n  if (window.navigator.mediaDevices &&\n    'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!(window.navigator.mediaDevices)) {\n    return;\n  }\n  // getSourceId is a function that returns a promise resolving with\n  // the sourceId of the screen/window/tab to be shared.\n  if (typeof getSourceId !== 'function') {\n    console.error('shimGetDisplayMedia: getSourceId argument is not ' +\n        'a function');\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia =\n    function getDisplayMedia(constraints) {\n      return getSourceId(constraints)\n        .then(sourceId => {\n          const widthSpecified = constraints.video && constraints.video.width;\n          const heightSpecified = constraints.video &&\n            constraints.video.height;\n          const frameRateSpecified = constraints.video &&\n            constraints.video.frameRate;\n          constraints.video = {\n            mandatory: {\n              chromeMediaSource: 'desktop',\n              chromeMediaSourceId: sourceId,\n              maxFrameRate: frameRateSpecified || 3\n            }\n          };\n          if (widthSpecified) {\n            constraints.video.mandatory.maxWidth = widthSpecified;\n          }\n          if (heightSpecified) {\n            constraints.video.mandatory.maxHeight = heightSpecified;\n          }\n          return window.navigator.mediaDevices.getUserMedia(constraints);\n        });\n    };\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\nimport * as utils from '../utils.js';\n\nexport {shimGetUserMedia} from './getusermedia';\nexport {shimGetDisplayMedia} from './getdisplaymedia';\n\nexport function shimMediaStream(window) {\n  window.MediaStream = window.MediaStream || window.webkitMediaStream;\n}\n\nexport function shimOnTrack(window) {\n  if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n      window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n      get() {\n        return this._ontrack;\n      },\n      set(f) {\n        if (this._ontrack) {\n          this.removeEventListener('track', this._ontrack);\n        }\n        this.addEventListener('track', this._ontrack = f);\n      },\n      enumerable: true,\n      configurable: true\n    });\n    const origSetRemoteDescription =\n        window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n      function setRemoteDescription() {\n        if (!this._ontrackpoly) {\n          this._ontrackpoly = (e) => {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', te => {\n              let receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = this.getReceivers()\n                  .find(r => r.track && r.track.id === te.track.id);\n              } else {\n                receiver = {track: te.track};\n              }\n\n              const event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(track => {\n              let receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = this.getReceivers()\n                  .find(r => r.track && r.track.id === track.id);\n              } else {\n                receiver = {track};\n              }\n              const event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            });\n          };\n          this.addEventListener('addstream', this._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(this, arguments);\n      };\n  } else {\n    // even if RTCRtpTransceiver is in window, it is only used and\n    // emitted in unified-plan. Unfortunately this means we need\n    // to unconditionally wrap the event.\n    utils.wrapPeerConnectionEvent(window, 'track', e => {\n      if (!e.transceiver) {\n        Object.defineProperty(e, 'transceiver',\n          {value: {receiver: e.receiver}});\n      }\n      return e;\n    });\n  }\n}\n\nexport function shimGetSendersWithDtmf(window) {\n  // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n  if (typeof window === 'object' && window.RTCPeerConnection &&\n      !('getSenders' in window.RTCPeerConnection.prototype) &&\n      'createDTMFSender' in window.RTCPeerConnection.prototype) {\n    const shimSenderWithDtmf = function(pc, track) {\n      return {\n        track,\n        get dtmf() {\n          if (this._dtmf === undefined) {\n            if (track.kind === 'audio') {\n              this._dtmf = pc.createDTMFSender(track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        },\n        _pc: pc\n      };\n    };\n\n    // augment addTrack when getSenders is not available.\n    if (!window.RTCPeerConnection.prototype.getSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        this._senders = this._senders || [];\n        return this._senders.slice(); // return a copy of the internal state.\n      };\n      const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addTrack =\n        function addTrack(track, stream) {\n          let sender = origAddTrack.apply(this, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(this, track);\n            this._senders.push(sender);\n          }\n          return sender;\n        };\n\n      const origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n      window.RTCPeerConnection.prototype.removeTrack =\n        function removeTrack(sender) {\n          origRemoveTrack.apply(this, arguments);\n          const idx = this._senders.indexOf(sender);\n          if (idx !== -1) {\n            this._senders.splice(idx, 1);\n          }\n        };\n    }\n    const origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      this._senders = this._senders || [];\n      origAddStream.apply(this, [stream]);\n      stream.getTracks().forEach(track => {\n        this._senders.push(shimSenderWithDtmf(this, track));\n      });\n    };\n\n    const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream =\n      function removeStream(stream) {\n        this._senders = this._senders || [];\n        origRemoveStream.apply(this, [stream]);\n\n        stream.getTracks().forEach(track => {\n          const sender = this._senders.find(s => s.track === track);\n          if (sender) { // remove sender\n            this._senders.splice(this._senders.indexOf(sender), 1);\n          }\n        });\n      };\n  } else if (typeof window === 'object' && window.RTCPeerConnection &&\n             'getSenders' in window.RTCPeerConnection.prototype &&\n             'createDTMFSender' in window.RTCPeerConnection.prototype &&\n             window.RTCRtpSender &&\n             !('dtmf' in window.RTCRtpSender.prototype)) {\n    const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      const senders = origGetSenders.apply(this, []);\n      senders.forEach(sender => sender._pc = this);\n      return senders;\n    };\n\n    Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n      get() {\n        if (this._dtmf === undefined) {\n          if (this.track.kind === 'audio') {\n            this._dtmf = this._pc.createDTMFSender(this.track);\n          } else {\n            this._dtmf = null;\n          }\n        }\n        return this._dtmf;\n      }\n    });\n  }\n}\n\nexport function shimGetStats(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  const origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    const [selector, onSucc, onErr] = arguments;\n\n    // If selector is a function then we are in the old style stats so just\n    // pass back the original getStats format to avoid breaking old users.\n    if (arguments.length > 0 && typeof selector === 'function') {\n      return origGetStats.apply(this, arguments);\n    }\n\n    // When spec-style getStats is supported, return those when called with\n    // either no arguments or the selector argument is null.\n    if (origGetStats.length === 0 && (arguments.length === 0 ||\n        typeof selector !== 'function')) {\n      return origGetStats.apply(this, []);\n    }\n\n    const fixChromeStats_ = function(response) {\n      const standardReport = {};\n      const reports = response.result();\n      reports.forEach(report => {\n        const standardStats = {\n          id: report.id,\n          timestamp: report.timestamp,\n          type: {\n            localcandidate: 'local-candidate',\n            remotecandidate: 'remote-candidate'\n          }[report.type] || report.type\n        };\n        report.names().forEach(name => {\n          standardStats[name] = report.stat(name);\n        });\n        standardReport[standardStats.id] = standardStats;\n      });\n\n      return standardReport;\n    };\n\n    // shim getStats with maplike support\n    const makeMapStats = function(stats) {\n      return new Map(Object.keys(stats).map(key => [key, stats[key]]));\n    };\n\n    if (arguments.length >= 2) {\n      const successCallbackWrapper_ = function(response) {\n        onSucc(makeMapStats(fixChromeStats_(response)));\n      };\n\n      return origGetStats.apply(this, [successCallbackWrapper_,\n        selector]);\n    }\n\n    // promise-support\n    return new Promise((resolve, reject) => {\n      origGetStats.apply(this, [\n        function(response) {\n          resolve(makeMapStats(fixChromeStats_(response)));\n        }, reject]);\n    }).then(onSucc, onErr);\n  };\n}\n\nexport function shimSenderReceiverGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender && window.RTCRtpReceiver)) {\n    return;\n  }\n\n  // shim sender stats.\n  if (!('getStats' in window.RTCRtpSender.prototype)) {\n    const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    if (origGetSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        const senders = origGetSenders.apply(this, []);\n        senders.forEach(sender => sender._pc = this);\n        return senders;\n      };\n    }\n\n    const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    if (origAddTrack) {\n      window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n        const sender = origAddTrack.apply(this, arguments);\n        sender._pc = this;\n        return sender;\n      };\n    }\n    window.RTCRtpSender.prototype.getStats = function getStats() {\n      const sender = this;\n      return this._pc.getStats().then(result =>\n        /* Note: this will include stats of all senders that\n         *   send a track with the same id as sender.track as\n         *   it is not possible to identify the RTCRtpSender.\n         */\n        utils.filterStats(result, sender.track, true));\n    };\n  }\n\n  // shim receiver stats.\n  if (!('getStats' in window.RTCRtpReceiver.prototype)) {\n    const origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n    if (origGetReceivers) {\n      window.RTCPeerConnection.prototype.getReceivers =\n        function getReceivers() {\n          const receivers = origGetReceivers.apply(this, []);\n          receivers.forEach(receiver => receiver._pc = this);\n          return receivers;\n        };\n    }\n    utils.wrapPeerConnectionEvent(window, 'track', e => {\n      e.receiver._pc = e.srcElement;\n      return e;\n    });\n    window.RTCRtpReceiver.prototype.getStats = function getStats() {\n      const receiver = this;\n      return this._pc.getStats().then(result =>\n        utils.filterStats(result, receiver.track, false));\n    };\n  }\n\n  if (!('getStats' in window.RTCRtpSender.prototype &&\n      'getStats' in window.RTCRtpReceiver.prototype)) {\n    return;\n  }\n\n  // shim RTCPeerConnection.getStats(track).\n  const origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    if (arguments.length > 0 &&\n        arguments[0] instanceof window.MediaStreamTrack) {\n      const track = arguments[0];\n      let sender;\n      let receiver;\n      let err;\n      this.getSenders().forEach(s => {\n        if (s.track === track) {\n          if (sender) {\n            err = true;\n          } else {\n            sender = s;\n          }\n        }\n      });\n      this.getReceivers().forEach(r => {\n        if (r.track === track) {\n          if (receiver) {\n            err = true;\n          } else {\n            receiver = r;\n          }\n        }\n        return r.track === track;\n      });\n      if (err || (sender && receiver)) {\n        return Promise.reject(new DOMException(\n          'There are more than one sender or receiver for the track.',\n          'InvalidAccessError'));\n      } else if (sender) {\n        return sender.getStats();\n      } else if (receiver) {\n        return receiver.getStats();\n      }\n      return Promise.reject(new DOMException(\n        'There is no sender or receiver for the track.',\n        'InvalidAccessError'));\n    }\n    return origGetStats.apply(this, arguments);\n  };\n}\n\nexport function shimAddTrackRemoveTrackWithNative(window) {\n  // shim addTrack/removeTrack with native variants in order to make\n  // the interactions with legacy getLocalStreams behave as in other browsers.\n  // Keeps a mapping stream.id => [stream, rtpsenders...]\n  window.RTCPeerConnection.prototype.getLocalStreams =\n    function getLocalStreams() {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      return Object.keys(this._shimmedLocalStreams)\n        .map(streamId => this._shimmedLocalStreams[streamId][0]);\n    };\n\n  const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  window.RTCPeerConnection.prototype.addTrack =\n    function addTrack(track, stream) {\n      if (!stream) {\n        return origAddTrack.apply(this, arguments);\n      }\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      const sender = origAddTrack.apply(this, arguments);\n      if (!this._shimmedLocalStreams[stream.id]) {\n        this._shimmedLocalStreams[stream.id] = [stream, sender];\n      } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n        this._shimmedLocalStreams[stream.id].push(sender);\n      }\n      return sender;\n    };\n\n  const origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n    stream.getTracks().forEach(track => {\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n          'InvalidAccessError');\n      }\n    });\n    const existingSenders = this.getSenders();\n    origAddStream.apply(this, arguments);\n    const newSenders = this.getSenders()\n      .filter(newSender => existingSenders.indexOf(newSender) === -1);\n    this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n  };\n\n  const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      delete this._shimmedLocalStreams[stream.id];\n      return origRemoveStream.apply(this, arguments);\n    };\n\n  const origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n  window.RTCPeerConnection.prototype.removeTrack =\n    function removeTrack(sender) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      if (sender) {\n        Object.keys(this._shimmedLocalStreams).forEach(streamId => {\n          const idx = this._shimmedLocalStreams[streamId].indexOf(sender);\n          if (idx !== -1) {\n            this._shimmedLocalStreams[streamId].splice(idx, 1);\n          }\n          if (this._shimmedLocalStreams[streamId].length === 1) {\n            delete this._shimmedLocalStreams[streamId];\n          }\n        });\n      }\n      return origRemoveTrack.apply(this, arguments);\n    };\n}\n\nexport function shimAddTrackRemoveTrack(window, browserDetails) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  // shim addTrack and removeTrack.\n  if (window.RTCPeerConnection.prototype.addTrack &&\n      browserDetails.version >= 65) {\n    return shimAddTrackRemoveTrackWithNative(window);\n  }\n\n  // also shim pc.getLocalStreams when addTrack is shimmed\n  // to return the original streams.\n  const origGetLocalStreams = window.RTCPeerConnection.prototype\n    .getLocalStreams;\n  window.RTCPeerConnection.prototype.getLocalStreams =\n    function getLocalStreams() {\n      const nativeStreams = origGetLocalStreams.apply(this);\n      this._reverseStreams = this._reverseStreams || {};\n      return nativeStreams.map(stream => this._reverseStreams[stream.id]);\n    };\n\n  const origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    this._streams = this._streams || {};\n    this._reverseStreams = this._reverseStreams || {};\n\n    stream.getTracks().forEach(track => {\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n          'InvalidAccessError');\n      }\n    });\n    // Add identity mapping for consistency with addTrack.\n    // Unless this is being used with a stream from addTrack.\n    if (!this._reverseStreams[stream.id]) {\n      const newStream = new window.MediaStream(stream.getTracks());\n      this._streams[stream.id] = newStream;\n      this._reverseStreams[newStream.id] = stream;\n      stream = newStream;\n    }\n    origAddStream.apply(this, [stream]);\n  };\n\n  const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      this._streams = this._streams || {};\n      this._reverseStreams = this._reverseStreams || {};\n\n      origRemoveStream.apply(this, [(this._streams[stream.id] || stream)]);\n      delete this._reverseStreams[(this._streams[stream.id] ?\n        this._streams[stream.id].id : stream.id)];\n      delete this._streams[stream.id];\n    };\n\n  window.RTCPeerConnection.prototype.addTrack =\n    function addTrack(track, stream) {\n      if (this.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      const streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(t => t === track)) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n          'InvalidAccessError');\n      }\n\n      this._streams = this._streams || {};\n      this._reverseStreams = this._reverseStreams || {};\n      const oldStream = this._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(() => {\n          this.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        const newStream = new window.MediaStream([track]);\n        this._streams[stream.id] = newStream;\n        this._reverseStreams[newStream.id] = stream;\n        this.addStream(newStream);\n      }\n      return this.getSenders().find(s => s.track === track);\n    };\n\n  // replace the internal stream id with the external one and\n  // vice versa.\n  function replaceInternalStreamId(pc, description) {\n    let sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(internalId => {\n      const externalStream = pc._reverseStreams[internalId];\n      const internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n        externalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp\n    });\n  }\n  function replaceExternalStreamId(pc, description) {\n    let sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(internalId => {\n      const externalStream = pc._reverseStreams[internalId];\n      const internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n        internalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp\n    });\n  }\n  ['createOffer', 'createAnswer'].forEach(function(method) {\n    const nativeMethod = window.RTCPeerConnection.prototype[method];\n    const methodObj = {[method]() {\n      const args = arguments;\n      const isLegacyCall = arguments.length &&\n          typeof arguments[0] === 'function';\n      if (isLegacyCall) {\n        return nativeMethod.apply(this, [\n          (description) => {\n            const desc = replaceInternalStreamId(this, description);\n            args[0].apply(null, [desc]);\n          },\n          (err) => {\n            if (args[1]) {\n              args[1].apply(null, err);\n            }\n          }, arguments[2]\n        ]);\n      }\n      return nativeMethod.apply(this, arguments)\n        .then(description => replaceInternalStreamId(this, description));\n    }};\n    window.RTCPeerConnection.prototype[method] = methodObj[method];\n  });\n\n  const origSetLocalDescription =\n      window.RTCPeerConnection.prototype.setLocalDescription;\n  window.RTCPeerConnection.prototype.setLocalDescription =\n    function setLocalDescription() {\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(this, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(this, arguments[0]);\n      return origSetLocalDescription.apply(this, arguments);\n    };\n\n  // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n  const origLocalDescription = Object.getOwnPropertyDescriptor(\n    window.RTCPeerConnection.prototype, 'localDescription');\n  Object.defineProperty(window.RTCPeerConnection.prototype,\n    'localDescription', {\n      get() {\n        const description = origLocalDescription.get.apply(this);\n        if (description.type === '') {\n          return description;\n        }\n        return replaceInternalStreamId(this, description);\n      }\n    });\n\n  window.RTCPeerConnection.prototype.removeTrack =\n    function removeTrack(sender) {\n      if (this.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      const isLocal = sender._pc === this;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n          'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      this._streams = this._streams || {};\n      let stream;\n      Object.keys(this._streams).forEach(streamid => {\n        const hasTrack = this._streams[streamid].getTracks()\n          .find(track => sender.track === track);\n        if (hasTrack) {\n          stream = this._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          this.removeStream(this._reverseStreams[stream.id]);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        this.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n}\n\nexport function shimPeerConnection(window, browserDetails) {\n  if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.webkitRTCPeerConnection;\n  }\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n  if (browserDetails.version < 53) {\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n      .forEach(function(method) {\n        const nativeMethod = window.RTCPeerConnection.prototype[method];\n        const methodObj = {[method]() {\n          arguments[0] = new ((method === 'addIceCandidate') ?\n            window.RTCIceCandidate :\n            window.RTCSessionDescription)(arguments[0]);\n          return nativeMethod.apply(this, arguments);\n        }};\n        window.RTCPeerConnection.prototype[method] = methodObj[method];\n      });\n  }\n}\n\n// Attempt to fix ONN in plan-b mode.\nexport function fixNegotiationNeeded(window, browserDetails) {\n  utils.wrapPeerConnectionEvent(window, 'negotiationneeded', e => {\n    const pc = e.target;\n    if (browserDetails.version < 72 || (pc.getConfiguration &&\n        pc.getConfiguration().sdpSemantics === 'plan-b')) {\n      if (pc.signalingState !== 'stable') {\n        return;\n      }\n    }\n    return e;\n  });\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\n\nexport function shimGetUserMedia(window, browserDetails) {\n  const navigator = window && window.navigator;\n  const MediaStreamTrack = window && window.MediaStreamTrack;\n\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n      'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    const remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    const nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      const nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        const obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      const nativeApplyConstraints =\n        MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n}\n","/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nexport function shimGetDisplayMedia(window, preferredMediaSource) {\n  if (window.navigator.mediaDevices &&\n    'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!(window.navigator.mediaDevices)) {\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia =\n    function getDisplayMedia(constraints) {\n      if (!(constraints && constraints.video)) {\n        const err = new DOMException('getDisplayMedia without video ' +\n            'constraints is undefined');\n        err.name = 'NotFoundError';\n        // from https://heycam.github.io/webidl/#idl-DOMException-error-names\n        err.code = 8;\n        return Promise.reject(err);\n      }\n      if (constraints.video === true) {\n        constraints.video = {mediaSource: preferredMediaSource};\n      } else {\n        constraints.video.mediaSource = preferredMediaSource;\n      }\n      return window.navigator.mediaDevices.getUserMedia(constraints);\n    };\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\nexport {shimGetUserMedia} from './getusermedia';\nexport {shimGetDisplayMedia} from './getdisplaymedia';\n\nexport function shimOnTrack(window) {\n  if (typeof window === 'object' && window.RTCTrackEvent &&\n      ('receiver' in window.RTCTrackEvent.prototype) &&\n      !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get() {\n        return {receiver: this.receiver};\n      }\n    });\n  }\n}\n\nexport function shimPeerConnection(window, browserDetails) {\n  if (typeof window !== 'object' ||\n      !(window.RTCPeerConnection || window.mozRTCPeerConnection)) {\n    return; // probably media.peerconnection.enabled=false in about:config\n  }\n  if (!window.RTCPeerConnection && window.mozRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.mozRTCPeerConnection;\n  }\n\n  if (browserDetails.version < 53) {\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n      .forEach(function(method) {\n        const nativeMethod = window.RTCPeerConnection.prototype[method];\n        const methodObj = {[method]() {\n          arguments[0] = new ((method === 'addIceCandidate') ?\n            window.RTCIceCandidate :\n            window.RTCSessionDescription)(arguments[0]);\n          return nativeMethod.apply(this, arguments);\n        }};\n        window.RTCPeerConnection.prototype[method] = methodObj[method];\n      });\n  }\n\n  const modernStatsTypes = {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  };\n\n  const nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    const [selector, onSucc, onErr] = arguments;\n    return nativeGetStats.apply(this, [selector || null])\n      .then(stats => {\n        if (browserDetails.version < 53 && !onSucc) {\n          // Shim only promise getStats with spec-hyphens in type names\n          // Leave callback version alone; misc old uses of forEach before Map\n          try {\n            stats.forEach(stat => {\n              stat.type = modernStatsTypes[stat.type] || stat.type;\n            });\n          } catch (e) {\n            if (e.name !== 'TypeError') {\n              throw e;\n            }\n            // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n            stats.forEach((stat, i) => {\n              stats.set(i, Object.assign({}, stat, {\n                type: modernStatsTypes[stat.type] || stat.type\n              }));\n            });\n          }\n        }\n        return stats;\n      })\n      .then(onSucc, onErr);\n  };\n}\n\nexport function shimSenderGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) {\n    return;\n  }\n  const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n  if (origGetSenders) {\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      const senders = origGetSenders.apply(this, []);\n      senders.forEach(sender => sender._pc = this);\n      return senders;\n    };\n  }\n\n  const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  if (origAddTrack) {\n    window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n      const sender = origAddTrack.apply(this, arguments);\n      sender._pc = this;\n      return sender;\n    };\n  }\n  window.RTCRtpSender.prototype.getStats = function getStats() {\n    return this.track ? this._pc.getStats(this.track) :\n      Promise.resolve(new Map());\n  };\n}\n\nexport function shimReceiverGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) {\n    return;\n  }\n  const origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n  if (origGetReceivers) {\n    window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n      const receivers = origGetReceivers.apply(this, []);\n      receivers.forEach(receiver => receiver._pc = this);\n      return receivers;\n    };\n  }\n  utils.wrapPeerConnectionEvent(window, 'track', e => {\n    e.receiver._pc = e.srcElement;\n    return e;\n  });\n  window.RTCRtpReceiver.prototype.getStats = function getStats() {\n    return this._pc.getStats(this.track);\n  };\n}\n\nexport function shimRemoveStream(window) {\n  if (!window.RTCPeerConnection ||\n      'removeStream' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      utils.deprecated('removeStream', 'removeTrack');\n      this.getSenders().forEach(sender => {\n        if (sender.track && stream.getTracks().includes(sender.track)) {\n          this.removeTrack(sender);\n        }\n      });\n    };\n}\n\nexport function shimRTCDataChannel(window) {\n  // rename DataChannel to RTCDataChannel (native fix in FF60):\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851\n  if (window.DataChannel && !window.RTCDataChannel) {\n    window.RTCDataChannel = window.DataChannel;\n  }\n}\n\nexport function shimAddTransceiver(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origAddTransceiver = window.RTCPeerConnection.prototype.addTransceiver;\n  if (origAddTransceiver) {\n    window.RTCPeerConnection.prototype.addTransceiver =\n      function addTransceiver() {\n        this.setParametersPromises = [];\n        // WebIDL input coercion and validation\n        let sendEncodings = arguments[1] && arguments[1].sendEncodings;\n        if (sendEncodings === undefined) {\n          sendEncodings = [];\n        }\n        sendEncodings = [...sendEncodings];\n        const shouldPerformCheck = sendEncodings.length > 0;\n        if (shouldPerformCheck) {\n          // If sendEncodings params are provided, validate grammar\n          sendEncodings.forEach((encodingParam) => {\n            if ('rid' in encodingParam) {\n              const ridRegex = /^[a-z0-9]{0,16}$/i;\n              if (!ridRegex.test(encodingParam.rid)) {\n                throw new TypeError('Invalid RID value provided.');\n              }\n            }\n            if ('scaleResolutionDownBy' in encodingParam) {\n              if (!(parseFloat(encodingParam.scaleResolutionDownBy) >= 1.0)) {\n                throw new RangeError('scale_resolution_down_by must be >= 1.0');\n              }\n            }\n            if ('maxFramerate' in encodingParam) {\n              if (!(parseFloat(encodingParam.maxFramerate) >= 0)) {\n                throw new RangeError('max_framerate must be >= 0.0');\n              }\n            }\n          });\n        }\n        const transceiver = origAddTransceiver.apply(this, arguments);\n        if (shouldPerformCheck) {\n          // Check if the init options were applied. If not we do this in an\n          // asynchronous way and save the promise reference in a global object.\n          // This is an ugly hack, but at the same time is way more robust than\n          // checking the sender parameters before and after the createOffer\n          // Also note that after the createoffer we are not 100% sure that\n          // the params were asynchronously applied so we might miss the\n          // opportunity to recreate offer.\n          const {sender} = transceiver;\n          const params = sender.getParameters();\n          if (!('encodings' in params) ||\n              // Avoid being fooled by patched getParameters() below.\n              (params.encodings.length === 1 &&\n               Object.keys(params.encodings[0]).length === 0)) {\n            params.encodings = sendEncodings;\n            sender.sendEncodings = sendEncodings;\n            this.setParametersPromises.push(sender.setParameters(params)\n              .then(() => {\n                delete sender.sendEncodings;\n              }).catch(() => {\n                delete sender.sendEncodings;\n              })\n            );\n          }\n        }\n        return transceiver;\n      };\n  }\n}\n\nexport function shimGetParameters(window) {\n  if (!(typeof window === 'object' && window.RTCRtpSender)) {\n    return;\n  }\n  const origGetParameters = window.RTCRtpSender.prototype.getParameters;\n  if (origGetParameters) {\n    window.RTCRtpSender.prototype.getParameters =\n      function getParameters() {\n        const params = origGetParameters.apply(this, arguments);\n        if (!('encodings' in params)) {\n          params.encodings = [].concat(this.sendEncodings || [{}]);\n        }\n        return params;\n      };\n  }\n}\n\nexport function shimCreateOffer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer = function createOffer() {\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises)\n        .then(() => {\n          return origCreateOffer.apply(this, arguments);\n        })\n        .finally(() => {\n          this.setParametersPromises = [];\n        });\n    }\n    return origCreateOffer.apply(this, arguments);\n  };\n}\n\nexport function shimCreateAnswer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origCreateAnswer = window.RTCPeerConnection.prototype.createAnswer;\n  window.RTCPeerConnection.prototype.createAnswer = function createAnswer() {\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises)\n        .then(() => {\n          return origCreateAnswer.apply(this, arguments);\n        })\n        .finally(() => {\n          this.setParametersPromises = [];\n        });\n    }\n    return origCreateAnswer.apply(this, arguments);\n  };\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nimport * as utils from '../utils';\n\nexport function shimLocalStreamsAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getLocalStreams =\n      function getLocalStreams() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n  }\n  if (!('addStream' in window.RTCPeerConnection.prototype)) {\n    const _addTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      if (!this._localStreams) {\n        this._localStreams = [];\n      }\n      if (!this._localStreams.includes(stream)) {\n        this._localStreams.push(stream);\n      }\n      // Try to emulate Chrome's behaviour of adding in audio-video order.\n      // Safari orders by track id.\n      stream.getAudioTracks().forEach(track => _addTrack.call(this, track,\n        stream));\n      stream.getVideoTracks().forEach(track => _addTrack.call(this, track,\n        stream));\n    };\n\n    window.RTCPeerConnection.prototype.addTrack =\n      function addTrack(track, ...streams) {\n        if (streams) {\n          streams.forEach((stream) => {\n            if (!this._localStreams) {\n              this._localStreams = [stream];\n            } else if (!this._localStreams.includes(stream)) {\n              this._localStreams.push(stream);\n            }\n          });\n        }\n        return _addTrack.apply(this, arguments);\n      };\n  }\n  if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.removeStream =\n      function removeStream(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        const index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        const tracks = stream.getTracks();\n        this.getSenders().forEach(sender => {\n          if (tracks.includes(sender.track)) {\n            this.removeTrack(sender);\n          }\n        });\n      };\n  }\n}\n\nexport function shimRemoteStreamsAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getRemoteStreams =\n      function getRemoteStreams() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n  }\n  if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n      get() {\n        return this._onaddstream;\n      },\n      set(f) {\n        if (this._onaddstream) {\n          this.removeEventListener('addstream', this._onaddstream);\n          this.removeEventListener('track', this._onaddstreampoly);\n        }\n        this.addEventListener('addstream', this._onaddstream = f);\n        this.addEventListener('track', this._onaddstreampoly = (e) => {\n          e.streams.forEach(stream => {\n            if (!this._remoteStreams) {\n              this._remoteStreams = [];\n            }\n            if (this._remoteStreams.includes(stream)) {\n              return;\n            }\n            this._remoteStreams.push(stream);\n            const event = new Event('addstream');\n            event.stream = stream;\n            this.dispatchEvent(event);\n          });\n        });\n      }\n    });\n    const origSetRemoteDescription =\n      window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n      function setRemoteDescription() {\n        const pc = this;\n        if (!this._onaddstreampoly) {\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            e.streams.forEach(stream => {\n              if (!pc._remoteStreams) {\n                pc._remoteStreams = [];\n              }\n              if (pc._remoteStreams.indexOf(stream) >= 0) {\n                return;\n              }\n              pc._remoteStreams.push(stream);\n              const event = new Event('addstream');\n              event.stream = stream;\n              pc.dispatchEvent(event);\n            });\n          });\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n  }\n}\n\nexport function shimCallbacksAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  const prototype = window.RTCPeerConnection.prototype;\n  const origCreateOffer = prototype.createOffer;\n  const origCreateAnswer = prototype.createAnswer;\n  const setLocalDescription = prototype.setLocalDescription;\n  const setRemoteDescription = prototype.setRemoteDescription;\n  const addIceCandidate = prototype.addIceCandidate;\n\n  prototype.createOffer =\n    function createOffer(successCallback, failureCallback) {\n      const options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      const promise = origCreateOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n  prototype.createAnswer =\n    function createAnswer(successCallback, failureCallback) {\n      const options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      const promise = origCreateAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n  let withCallback = function(description, successCallback, failureCallback) {\n    const promise = setLocalDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setLocalDescription = withCallback;\n\n  withCallback = function(description, successCallback, failureCallback) {\n    const promise = setRemoteDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setRemoteDescription = withCallback;\n\n  withCallback = function(candidate, successCallback, failureCallback) {\n    const promise = addIceCandidate.apply(this, [candidate]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.addIceCandidate = withCallback;\n}\n\nexport function shimGetUserMedia(window) {\n  const navigator = window && window.navigator;\n\n  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    // shim not needed in Safari 12.1\n    const mediaDevices = navigator.mediaDevices;\n    const _getUserMedia = mediaDevices.getUserMedia.bind(mediaDevices);\n    navigator.mediaDevices.getUserMedia = (constraints) => {\n      return _getUserMedia(shimConstraints(constraints));\n    };\n  }\n\n  if (!navigator.getUserMedia && navigator.mediaDevices &&\n    navigator.mediaDevices.getUserMedia) {\n    navigator.getUserMedia = function getUserMedia(constraints, cb, errcb) {\n      navigator.mediaDevices.getUserMedia(constraints)\n        .then(cb, errcb);\n    }.bind(navigator);\n  }\n}\n\nexport function shimConstraints(constraints) {\n  if (constraints && constraints.video !== undefined) {\n    return Object.assign({},\n      constraints,\n      {video: utils.compactObject(constraints.video)}\n    );\n  }\n\n  return constraints;\n}\n\nexport function shimRTCIceServerUrls(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n  const OrigPeerConnection = window.RTCPeerConnection;\n  window.RTCPeerConnection =\n    function RTCPeerConnection(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        const newIceServers = [];\n        for (let i = 0; i < pcConfig.iceServers.length; i++) {\n          let server = pcConfig.iceServers[i];\n          if (server.urls === undefined && server.url) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n  window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n  // wrap static methods. Currently just generateCertificate.\n  if ('generateCertificate' in OrigPeerConnection) {\n    Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n      get() {\n        return OrigPeerConnection.generateCertificate;\n      }\n    });\n  }\n}\n\nexport function shimTrackEventTransceiver(window) {\n  // Add event.transceiver member over deprecated event.receiver\n  if (typeof window === 'object' && window.RTCTrackEvent &&\n      'receiver' in window.RTCTrackEvent.prototype &&\n      !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get() {\n        return {receiver: this.receiver};\n      }\n    });\n  }\n}\n\nexport function shimCreateOfferLegacy(window) {\n  const origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer =\n    function createOffer(offerOptions) {\n      if (offerOptions) {\n        if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveAudio =\n            !!offerOptions.offerToReceiveAudio;\n        }\n        const audioTransceiver = this.getTransceivers().find(transceiver =>\n          transceiver.receiver.track.kind === 'audio');\n        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n          if (audioTransceiver.direction === 'sendrecv') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendonly');\n            } else {\n              audioTransceiver.direction = 'sendonly';\n            }\n          } else if (audioTransceiver.direction === 'recvonly') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('inactive');\n            } else {\n              audioTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveAudio === true &&\n            !audioTransceiver) {\n          this.addTransceiver('audio', {direction: 'recvonly'});\n        }\n\n        if (typeof offerOptions.offerToReceiveVideo !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveVideo =\n            !!offerOptions.offerToReceiveVideo;\n        }\n        const videoTransceiver = this.getTransceivers().find(transceiver =>\n          transceiver.receiver.track.kind === 'video');\n        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n          if (videoTransceiver.direction === 'sendrecv') {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('sendonly');\n            } else {\n              videoTransceiver.direction = 'sendonly';\n            }\n          } else if (videoTransceiver.direction === 'recvonly') {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('inactive');\n            } else {\n              videoTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveVideo === true &&\n            !videoTransceiver) {\n          this.addTransceiver('video', {direction: 'recvonly'});\n        }\n      }\n      return origCreateOffer.apply(this, arguments);\n    };\n}\n\nexport function shimAudioContext(window) {\n  if (typeof window !== 'object' || window.AudioContext) {\n    return;\n  }\n  window.AudioContext = window.webkitAudioContext;\n}\n\n","/* eslint-env node */\n'use strict';\n\n// SDP helpers.\nconst SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substring(2, 12);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(line => line.trim());\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  const parts = blob.split('\\nm=');\n  return parts.map((part, index) => (index > 0 ?\n    'm=' + part : part).trim() + '\\r\\n');\n};\n\n// Returns the session description.\nSDPUtils.getDescription = function(blob) {\n  const sections = SDPUtils.splitSections(blob);\n  return sections && sections[0];\n};\n\n// Returns the individual media sections.\nSDPUtils.getMediaSections = function(blob) {\n  const sections = SDPUtils.splitSections(blob);\n  sections.shift();\n  return sections;\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(line => line.indexOf(prefix) === 0);\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\n// Input can be prefixed with a=.\nSDPUtils.parseCandidate = function(line) {\n  let parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  const candidate = {\n    foundation: parts[0],\n    component: {1: 'rtp', 2: 'rtcp'}[parts[1]] || parts[1],\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    address: parts[4], // address is an alias for ip.\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7],\n  };\n\n  for (let i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compatibility.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag. Don't overwrite.\n        if (candidate[parts[i]] === undefined) {\n          candidate[parts[i]] = parts[i + 1];\n        }\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\n// This does not include the a= prefix!\nSDPUtils.writeCandidate = function(candidate) {\n  const sdp = [];\n  sdp.push(candidate.foundation);\n\n  const component = candidate.component;\n  if (component === 'rtp') {\n    sdp.push(1);\n  } else if (component === 'rtcp') {\n    sdp.push(2);\n  } else {\n    sdp.push(component);\n  }\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.address || candidate.ip);\n  sdp.push(candidate.port);\n\n  const type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress);\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort);\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.usernameFragment || candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.usernameFragment || candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// Sample input:\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substring(14).split(' ');\n};\n\n// Parses a rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  let parts = line.substring(9).split(' ');\n  const parsed = {\n    payloadType: parseInt(parts.shift(), 10), // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  parsed.channels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  // legacy alias, got renamed back to channels in ORTC.\n  parsed.numChannels = parsed.channels;\n  return parsed;\n};\n\n// Generates a rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  let pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  const channels = codec.channels || codec.numChannels || 1;\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (channels !== 1 ? '/' + channels : '') + '\\r\\n';\n};\n\n// Parses a extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  const parts = line.substring(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1],\n    attributes: parts.slice(2).join(' '),\n  };\n};\n\n// Generates an extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n        ? '/' + headerExtension.direction\n        : '') +\n      ' ' + headerExtension.uri +\n      (headerExtension.attributes ? ' ' + headerExtension.attributes : '') +\n      '\\r\\n';\n};\n\n// Parses a fmtp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  const parsed = {};\n  let kv;\n  const parts = line.substring(line.indexOf(' ') + 1).split(';');\n  for (let j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates a fmtp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  let line = '';\n  let pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    const params = [];\n    Object.keys(codec.parameters).forEach(param => {\n      if (codec.parameters[param] !== undefined) {\n        params.push(param + '=' + codec.parameters[param]);\n      } else {\n        params.push(param);\n      }\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses a rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  const parts = line.substring(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' '),\n  };\n};\n\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  let lines = '';\n  let pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(fb => {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses a RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  const sp = line.indexOf(' ');\n  const parts = {\n    ssrc: parseInt(line.substring(7, sp), 10),\n  };\n  const colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substring(sp + 1, colon);\n    parts.value = line.substring(colon + 1);\n  } else {\n    parts.attribute = line.substring(sp + 1);\n  }\n  return parts;\n};\n\n// Parse a ssrc-group line (see RFC 5576). Sample input:\n// a=ssrc-group:semantics 12 34\nSDPUtils.parseSsrcGroup = function(line) {\n  const parts = line.substring(13).split(' ');\n  return {\n    semantics: parts.shift(),\n    ssrcs: parts.map(ssrc => parseInt(ssrc, 10)),\n  };\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// Returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  const mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substring(6);\n  }\n};\n\n// Parses a fingerprint line for DTLS-SRTP.\nSDPUtils.parseFingerprint = function(line) {\n  const parts = line.substring(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1].toUpperCase(), // the definition is upper-case in RFC 4572.\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  const lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint),\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  let sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(fp => {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n\n// Parses a=crypto lines into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#dictionary-rtcsrtpsdesparameters-members\nSDPUtils.parseCryptoLine = function(line) {\n  const parts = line.substring(9).split(' ');\n  return {\n    tag: parseInt(parts[0], 10),\n    cryptoSuite: parts[1],\n    keyParams: parts[2],\n    sessionParams: parts.slice(3),\n  };\n};\n\nSDPUtils.writeCryptoLine = function(parameters) {\n  return 'a=crypto:' + parameters.tag + ' ' +\n    parameters.cryptoSuite + ' ' +\n    (typeof parameters.keyParams === 'object'\n      ? SDPUtils.writeCryptoKeyParams(parameters.keyParams)\n      : parameters.keyParams) +\n    (parameters.sessionParams ? ' ' + parameters.sessionParams.join(' ') : '') +\n    '\\r\\n';\n};\n\n// Parses the crypto key parameters into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#rtcsrtpkeyparam*\nSDPUtils.parseCryptoKeyParams = function(keyParams) {\n  if (keyParams.indexOf('inline:') !== 0) {\n    return null;\n  }\n  const parts = keyParams.substring(7).split('|');\n  return {\n    keyMethod: 'inline',\n    keySalt: parts[0],\n    lifeTime: parts[1],\n    mkiValue: parts[2] ? parts[2].split(':')[0] : undefined,\n    mkiLength: parts[2] ? parts[2].split(':')[1] : undefined,\n  };\n};\n\nSDPUtils.writeCryptoKeyParams = function(keyParams) {\n  return keyParams.keyMethod + ':'\n    + keyParams.keySalt +\n    (keyParams.lifeTime ? '|' + keyParams.lifeTime : '') +\n    (keyParams.mkiValue && keyParams.mkiLength\n      ? '|' + keyParams.mkiValue + ':' + keyParams.mkiLength\n      : '');\n};\n\n// Extracts all SDES parameters.\nSDPUtils.getCryptoParameters = function(mediaSection, sessionpart) {\n  const lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=crypto:');\n  return lines.map(SDPUtils.parseCryptoLine);\n};\n\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  const ufrag = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=ice-ufrag:')[0];\n  const pwd = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=ice-pwd:')[0];\n  if (!(ufrag && pwd)) {\n    return null;\n  }\n  return {\n    usernameFragment: ufrag.substring(12),\n    password: pwd.substring(10),\n  };\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  let sdp = 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n  if (params.iceLite) {\n    sdp += 'a=ice-lite\\r\\n';\n  }\n  return sdp;\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  const description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: [],\n  };\n  const lines = SDPUtils.splitLines(mediaSection);\n  const mline = lines[0].split(' ');\n  description.profile = mline[2];\n  for (let i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    const pt = mline[i];\n    const rtpmapline = SDPUtils.matchPrefix(\n      mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      const codec = SDPUtils.parseRtpMap(rtpmapline);\n      const fmtps = SDPUtils.matchPrefix(\n        mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(line => {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  const wildcardRtcpFb = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-fb:* ')\n    .map(SDPUtils.parseRtcpFb);\n  description.codecs.forEach(codec => {\n    wildcardRtcpFb.forEach(fb=> {\n      const duplicate = codec.rtcpFeedback.find(existingFeedback => {\n        return existingFeedback.type === fb.type &&\n          existingFeedback.parameter === fb.parameter;\n      });\n      if (!duplicate) {\n        codec.rtcpFeedback.push(fb);\n      }\n    });\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  let sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' ' + (caps.profile || 'UDP/TLS/RTP/SAVPF') + ' ';\n  sdp += caps.codecs.map(codec => {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(codec => {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  let maxptime = 0;\n  caps.codecs.forEach(codec => {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n\n  if (caps.headerExtensions) {\n    caps.headerExtensions.forEach(extension => {\n      sdp += SDPUtils.writeExtmap(extension);\n    });\n  }\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  const encodingParameters = [];\n  const description = SDPUtils.parseRtpParameters(mediaSection);\n  const hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  const hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  const ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(line => SDPUtils.parseSsrcMedia(line))\n    .filter(parts => parts.attribute === 'cname');\n  const primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  let secondarySsrc;\n\n  const flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n    .map(line => {\n      const parts = line.substring(17).split(' ');\n      return parts.map(part => parseInt(part, 10));\n    });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(codec => {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      let encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n      };\n      if (primarySsrc && secondarySsrc) {\n        encParam.rtx = {ssrc: secondarySsrc};\n      }\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: primarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red',\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc,\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  let bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substring(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substring(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(params => {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  const rtcpParameters = {};\n\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  const remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(line => SDPUtils.parseSsrcMedia(line))\n    .filter(obj => obj.attribute === 'cname')[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  const rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrbute.\n  // Note that Edge does not support unmuxed RTCP.\n  const mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\nSDPUtils.writeRtcpParameters = function(rtcpParameters) {\n  let sdp = '';\n  if (rtcpParameters.reducedSize) {\n    sdp += 'a=rtcp-rsize\\r\\n';\n  }\n  if (rtcpParameters.mux) {\n    sdp += 'a=rtcp-mux\\r\\n';\n  }\n  if (rtcpParameters.ssrc !== undefined && rtcpParameters.cname) {\n    sdp += 'a=ssrc:' + rtcpParameters.ssrc +\n      ' cname:' + rtcpParameters.cname + '\\r\\n';\n  }\n  return sdp;\n};\n\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  let parts;\n  const spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substring(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  const planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(line => SDPUtils.parseSsrcMedia(line))\n    .filter(msidParts => msidParts.attribute === 'msid');\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// SCTP\n// parses draft-ietf-mmusic-sctp-sdp-26 first and falls back\n// to draft-ietf-mmusic-sctp-sdp-05\nSDPUtils.parseSctpDescription = function(mediaSection) {\n  const mline = SDPUtils.parseMLine(mediaSection);\n  const maxSizeLine = SDPUtils.matchPrefix(mediaSection, 'a=max-message-size:');\n  let maxMessageSize;\n  if (maxSizeLine.length > 0) {\n    maxMessageSize = parseInt(maxSizeLine[0].substring(19), 10);\n  }\n  if (isNaN(maxMessageSize)) {\n    maxMessageSize = 65536;\n  }\n  const sctpPort = SDPUtils.matchPrefix(mediaSection, 'a=sctp-port:');\n  if (sctpPort.length > 0) {\n    return {\n      port: parseInt(sctpPort[0].substring(12), 10),\n      protocol: mline.fmt,\n      maxMessageSize,\n    };\n  }\n  const sctpMapLines = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:');\n  if (sctpMapLines.length > 0) {\n    const parts = sctpMapLines[0]\n      .substring(10)\n      .split(' ');\n    return {\n      port: parseInt(parts[0], 10),\n      protocol: parts[1],\n      maxMessageSize,\n    };\n  }\n};\n\n// SCTP\n// outputs the draft-ietf-mmusic-sctp-sdp-26 version that all browsers\n// support by now receiving in this format, unless we originally parsed\n// as the draft-ietf-mmusic-sctp-sdp-05 format (indicated by the m-line\n// protocol of DTLS/SCTP -- without UDP/ or TCP/)\nSDPUtils.writeSctpDescription = function(media, sctp) {\n  let output = [];\n  if (media.protocol !== 'DTLS/SCTP') {\n    output = [\n      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.protocol + '\\r\\n',\n      'c=IN IP4 0.0.0.0\\r\\n',\n      'a=sctp-port:' + sctp.port + '\\r\\n',\n    ];\n  } else {\n    output = [\n      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.port + '\\r\\n',\n      'c=IN IP4 0.0.0.0\\r\\n',\n      'a=sctpmap:' + sctp.port + ' ' + sctp.protocol + ' 65535\\r\\n',\n    ];\n  }\n  if (sctp.maxMessageSize !== undefined) {\n    output.push('a=max-message-size:' + sctp.maxMessageSize + '\\r\\n');\n  }\n  return output.join('');\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 22);\n};\n\n// Write boiler plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\n// sessUser is optional and defaults to 'thisisadapterortc'\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer, sessUser) {\n  let sessionId;\n  const version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  const user = sessUser || 'thisisadapterortc';\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=' + user + ' ' + sessionId + ' ' + version +\n        ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  const lines = SDPUtils.splitLines(mediaSection);\n  for (let i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substring(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  const lines = SDPUtils.splitLines(mediaSection);\n  const mline = lines[0].split(' ');\n  return mline[0].substring(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  const lines = SDPUtils.splitLines(mediaSection);\n  const parts = lines[0].substring(2).split(' ');\n  return {\n    kind: parts[0],\n    port: parseInt(parts[1], 10),\n    protocol: parts[2],\n    fmt: parts.slice(3).join(' '),\n  };\n};\n\nSDPUtils.parseOLine = function(mediaSection) {\n  const line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];\n  const parts = line.substring(2).split(' ');\n  return {\n    username: parts[0],\n    sessionId: parts[1],\n    sessionVersion: parseInt(parts[2], 10),\n    netType: parts[3],\n    addressType: parts[4],\n    address: parts[5],\n  };\n};\n\n// a very naive interpretation of a valid SDP.\nSDPUtils.isValidSDP = function(blob) {\n  if (typeof blob !== 'string' || blob.length === 0) {\n    return false;\n  }\n  const lines = SDPUtils.splitLines(blob);\n  for (let i = 0; i < lines.length; i++) {\n    if (lines[i].length < 2 || lines[i].charAt(1) !== '=') {\n      return false;\n    }\n    // TODO: check the modifier a bit more.\n  }\n  return true;\n};\n\n// Expose public methods.\nif (typeof module === 'object') {\n  module.exports = SDPUtils;\n}\n","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport SDPUtils from 'sdp';\nimport * as utils from './utils';\n\nexport function shimRTCIceCandidate(window) {\n  // foundation is arbitrarily chosen as an indicator for full support for\n  // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n  if (!window.RTCIceCandidate || (window.RTCIceCandidate && 'foundation' in\n      window.RTCIceCandidate.prototype)) {\n    return;\n  }\n\n  const NativeRTCIceCandidate = window.RTCIceCandidate;\n  window.RTCIceCandidate = function RTCIceCandidate(args) {\n    // Remove the a= which shouldn't be part of the candidate string.\n    if (typeof args === 'object' && args.candidate &&\n        args.candidate.indexOf('a=') === 0) {\n      args = JSON.parse(JSON.stringify(args));\n      args.candidate = args.candidate.substring(2);\n    }\n\n    if (args.candidate && args.candidate.length) {\n      // Augment the native candidate with the parsed fields.\n      const nativeCandidate = new NativeRTCIceCandidate(args);\n      const parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n      for (const key in parsedCandidate) {\n        if (!(key in nativeCandidate)) {\n          Object.defineProperty(nativeCandidate, key,\n            {value: parsedCandidate[key]});\n        }\n      }\n\n      // Override serializer to not serialize the extra attributes.\n      nativeCandidate.toJSON = function toJSON() {\n        return {\n          candidate: nativeCandidate.candidate,\n          sdpMid: nativeCandidate.sdpMid,\n          sdpMLineIndex: nativeCandidate.sdpMLineIndex,\n          usernameFragment: nativeCandidate.usernameFragment,\n        };\n      };\n      return nativeCandidate;\n    }\n    return new NativeRTCIceCandidate(args);\n  };\n  window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;\n\n  // Hook up the augmented candidate in onicecandidate and\n  // addEventListener('icecandidate', ...)\n  utils.wrapPeerConnectionEvent(window, 'icecandidate', e => {\n    if (e.candidate) {\n      Object.defineProperty(e, 'candidate', {\n        value: new window.RTCIceCandidate(e.candidate),\n        writable: 'false'\n      });\n    }\n    return e;\n  });\n}\n\nexport function shimRTCIceCandidateRelayProtocol(window) {\n  if (!window.RTCIceCandidate || (window.RTCIceCandidate && 'relayProtocol' in\n      window.RTCIceCandidate.prototype)) {\n    return;\n  }\n\n  // Hook up the augmented candidate in onicecandidate and\n  // addEventListener('icecandidate', ...)\n  utils.wrapPeerConnectionEvent(window, 'icecandidate', e => {\n    if (e.candidate) {\n      const parsedCandidate = SDPUtils.parseCandidate(e.candidate.candidate);\n      if (parsedCandidate.type === 'relay') {\n        // This is a libwebrtc-specific mapping of local type preference\n        // to relayProtocol.\n        e.candidate.relayProtocol = {\n          0: 'tls',\n          1: 'tcp',\n          2: 'udp',\n        }[parsedCandidate.priority >> 24];\n      }\n    }\n    return e;\n  });\n}\n\nexport function shimMaxMessageSize(window, browserDetails) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  if (!('sctp' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n      get() {\n        return typeof this._sctp === 'undefined' ? null : this._sctp;\n      }\n    });\n  }\n\n  const sctpInDescription = function(description) {\n    if (!description || !description.sdp) {\n      return false;\n    }\n    const sections = SDPUtils.splitSections(description.sdp);\n    sections.shift();\n    return sections.some(mediaSection => {\n      const mLine = SDPUtils.parseMLine(mediaSection);\n      return mLine && mLine.kind === 'application'\n          && mLine.protocol.indexOf('SCTP') !== -1;\n    });\n  };\n\n  const getRemoteFirefoxVersion = function(description) {\n    // TODO: Is there a better solution for detecting Firefox?\n    const match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n    if (match === null || match.length < 2) {\n      return -1;\n    }\n    const version = parseInt(match[1], 10);\n    // Test for NaN (yes, this is ugly)\n    return version !== version ? -1 : version;\n  };\n\n  const getCanSendMaxMessageSize = function(remoteIsFirefox) {\n    // Every implementation we know can send at least 64 KiB.\n    // Note: Although Chrome is technically able to send up to 256 KiB, the\n    //       data does not reach the other peer reliably.\n    //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n    let canSendMaxMessageSize = 65536;\n    if (browserDetails.browser === 'firefox') {\n      if (browserDetails.version < 57) {\n        if (remoteIsFirefox === -1) {\n          // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n          // fragmentation.\n          canSendMaxMessageSize = 16384;\n        } else {\n          // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n          // messages. Thus, supporting ~2 GiB when sending.\n          canSendMaxMessageSize = 2147483637;\n        }\n      } else if (browserDetails.version < 60) {\n        // Currently, all FF >= 57 will reset the remote maximum message size\n        // to the default value when a data channel is created at a later\n        // stage. :(\n        // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n        canSendMaxMessageSize =\n          browserDetails.version === 57 ? 65535 : 65536;\n      } else {\n        // FF >= 60 supports sending ~2 GiB\n        canSendMaxMessageSize = 2147483637;\n      }\n    }\n    return canSendMaxMessageSize;\n  };\n\n  const getMaxMessageSize = function(description, remoteIsFirefox) {\n    // Note: 65536 bytes is the default value from the SDP spec. Also,\n    //       every implementation we know supports receiving 65536 bytes.\n    let maxMessageSize = 65536;\n\n    // FF 57 has a slightly incorrect default remote max message size, so\n    // we need to adjust it here to avoid a failure when sending.\n    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n    if (browserDetails.browser === 'firefox'\n         && browserDetails.version === 57) {\n      maxMessageSize = 65535;\n    }\n\n    const match = SDPUtils.matchPrefix(description.sdp,\n      'a=max-message-size:');\n    if (match.length > 0) {\n      maxMessageSize = parseInt(match[0].substring(19), 10);\n    } else if (browserDetails.browser === 'firefox' &&\n                remoteIsFirefox !== -1) {\n      // If the maximum message size is not present in the remote SDP and\n      // both local and remote are Firefox, the remote peer can receive\n      // ~2 GiB.\n      maxMessageSize = 2147483637;\n    }\n    return maxMessageSize;\n  };\n\n  const origSetRemoteDescription =\n      window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription =\n    function setRemoteDescription() {\n      this._sctp = null;\n      // Chrome decided to not expose .sctp in plan-b mode.\n      // As usual, adapter.js has to do an 'ugly worakaround'\n      // to cover up the mess.\n      if (browserDetails.browser === 'chrome' && browserDetails.version >= 76) {\n        const {sdpSemantics} = this.getConfiguration();\n        if (sdpSemantics === 'plan-b') {\n          Object.defineProperty(this, 'sctp', {\n            get() {\n              return typeof this._sctp === 'undefined' ? null : this._sctp;\n            },\n            enumerable: true,\n            configurable: true,\n          });\n        }\n      }\n\n      if (sctpInDescription(arguments[0])) {\n        // Check if the remote is FF.\n        const isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n        // Get the maximum message size the local peer is capable of sending\n        const canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n        // Get the maximum message size of the remote peer.\n        const remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n        // Determine final maximum message size\n        let maxMessageSize;\n        if (canSendMMS === 0 && remoteMMS === 0) {\n          maxMessageSize = Number.POSITIVE_INFINITY;\n        } else if (canSendMMS === 0 || remoteMMS === 0) {\n          maxMessageSize = Math.max(canSendMMS, remoteMMS);\n        } else {\n          maxMessageSize = Math.min(canSendMMS, remoteMMS);\n        }\n\n        // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n        // attribute.\n        const sctp = {};\n        Object.defineProperty(sctp, 'maxMessageSize', {\n          get() {\n            return maxMessageSize;\n          }\n        });\n        this._sctp = sctp;\n      }\n\n      return origSetRemoteDescription.apply(this, arguments);\n    };\n}\n\nexport function shimSendThrowTypeError(window) {\n  if (!(window.RTCPeerConnection &&\n      'createDataChannel' in window.RTCPeerConnection.prototype)) {\n    return;\n  }\n\n  // Note: Although Firefox >= 57 has a native implementation, the maximum\n  //       message size can be reset for all data channels at a later stage.\n  //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n  function wrapDcSend(dc, pc) {\n    const origDataChannelSend = dc.send;\n    dc.send = function send() {\n      const data = arguments[0];\n      const length = data.length || data.size || data.byteLength;\n      if (dc.readyState === 'open' &&\n          pc.sctp && length > pc.sctp.maxMessageSize) {\n        throw new TypeError('Message too large (can send a maximum of ' +\n          pc.sctp.maxMessageSize + ' bytes)');\n      }\n      return origDataChannelSend.apply(dc, arguments);\n    };\n  }\n  const origCreateDataChannel =\n    window.RTCPeerConnection.prototype.createDataChannel;\n  window.RTCPeerConnection.prototype.createDataChannel =\n    function createDataChannel() {\n      const dataChannel = origCreateDataChannel.apply(this, arguments);\n      wrapDcSend(dataChannel, this);\n      return dataChannel;\n    };\n  utils.wrapPeerConnectionEvent(window, 'datachannel', e => {\n    wrapDcSend(e.channel, e.target);\n    return e;\n  });\n}\n\n\n/* shims RTCConnectionState by pretending it is the same as iceConnectionState.\n * See https://bugs.chromium.org/p/webrtc/issues/detail?id=6145#c12\n * for why this is a valid hack in Chrome. In Firefox it is slightly incorrect\n * since DTLS failures would be hidden. See\n * https://bugzilla.mozilla.org/show_bug.cgi?id=1265827\n * for the Firefox tracking bug.\n */\nexport function shimConnectionState(window) {\n  if (!window.RTCPeerConnection ||\n      'connectionState' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  const proto = window.RTCPeerConnection.prototype;\n  Object.defineProperty(proto, 'connectionState', {\n    get() {\n      return {\n        completed: 'connected',\n        checking: 'connecting'\n      }[this.iceConnectionState] || this.iceConnectionState;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(proto, 'onconnectionstatechange', {\n    get() {\n      return this._onconnectionstatechange || null;\n    },\n    set(cb) {\n      if (this._onconnectionstatechange) {\n        this.removeEventListener('connectionstatechange',\n          this._onconnectionstatechange);\n        delete this._onconnectionstatechange;\n      }\n      if (cb) {\n        this.addEventListener('connectionstatechange',\n          this._onconnectionstatechange = cb);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ['setLocalDescription', 'setRemoteDescription'].forEach((method) => {\n    const origMethod = proto[method];\n    proto[method] = function() {\n      if (!this._connectionstatechangepoly) {\n        this._connectionstatechangepoly = e => {\n          const pc = e.target;\n          if (pc._lastConnectionState !== pc.connectionState) {\n            pc._lastConnectionState = pc.connectionState;\n            const newEvent = new Event('connectionstatechange', e);\n            pc.dispatchEvent(newEvent);\n          }\n          return e;\n        };\n        this.addEventListener('iceconnectionstatechange',\n          this._connectionstatechangepoly);\n      }\n      return origMethod.apply(this, arguments);\n    };\n  });\n}\n\nexport function removeExtmapAllowMixed(window, browserDetails) {\n  /* remove a=extmap-allow-mixed for webrtc.org < M71 */\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  if (browserDetails.browser === 'chrome' && browserDetails.version >= 71) {\n    return;\n  }\n  if (browserDetails.browser === 'safari' && browserDetails.version >= 605) {\n    return;\n  }\n  const nativeSRD = window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription =\n  function setRemoteDescription(desc) {\n    if (desc && desc.sdp && desc.sdp.indexOf('\\na=extmap-allow-mixed') !== -1) {\n      const sdp = desc.sdp.split('\\n').filter((line) => {\n        return line.trim() !== 'a=extmap-allow-mixed';\n      }).join('\\n');\n      // Safari enforces read-only-ness of RTCSessionDescription fields.\n      if (window.RTCSessionDescription &&\n          desc instanceof window.RTCSessionDescription) {\n        arguments[0] = new window.RTCSessionDescription({\n          type: desc.type,\n          sdp,\n        });\n      } else {\n        desc.sdp = sdp;\n      }\n    }\n    return nativeSRD.apply(this, arguments);\n  };\n}\n\nexport function shimAddIceCandidateNullOrEmpty(window, browserDetails) {\n  // Support for addIceCandidate(null or undefined)\n  // as well as addIceCandidate({candidate: \"\", ...})\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=978582\n  // Note: must be called before other polyfills which change the signature.\n  if (!(window.RTCPeerConnection && window.RTCPeerConnection.prototype)) {\n    return;\n  }\n  const nativeAddIceCandidate =\n      window.RTCPeerConnection.prototype.addIceCandidate;\n  if (!nativeAddIceCandidate || nativeAddIceCandidate.length === 0) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.addIceCandidate =\n    function addIceCandidate() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      // Firefox 68+ emits and processes {candidate: \"\", ...}, ignore\n      // in older versions.\n      // Native support for ignoring exists for Chrome M77+.\n      // Safari ignores as well, exact version unknown but works in the same\n      // version that also ignores addIceCandidate(null).\n      if (((browserDetails.browser === 'chrome' && browserDetails.version < 78)\n           || (browserDetails.browser === 'firefox'\n               && browserDetails.version < 68)\n           || (browserDetails.browser === 'safari'))\n          && arguments[0] && arguments[0].candidate === '') {\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n}\n\n// Note: Make sure to call this ahead of APIs that modify\n// setLocalDescription.length\nexport function shimParameterlessSetLocalDescription(window, browserDetails) {\n  if (!(window.RTCPeerConnection && window.RTCPeerConnection.prototype)) {\n    return;\n  }\n  const nativeSetLocalDescription =\n      window.RTCPeerConnection.prototype.setLocalDescription;\n  if (!nativeSetLocalDescription || nativeSetLocalDescription.length === 0) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.setLocalDescription =\n    function setLocalDescription() {\n      let desc = arguments[0] || {};\n      if (typeof desc !== 'object' || (desc.type && desc.sdp)) {\n        return nativeSetLocalDescription.apply(this, arguments);\n      }\n      // The remaining steps should technically happen when SLD comes off the\n      // RTCPeerConnection's operations chain (not ahead of going on it), but\n      // this is too difficult to shim. Instead, this shim only covers the\n      // common case where the operations chain is empty. This is imperfect, but\n      // should cover many cases. Rationale: Even if we can't reduce the glare\n      // window to zero on imperfect implementations, there's value in tapping\n      // into the perfect negotiation pattern that several browsers support.\n      desc = {type: desc.type, sdp: desc.sdp};\n      if (!desc.type) {\n        switch (this.signalingState) {\n          case 'stable':\n          case 'have-local-offer':\n          case 'have-remote-pranswer':\n            desc.type = 'offer';\n            break;\n          default:\n            desc.type = 'answer';\n            break;\n        }\n      }\n      if (desc.sdp || (desc.type !== 'offer' && desc.type !== 'answer')) {\n        return nativeSetLocalDescription.apply(this, [desc]);\n      }\n      const func = desc.type === 'offer' ? this.createOffer : this.createAnswer;\n      return func.apply(this)\n        .then(d => nativeSetLocalDescription.apply(this, [d]));\n    };\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\nimport * as utils from './utils';\n\n// Browser shims.\nimport * as chromeShim from './chrome/chrome_shim';\nimport * as firefoxShim from './firefox/firefox_shim';\nimport * as safariShim from './safari/safari_shim';\nimport * as commonShim from './common_shim';\nimport * as sdp from 'sdp';\n\n// Shimming starts here.\nexport function adapterFactory({window} = {}, options = {\n  shimChrome: true,\n  shimFirefox: true,\n  shimSafari: true,\n}) {\n  // Utils.\n  const logging = utils.log;\n  const browserDetails = utils.detectBrowser(window);\n\n  const adapter = {\n    browserDetails,\n    commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings,\n    // Expose sdp as a convenience. For production apps include directly.\n    sdp,\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      if (browserDetails.version === null) {\n        logging('Chrome shim can not determine version, not shimming.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n\n      chromeShim.shimGetUserMedia(window, browserDetails);\n      chromeShim.shimMediaStream(window, browserDetails);\n      chromeShim.shimPeerConnection(window, browserDetails);\n      chromeShim.shimOnTrack(window, browserDetails);\n      chromeShim.shimAddTrackRemoveTrack(window, browserDetails);\n      chromeShim.shimGetSendersWithDtmf(window, browserDetails);\n      chromeShim.shimGetStats(window, browserDetails);\n      chromeShim.shimSenderReceiverGetStats(window, browserDetails);\n      chromeShim.fixNegotiationNeeded(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimRTCIceCandidateRelayProtocol(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n\n      firefoxShim.shimGetUserMedia(window, browserDetails);\n      firefoxShim.shimPeerConnection(window, browserDetails);\n      firefoxShim.shimOnTrack(window, browserDetails);\n      firefoxShim.shimRemoveStream(window, browserDetails);\n      firefoxShim.shimSenderGetStats(window, browserDetails);\n      firefoxShim.shimReceiverGetStats(window, browserDetails);\n      firefoxShim.shimRTCDataChannel(window, browserDetails);\n      firefoxShim.shimAddTransceiver(window, browserDetails);\n      firefoxShim.shimGetParameters(window, browserDetails);\n      firefoxShim.shimCreateOffer(window, browserDetails);\n      firefoxShim.shimCreateAnswer(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n\n      // Must be called before shimCallbackAPI.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n\n      safariShim.shimRTCIceServerUrls(window, browserDetails);\n      safariShim.shimCreateOfferLegacy(window, browserDetails);\n      safariShim.shimCallbacksAPI(window, browserDetails);\n      safariShim.shimLocalStreamsAPI(window, browserDetails);\n      safariShim.shimRemoteStreamsAPI(window, browserDetails);\n      safariShim.shimTrackEventTransceiver(window, browserDetails);\n      safariShim.shimGetUserMedia(window, browserDetails);\n      safariShim.shimAudioContext(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimRTCIceCandidateRelayProtocol(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n\n'use strict';\n\nimport {adapterFactory} from './adapter_factory.js';\n\nconst adapter =\n  adapterFactory({window: typeof window === 'undefined' ? undefined : window});\nexport default adapter;\n","/* eslint-disable */\r\nimport Long from \"long\";\r\nimport _m0 from \"protobufjs/minimal\";\r\nimport {\r\n  ClientConfiguration,\r\n  ConnectionQuality,\r\n  connectionQualityFromJSON,\r\n  connectionQualityToJSON,\r\n  DisconnectReason,\r\n  disconnectReasonFromJSON,\r\n  disconnectReasonToJSON,\r\n  Encryption_Type,\r\n  encryption_TypeFromJSON,\r\n  encryption_TypeToJSON,\r\n  ParticipantInfo,\r\n  ParticipantTracks,\r\n  Room,\r\n  ServerInfo,\r\n  SpeakerInfo,\r\n  TrackInfo,\r\n  TrackSource,\r\n  trackSourceFromJSON,\r\n  trackSourceToJSON,\r\n  TrackType,\r\n  trackTypeFromJSON,\r\n  trackTypeToJSON,\r\n  VideoLayer,\r\n  VideoQuality,\r\n  videoQualityFromJSON,\r\n  videoQualityToJSON,\r\n} from \"./livekit_models\";\r\n\r\nexport const protobufPackage = \"livekit\";\r\n\r\nexport enum SignalTarget {\r\n  PUBLISHER = 0,\r\n  SUBSCRIBER = 1,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function signalTargetFromJSON(object: any): SignalTarget {\r\n  switch (object) {\r\n    case 0:\r\n    case \"PUBLISHER\":\r\n      return SignalTarget.PUBLISHER;\r\n    case 1:\r\n    case \"SUBSCRIBER\":\r\n      return SignalTarget.SUBSCRIBER;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return SignalTarget.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function signalTargetToJSON(object: SignalTarget): string {\r\n  switch (object) {\r\n    case SignalTarget.PUBLISHER:\r\n      return \"PUBLISHER\";\r\n    case SignalTarget.SUBSCRIBER:\r\n      return \"SUBSCRIBER\";\r\n    case SignalTarget.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\nexport enum StreamState {\r\n  ACTIVE = 0,\r\n  PAUSED = 1,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function streamStateFromJSON(object: any): StreamState {\r\n  switch (object) {\r\n    case 0:\r\n    case \"ACTIVE\":\r\n      return StreamState.ACTIVE;\r\n    case 1:\r\n    case \"PAUSED\":\r\n      return StreamState.PAUSED;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return StreamState.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function streamStateToJSON(object: StreamState): string {\r\n  switch (object) {\r\n    case StreamState.ACTIVE:\r\n      return \"ACTIVE\";\r\n    case StreamState.PAUSED:\r\n      return \"PAUSED\";\r\n    case StreamState.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\nexport enum CandidateProtocol {\r\n  UDP = 0,\r\n  TCP = 1,\r\n  TLS = 2,\r\n  UNRECOGNIZED = -1,\r\n}\r\n\r\nexport function candidateProtocolFromJSON(object: any): CandidateProtocol {\r\n  switch (object) {\r\n    case 0:\r\n    case \"UDP\":\r\n      return CandidateProtocol.UDP;\r\n    case 1:\r\n    case \"TCP\":\r\n      return CandidateProtocol.TCP;\r\n    case 2:\r\n    case \"TLS\":\r\n      return CandidateProtocol.TLS;\r\n    case -1:\r\n    case \"UNRECOGNIZED\":\r\n    default:\r\n      return CandidateProtocol.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function candidateProtocolToJSON(object: CandidateProtocol): string {\r\n  switch (object) {\r\n    case CandidateProtocol.UDP:\r\n      return \"UDP\";\r\n    case CandidateProtocol.TCP:\r\n      return \"TCP\";\r\n    case CandidateProtocol.TLS:\r\n      return \"TLS\";\r\n    case CandidateProtocol.UNRECOGNIZED:\r\n    default:\r\n      return \"UNRECOGNIZED\";\r\n  }\r\n}\r\n\r\nexport interface SignalRequest {\r\n  message?:\r\n    | { $case: \"offer\"; offer: SessionDescription }\r\n    | { $case: \"answer\"; answer: SessionDescription }\r\n    | { $case: \"trickle\"; trickle: TrickleRequest }\r\n    | { $case: \"addTrack\"; addTrack: AddTrackRequest }\r\n    | { $case: \"mute\"; mute: MuteTrackRequest }\r\n    | { $case: \"subscription\"; subscription: UpdateSubscription }\r\n    | { $case: \"trackSetting\"; trackSetting: UpdateTrackSettings }\r\n    | { $case: \"leave\"; leave: LeaveRequest }\r\n    | { $case: \"updateLayers\"; updateLayers: UpdateVideoLayers }\r\n    | { $case: \"subscriptionPermission\"; subscriptionPermission: SubscriptionPermission }\r\n    | { $case: \"syncState\"; syncState: SyncState }\r\n    | { $case: \"simulate\"; simulate: SimulateScenario }\r\n    | { $case: \"ping\"; ping: number }\r\n    | { $case: \"updateMetadata\"; updateMetadata: UpdateParticipantMetadata }\r\n    | { $case: \"pingReq\"; pingReq: Ping };\r\n}\r\n\r\nexport interface SignalResponse {\r\n  message?:\r\n    | { $case: \"join\"; join: JoinResponse }\r\n    | { $case: \"answer\"; answer: SessionDescription }\r\n    | { $case: \"offer\"; offer: SessionDescription }\r\n    | { $case: \"trickle\"; trickle: TrickleRequest }\r\n    | { $case: \"update\"; update: ParticipantUpdate }\r\n    | { $case: \"trackPublished\"; trackPublished: TrackPublishedResponse }\r\n    | { $case: \"leave\"; leave: LeaveRequest }\r\n    | { $case: \"mute\"; mute: MuteTrackRequest }\r\n    | { $case: \"speakersChanged\"; speakersChanged: SpeakersChanged }\r\n    | { $case: \"roomUpdate\"; roomUpdate: RoomUpdate }\r\n    | { $case: \"connectionQuality\"; connectionQuality: ConnectionQualityUpdate }\r\n    | { $case: \"streamStateUpdate\"; streamStateUpdate: StreamStateUpdate }\r\n    | { $case: \"subscribedQualityUpdate\"; subscribedQualityUpdate: SubscribedQualityUpdate }\r\n    | { $case: \"subscriptionPermissionUpdate\"; subscriptionPermissionUpdate: SubscriptionPermissionUpdate }\r\n    | { $case: \"refreshToken\"; refreshToken: string }\r\n    | { $case: \"trackUnpublished\"; trackUnpublished: TrackUnpublishedResponse }\r\n    | { $case: \"pong\"; pong: number }\r\n    | { $case: \"reconnect\"; reconnect: ReconnectResponse }\r\n    | { $case: \"pongResp\"; pongResp: Pong };\r\n}\r\n\r\nexport interface SimulcastCodec {\r\n  codec: string;\r\n  cid: string;\r\n  enableSimulcastLayers: boolean;\r\n}\r\n\r\nexport interface AddTrackRequest {\r\n  /** client ID of track, to match it when RTC track is received */\r\n  cid: string;\r\n  name: string;\r\n  type: TrackType;\r\n  /** to be deprecated in favor of layers */\r\n  width: number;\r\n  height: number;\r\n  /** true to add track and initialize to muted */\r\n  muted: boolean;\r\n  /** true if DTX (Discontinuous Transmission) is disabled for audio */\r\n  disableDtx: boolean;\r\n  source: TrackSource;\r\n  layers: VideoLayer[];\r\n  simulcastCodecs: SimulcastCodec[];\r\n  /** server ID of track, publish new codec to exist track */\r\n  sid: string;\r\n  stereo: boolean;\r\n  /** true if RED (Redundant Encoding) is disabled for audio */\r\n  disableRed: boolean;\r\n  encryption: Encryption_Type;\r\n}\r\n\r\nexport interface TrickleRequest {\r\n  candidateInit: string;\r\n  target: SignalTarget;\r\n}\r\n\r\nexport interface MuteTrackRequest {\r\n  sid: string;\r\n  muted: boolean;\r\n}\r\n\r\nexport interface JoinResponse {\r\n  room?: Room;\r\n  participant?: ParticipantInfo;\r\n  otherParticipants: ParticipantInfo[];\r\n  /** deprecated. use server_info.version instead. */\r\n  serverVersion: string;\r\n  iceServers: ICEServer[];\r\n  /** use subscriber as the primary PeerConnection */\r\n  subscriberPrimary: boolean;\r\n  /**\r\n   * when the current server isn't available, return alternate url to retry connection\r\n   * when this is set, the other fields will be largely empty\r\n   */\r\n  alternativeUrl: string;\r\n  clientConfiguration?: ClientConfiguration;\r\n  /** deprecated. use server_info.region instead. */\r\n  serverRegion: string;\r\n  pingTimeout: number;\r\n  pingInterval: number;\r\n  serverInfo?: ServerInfo;\r\n}\r\n\r\nexport interface ReconnectResponse {\r\n  iceServers: ICEServer[];\r\n  clientConfiguration?: ClientConfiguration;\r\n}\r\n\r\nexport interface TrackPublishedResponse {\r\n  cid: string;\r\n  track?: TrackInfo;\r\n}\r\n\r\nexport interface TrackUnpublishedResponse {\r\n  trackSid: string;\r\n}\r\n\r\nexport interface SessionDescription {\r\n  /** \"answer\" | \"offer\" | \"pranswer\" | \"rollback\" */\r\n  type: string;\r\n  sdp: string;\r\n}\r\n\r\nexport interface ParticipantUpdate {\r\n  participants: ParticipantInfo[];\r\n}\r\n\r\nexport interface UpdateSubscription {\r\n  trackSids: string[];\r\n  subscribe: boolean;\r\n  participantTracks: ParticipantTracks[];\r\n}\r\n\r\nexport interface UpdateTrackSettings {\r\n  trackSids: string[];\r\n  /** when true, the track is placed in a paused state, with no new data returned */\r\n  disabled: boolean;\r\n  /** deprecated in favor of width & height */\r\n  quality: VideoQuality;\r\n  /** for video, width to receive */\r\n  width: number;\r\n  /** for video, height to receive */\r\n  height: number;\r\n  fps: number;\r\n  /**\r\n   * subscription priority. 1 being the highest (0 is unset)\r\n   * when unset, server sill assign priority based on the order of subscription\r\n   * server will use priority in the following ways:\r\n   * 1. when subscribed tracks exceed per-participant subscription limit, server will\r\n   *    pause the lowest priority tracks\r\n   * 2. when the network is congested, server will assign available bandwidth to\r\n   *    higher priority tracks first. lowest priority tracks can be paused\r\n   */\r\n  priority: number;\r\n}\r\n\r\nexport interface LeaveRequest {\r\n  /**\r\n   * sent when server initiates the disconnect due to server-restart\r\n   * indicates clients should attempt full-reconnect sequence\r\n   */\r\n  canReconnect: boolean;\r\n  reason: DisconnectReason;\r\n}\r\n\r\n/** message to indicate published video track dimensions are changing */\r\nexport interface UpdateVideoLayers {\r\n  trackSid: string;\r\n  layers: VideoLayer[];\r\n}\r\n\r\nexport interface UpdateParticipantMetadata {\r\n  metadata: string;\r\n  name: string;\r\n}\r\n\r\nexport interface ICEServer {\r\n  urls: string[];\r\n  username: string;\r\n  credential: string;\r\n}\r\n\r\nexport interface SpeakersChanged {\r\n  speakers: SpeakerInfo[];\r\n}\r\n\r\nexport interface RoomUpdate {\r\n  room?: Room;\r\n}\r\n\r\nexport interface ConnectionQualityInfo {\r\n  participantSid: string;\r\n  quality: ConnectionQuality;\r\n  score: number;\r\n}\r\n\r\nexport interface ConnectionQualityUpdate {\r\n  updates: ConnectionQualityInfo[];\r\n}\r\n\r\nexport interface StreamStateInfo {\r\n  participantSid: string;\r\n  trackSid: string;\r\n  state: StreamState;\r\n}\r\n\r\nexport interface StreamStateUpdate {\r\n  streamStates: StreamStateInfo[];\r\n}\r\n\r\nexport interface SubscribedQuality {\r\n  quality: VideoQuality;\r\n  enabled: boolean;\r\n}\r\n\r\nexport interface SubscribedCodec {\r\n  codec: string;\r\n  qualities: SubscribedQuality[];\r\n}\r\n\r\nexport interface SubscribedQualityUpdate {\r\n  trackSid: string;\r\n  subscribedQualities: SubscribedQuality[];\r\n  subscribedCodecs: SubscribedCodec[];\r\n}\r\n\r\nexport interface TrackPermission {\r\n  /** permission could be granted either by participant sid or identity */\r\n  participantSid: string;\r\n  allTracks: boolean;\r\n  trackSids: string[];\r\n  participantIdentity: string;\r\n}\r\n\r\nexport interface SubscriptionPermission {\r\n  allParticipants: boolean;\r\n  trackPermissions: TrackPermission[];\r\n}\r\n\r\nexport interface SubscriptionPermissionUpdate {\r\n  participantSid: string;\r\n  trackSid: string;\r\n  allowed: boolean;\r\n}\r\n\r\nexport interface SyncState {\r\n  /** last subscribe answer before reconnecting */\r\n  answer?: SessionDescription;\r\n  subscription?: UpdateSubscription;\r\n  publishTracks: TrackPublishedResponse[];\r\n  dataChannels: DataChannelInfo[];\r\n  /** last received server side offer before reconnecting */\r\n  offer?: SessionDescription;\r\n}\r\n\r\nexport interface DataChannelInfo {\r\n  label: string;\r\n  id: number;\r\n  target: SignalTarget;\r\n}\r\n\r\nexport interface SimulateScenario {\r\n  scenario?:\r\n    | { $case: \"speakerUpdate\"; speakerUpdate: number }\r\n    | { $case: \"nodeFailure\"; nodeFailure: boolean }\r\n    | { $case: \"migration\"; migration: boolean }\r\n    | { $case: \"serverLeave\"; serverLeave: boolean }\r\n    | { $case: \"switchCandidateProtocol\"; switchCandidateProtocol: CandidateProtocol }\r\n    | { $case: \"subscriberBandwidth\"; subscriberBandwidth: number };\r\n}\r\n\r\nexport interface Ping {\r\n  timestamp: number;\r\n  /** rtt in milliseconds calculated by client */\r\n  rtt: number;\r\n}\r\n\r\nexport interface Pong {\r\n  /** timestamp field of last received ping request */\r\n  lastPingTimestamp: number;\r\n  timestamp: number;\r\n}\r\n\r\nexport interface RegionSettings {\r\n  regions: RegionInfo[];\r\n}\r\n\r\nexport interface RegionInfo {\r\n  region: string;\r\n  url: string;\r\n  distance: number;\r\n}\r\n\r\nfunction createBaseSignalRequest(): SignalRequest {\r\n  return { message: undefined };\r\n}\r\n\r\nexport const SignalRequest = {\r\n  encode(message: SignalRequest, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    switch (message.message?.$case) {\r\n      case \"offer\":\r\n        SessionDescription.encode(message.message.offer, writer.uint32(10).fork()).ldelim();\r\n        break;\r\n      case \"answer\":\r\n        SessionDescription.encode(message.message.answer, writer.uint32(18).fork()).ldelim();\r\n        break;\r\n      case \"trickle\":\r\n        TrickleRequest.encode(message.message.trickle, writer.uint32(26).fork()).ldelim();\r\n        break;\r\n      case \"addTrack\":\r\n        AddTrackRequest.encode(message.message.addTrack, writer.uint32(34).fork()).ldelim();\r\n        break;\r\n      case \"mute\":\r\n        MuteTrackRequest.encode(message.message.mute, writer.uint32(42).fork()).ldelim();\r\n        break;\r\n      case \"subscription\":\r\n        UpdateSubscription.encode(message.message.subscription, writer.uint32(50).fork()).ldelim();\r\n        break;\r\n      case \"trackSetting\":\r\n        UpdateTrackSettings.encode(message.message.trackSetting, writer.uint32(58).fork()).ldelim();\r\n        break;\r\n      case \"leave\":\r\n        LeaveRequest.encode(message.message.leave, writer.uint32(66).fork()).ldelim();\r\n        break;\r\n      case \"updateLayers\":\r\n        UpdateVideoLayers.encode(message.message.updateLayers, writer.uint32(82).fork()).ldelim();\r\n        break;\r\n      case \"subscriptionPermission\":\r\n        SubscriptionPermission.encode(message.message.subscriptionPermission, writer.uint32(90).fork()).ldelim();\r\n        break;\r\n      case \"syncState\":\r\n        SyncState.encode(message.message.syncState, writer.uint32(98).fork()).ldelim();\r\n        break;\r\n      case \"simulate\":\r\n        SimulateScenario.encode(message.message.simulate, writer.uint32(106).fork()).ldelim();\r\n        break;\r\n      case \"ping\":\r\n        writer.uint32(112).int64(message.message.ping);\r\n        break;\r\n      case \"updateMetadata\":\r\n        UpdateParticipantMetadata.encode(message.message.updateMetadata, writer.uint32(122).fork()).ldelim();\r\n        break;\r\n      case \"pingReq\":\r\n        Ping.encode(message.message.pingReq, writer.uint32(130).fork()).ldelim();\r\n        break;\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): SignalRequest {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseSignalRequest();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"offer\", offer: SessionDescription.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"answer\", answer: SessionDescription.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 3:\r\n          if (tag != 26) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"trickle\", trickle: TrickleRequest.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 4:\r\n          if (tag != 34) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"addTrack\", addTrack: AddTrackRequest.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 5:\r\n          if (tag != 42) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"mute\", mute: MuteTrackRequest.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 6:\r\n          if (tag != 50) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"subscription\", subscription: UpdateSubscription.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 7:\r\n          if (tag != 58) {\r\n            break;\r\n          }\r\n\r\n          message.message = {\r\n            $case: \"trackSetting\",\r\n            trackSetting: UpdateTrackSettings.decode(reader, reader.uint32()),\r\n          };\r\n          continue;\r\n        case 8:\r\n          if (tag != 66) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"leave\", leave: LeaveRequest.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 10:\r\n          if (tag != 82) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"updateLayers\", updateLayers: UpdateVideoLayers.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 11:\r\n          if (tag != 90) {\r\n            break;\r\n          }\r\n\r\n          message.message = {\r\n            $case: \"subscriptionPermission\",\r\n            subscriptionPermission: SubscriptionPermission.decode(reader, reader.uint32()),\r\n          };\r\n          continue;\r\n        case 12:\r\n          if (tag != 98) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"syncState\", syncState: SyncState.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 13:\r\n          if (tag != 106) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"simulate\", simulate: SimulateScenario.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 14:\r\n          if (tag != 112) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"ping\", ping: longToNumber(reader.int64() as Long) };\r\n          continue;\r\n        case 15:\r\n          if (tag != 122) {\r\n            break;\r\n          }\r\n\r\n          message.message = {\r\n            $case: \"updateMetadata\",\r\n            updateMetadata: UpdateParticipantMetadata.decode(reader, reader.uint32()),\r\n          };\r\n          continue;\r\n        case 16:\r\n          if (tag != 130) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"pingReq\", pingReq: Ping.decode(reader, reader.uint32()) };\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): SignalRequest {\r\n    return {\r\n      message: isSet(object.offer)\r\n        ? { $case: \"offer\", offer: SessionDescription.fromJSON(object.offer) }\r\n        : isSet(object.answer)\r\n        ? { $case: \"answer\", answer: SessionDescription.fromJSON(object.answer) }\r\n        : isSet(object.trickle)\r\n        ? { $case: \"trickle\", trickle: TrickleRequest.fromJSON(object.trickle) }\r\n        : isSet(object.addTrack)\r\n        ? { $case: \"addTrack\", addTrack: AddTrackRequest.fromJSON(object.addTrack) }\r\n        : isSet(object.mute)\r\n        ? { $case: \"mute\", mute: MuteTrackRequest.fromJSON(object.mute) }\r\n        : isSet(object.subscription)\r\n        ? { $case: \"subscription\", subscription: UpdateSubscription.fromJSON(object.subscription) }\r\n        : isSet(object.trackSetting)\r\n        ? { $case: \"trackSetting\", trackSetting: UpdateTrackSettings.fromJSON(object.trackSetting) }\r\n        : isSet(object.leave)\r\n        ? { $case: \"leave\", leave: LeaveRequest.fromJSON(object.leave) }\r\n        : isSet(object.updateLayers)\r\n        ? { $case: \"updateLayers\", updateLayers: UpdateVideoLayers.fromJSON(object.updateLayers) }\r\n        : isSet(object.subscriptionPermission)\r\n        ? {\r\n          $case: \"subscriptionPermission\",\r\n          subscriptionPermission: SubscriptionPermission.fromJSON(object.subscriptionPermission),\r\n        }\r\n        : isSet(object.syncState)\r\n        ? { $case: \"syncState\", syncState: SyncState.fromJSON(object.syncState) }\r\n        : isSet(object.simulate)\r\n        ? { $case: \"simulate\", simulate: SimulateScenario.fromJSON(object.simulate) }\r\n        : isSet(object.ping)\r\n        ? { $case: \"ping\", ping: Number(object.ping) }\r\n        : isSet(object.updateMetadata)\r\n        ? { $case: \"updateMetadata\", updateMetadata: UpdateParticipantMetadata.fromJSON(object.updateMetadata) }\r\n        : isSet(object.pingReq)\r\n        ? { $case: \"pingReq\", pingReq: Ping.fromJSON(object.pingReq) }\r\n        : undefined,\r\n    };\r\n  },\r\n\r\n  toJSON(message: SignalRequest): unknown {\r\n    const obj: any = {};\r\n    message.message?.$case === \"offer\" &&\r\n      (obj.offer = message.message?.offer ? SessionDescription.toJSON(message.message?.offer) : undefined);\r\n    message.message?.$case === \"answer\" &&\r\n      (obj.answer = message.message?.answer ? SessionDescription.toJSON(message.message?.answer) : undefined);\r\n    message.message?.$case === \"trickle\" &&\r\n      (obj.trickle = message.message?.trickle ? TrickleRequest.toJSON(message.message?.trickle) : undefined);\r\n    message.message?.$case === \"addTrack\" &&\r\n      (obj.addTrack = message.message?.addTrack ? AddTrackRequest.toJSON(message.message?.addTrack) : undefined);\r\n    message.message?.$case === \"mute\" &&\r\n      (obj.mute = message.message?.mute ? MuteTrackRequest.toJSON(message.message?.mute) : undefined);\r\n    message.message?.$case === \"subscription\" && (obj.subscription = message.message?.subscription\r\n      ? UpdateSubscription.toJSON(message.message?.subscription)\r\n      : undefined);\r\n    message.message?.$case === \"trackSetting\" && (obj.trackSetting = message.message?.trackSetting\r\n      ? UpdateTrackSettings.toJSON(message.message?.trackSetting)\r\n      : undefined);\r\n    message.message?.$case === \"leave\" &&\r\n      (obj.leave = message.message?.leave ? LeaveRequest.toJSON(message.message?.leave) : undefined);\r\n    message.message?.$case === \"updateLayers\" && (obj.updateLayers = message.message?.updateLayers\r\n      ? UpdateVideoLayers.toJSON(message.message?.updateLayers)\r\n      : undefined);\r\n    message.message?.$case === \"subscriptionPermission\" &&\r\n      (obj.subscriptionPermission = message.message?.subscriptionPermission\r\n        ? SubscriptionPermission.toJSON(message.message?.subscriptionPermission)\r\n        : undefined);\r\n    message.message?.$case === \"syncState\" &&\r\n      (obj.syncState = message.message?.syncState ? SyncState.toJSON(message.message?.syncState) : undefined);\r\n    message.message?.$case === \"simulate\" &&\r\n      (obj.simulate = message.message?.simulate ? SimulateScenario.toJSON(message.message?.simulate) : undefined);\r\n    message.message?.$case === \"ping\" && (obj.ping = Math.round(message.message?.ping));\r\n    message.message?.$case === \"updateMetadata\" && (obj.updateMetadata = message.message?.updateMetadata\r\n      ? UpdateParticipantMetadata.toJSON(message.message?.updateMetadata)\r\n      : undefined);\r\n    message.message?.$case === \"pingReq\" &&\r\n      (obj.pingReq = message.message?.pingReq ? Ping.toJSON(message.message?.pingReq) : undefined);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<SignalRequest>, I>>(base?: I): SignalRequest {\r\n    return SignalRequest.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<SignalRequest>, I>>(object: I): SignalRequest {\r\n    const message = createBaseSignalRequest();\r\n    if (object.message?.$case === \"offer\" && object.message?.offer !== undefined && object.message?.offer !== null) {\r\n      message.message = { $case: \"offer\", offer: SessionDescription.fromPartial(object.message.offer) };\r\n    }\r\n    if (object.message?.$case === \"answer\" && object.message?.answer !== undefined && object.message?.answer !== null) {\r\n      message.message = { $case: \"answer\", answer: SessionDescription.fromPartial(object.message.answer) };\r\n    }\r\n    if (\r\n      object.message?.$case === \"trickle\" && object.message?.trickle !== undefined && object.message?.trickle !== null\r\n    ) {\r\n      message.message = { $case: \"trickle\", trickle: TrickleRequest.fromPartial(object.message.trickle) };\r\n    }\r\n    if (\r\n      object.message?.$case === \"addTrack\" &&\r\n      object.message?.addTrack !== undefined &&\r\n      object.message?.addTrack !== null\r\n    ) {\r\n      message.message = { $case: \"addTrack\", addTrack: AddTrackRequest.fromPartial(object.message.addTrack) };\r\n    }\r\n    if (object.message?.$case === \"mute\" && object.message?.mute !== undefined && object.message?.mute !== null) {\r\n      message.message = { $case: \"mute\", mute: MuteTrackRequest.fromPartial(object.message.mute) };\r\n    }\r\n    if (\r\n      object.message?.$case === \"subscription\" &&\r\n      object.message?.subscription !== undefined &&\r\n      object.message?.subscription !== null\r\n    ) {\r\n      message.message = {\r\n        $case: \"subscription\",\r\n        subscription: UpdateSubscription.fromPartial(object.message.subscription),\r\n      };\r\n    }\r\n    if (\r\n      object.message?.$case === \"trackSetting\" &&\r\n      object.message?.trackSetting !== undefined &&\r\n      object.message?.trackSetting !== null\r\n    ) {\r\n      message.message = {\r\n        $case: \"trackSetting\",\r\n        trackSetting: UpdateTrackSettings.fromPartial(object.message.trackSetting),\r\n      };\r\n    }\r\n    if (object.message?.$case === \"leave\" && object.message?.leave !== undefined && object.message?.leave !== null) {\r\n      message.message = { $case: \"leave\", leave: LeaveRequest.fromPartial(object.message.leave) };\r\n    }\r\n    if (\r\n      object.message?.$case === \"updateLayers\" &&\r\n      object.message?.updateLayers !== undefined &&\r\n      object.message?.updateLayers !== null\r\n    ) {\r\n      message.message = {\r\n        $case: \"updateLayers\",\r\n        updateLayers: UpdateVideoLayers.fromPartial(object.message.updateLayers),\r\n      };\r\n    }\r\n    if (\r\n      object.message?.$case === \"subscriptionPermission\" &&\r\n      object.message?.subscriptionPermission !== undefined &&\r\n      object.message?.subscriptionPermission !== null\r\n    ) {\r\n      message.message = {\r\n        $case: \"subscriptionPermission\",\r\n        subscriptionPermission: SubscriptionPermission.fromPartial(object.message.subscriptionPermission),\r\n      };\r\n    }\r\n    if (\r\n      object.message?.$case === \"syncState\" &&\r\n      object.message?.syncState !== undefined &&\r\n      object.message?.syncState !== null\r\n    ) {\r\n      message.message = { $case: \"syncState\", syncState: SyncState.fromPartial(object.message.syncState) };\r\n    }\r\n    if (\r\n      object.message?.$case === \"simulate\" &&\r\n      object.message?.simulate !== undefined &&\r\n      object.message?.simulate !== null\r\n    ) {\r\n      message.message = { $case: \"simulate\", simulate: SimulateScenario.fromPartial(object.message.simulate) };\r\n    }\r\n    if (object.message?.$case === \"ping\" && object.message?.ping !== undefined && object.message?.ping !== null) {\r\n      message.message = { $case: \"ping\", ping: object.message.ping };\r\n    }\r\n    if (\r\n      object.message?.$case === \"updateMetadata\" &&\r\n      object.message?.updateMetadata !== undefined &&\r\n      object.message?.updateMetadata !== null\r\n    ) {\r\n      message.message = {\r\n        $case: \"updateMetadata\",\r\n        updateMetadata: UpdateParticipantMetadata.fromPartial(object.message.updateMetadata),\r\n      };\r\n    }\r\n    if (\r\n      object.message?.$case === \"pingReq\" && object.message?.pingReq !== undefined && object.message?.pingReq !== null\r\n    ) {\r\n      message.message = { $case: \"pingReq\", pingReq: Ping.fromPartial(object.message.pingReq) };\r\n    }\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseSignalResponse(): SignalResponse {\r\n  return { message: undefined };\r\n}\r\n\r\nexport const SignalResponse = {\r\n  encode(message: SignalResponse, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    switch (message.message?.$case) {\r\n      case \"join\":\r\n        JoinResponse.encode(message.message.join, writer.uint32(10).fork()).ldelim();\r\n        break;\r\n      case \"answer\":\r\n        SessionDescription.encode(message.message.answer, writer.uint32(18).fork()).ldelim();\r\n        break;\r\n      case \"offer\":\r\n        SessionDescription.encode(message.message.offer, writer.uint32(26).fork()).ldelim();\r\n        break;\r\n      case \"trickle\":\r\n        TrickleRequest.encode(message.message.trickle, writer.uint32(34).fork()).ldelim();\r\n        break;\r\n      case \"update\":\r\n        ParticipantUpdate.encode(message.message.update, writer.uint32(42).fork()).ldelim();\r\n        break;\r\n      case \"trackPublished\":\r\n        TrackPublishedResponse.encode(message.message.trackPublished, writer.uint32(50).fork()).ldelim();\r\n        break;\r\n      case \"leave\":\r\n        LeaveRequest.encode(message.message.leave, writer.uint32(66).fork()).ldelim();\r\n        break;\r\n      case \"mute\":\r\n        MuteTrackRequest.encode(message.message.mute, writer.uint32(74).fork()).ldelim();\r\n        break;\r\n      case \"speakersChanged\":\r\n        SpeakersChanged.encode(message.message.speakersChanged, writer.uint32(82).fork()).ldelim();\r\n        break;\r\n      case \"roomUpdate\":\r\n        RoomUpdate.encode(message.message.roomUpdate, writer.uint32(90).fork()).ldelim();\r\n        break;\r\n      case \"connectionQuality\":\r\n        ConnectionQualityUpdate.encode(message.message.connectionQuality, writer.uint32(98).fork()).ldelim();\r\n        break;\r\n      case \"streamStateUpdate\":\r\n        StreamStateUpdate.encode(message.message.streamStateUpdate, writer.uint32(106).fork()).ldelim();\r\n        break;\r\n      case \"subscribedQualityUpdate\":\r\n        SubscribedQualityUpdate.encode(message.message.subscribedQualityUpdate, writer.uint32(114).fork()).ldelim();\r\n        break;\r\n      case \"subscriptionPermissionUpdate\":\r\n        SubscriptionPermissionUpdate.encode(message.message.subscriptionPermissionUpdate, writer.uint32(122).fork())\r\n          .ldelim();\r\n        break;\r\n      case \"refreshToken\":\r\n        writer.uint32(130).string(message.message.refreshToken);\r\n        break;\r\n      case \"trackUnpublished\":\r\n        TrackUnpublishedResponse.encode(message.message.trackUnpublished, writer.uint32(138).fork()).ldelim();\r\n        break;\r\n      case \"pong\":\r\n        writer.uint32(144).int64(message.message.pong);\r\n        break;\r\n      case \"reconnect\":\r\n        ReconnectResponse.encode(message.message.reconnect, writer.uint32(154).fork()).ldelim();\r\n        break;\r\n      case \"pongResp\":\r\n        Pong.encode(message.message.pongResp, writer.uint32(162).fork()).ldelim();\r\n        break;\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): SignalResponse {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseSignalResponse();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"join\", join: JoinResponse.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"answer\", answer: SessionDescription.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 3:\r\n          if (tag != 26) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"offer\", offer: SessionDescription.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 4:\r\n          if (tag != 34) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"trickle\", trickle: TrickleRequest.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 5:\r\n          if (tag != 42) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"update\", update: ParticipantUpdate.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 6:\r\n          if (tag != 50) {\r\n            break;\r\n          }\r\n\r\n          message.message = {\r\n            $case: \"trackPublished\",\r\n            trackPublished: TrackPublishedResponse.decode(reader, reader.uint32()),\r\n          };\r\n          continue;\r\n        case 8:\r\n          if (tag != 66) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"leave\", leave: LeaveRequest.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 9:\r\n          if (tag != 74) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"mute\", mute: MuteTrackRequest.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 10:\r\n          if (tag != 82) {\r\n            break;\r\n          }\r\n\r\n          message.message = {\r\n            $case: \"speakersChanged\",\r\n            speakersChanged: SpeakersChanged.decode(reader, reader.uint32()),\r\n          };\r\n          continue;\r\n        case 11:\r\n          if (tag != 90) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"roomUpdate\", roomUpdate: RoomUpdate.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 12:\r\n          if (tag != 98) {\r\n            break;\r\n          }\r\n\r\n          message.message = {\r\n            $case: \"connectionQuality\",\r\n            connectionQuality: ConnectionQualityUpdate.decode(reader, reader.uint32()),\r\n          };\r\n          continue;\r\n        case 13:\r\n          if (tag != 106) {\r\n            break;\r\n          }\r\n\r\n          message.message = {\r\n            $case: \"streamStateUpdate\",\r\n            streamStateUpdate: StreamStateUpdate.decode(reader, reader.uint32()),\r\n          };\r\n          continue;\r\n        case 14:\r\n          if (tag != 114) {\r\n            break;\r\n          }\r\n\r\n          message.message = {\r\n            $case: \"subscribedQualityUpdate\",\r\n            subscribedQualityUpdate: SubscribedQualityUpdate.decode(reader, reader.uint32()),\r\n          };\r\n          continue;\r\n        case 15:\r\n          if (tag != 122) {\r\n            break;\r\n          }\r\n\r\n          message.message = {\r\n            $case: \"subscriptionPermissionUpdate\",\r\n            subscriptionPermissionUpdate: SubscriptionPermissionUpdate.decode(reader, reader.uint32()),\r\n          };\r\n          continue;\r\n        case 16:\r\n          if (tag != 130) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"refreshToken\", refreshToken: reader.string() };\r\n          continue;\r\n        case 17:\r\n          if (tag != 138) {\r\n            break;\r\n          }\r\n\r\n          message.message = {\r\n            $case: \"trackUnpublished\",\r\n            trackUnpublished: TrackUnpublishedResponse.decode(reader, reader.uint32()),\r\n          };\r\n          continue;\r\n        case 18:\r\n          if (tag != 144) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"pong\", pong: longToNumber(reader.int64() as Long) };\r\n          continue;\r\n        case 19:\r\n          if (tag != 154) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"reconnect\", reconnect: ReconnectResponse.decode(reader, reader.uint32()) };\r\n          continue;\r\n        case 20:\r\n          if (tag != 162) {\r\n            break;\r\n          }\r\n\r\n          message.message = { $case: \"pongResp\", pongResp: Pong.decode(reader, reader.uint32()) };\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): SignalResponse {\r\n    return {\r\n      message: isSet(object.join)\r\n        ? { $case: \"join\", join: JoinResponse.fromJSON(object.join) }\r\n        : isSet(object.answer)\r\n        ? { $case: \"answer\", answer: SessionDescription.fromJSON(object.answer) }\r\n        : isSet(object.offer)\r\n        ? { $case: \"offer\", offer: SessionDescription.fromJSON(object.offer) }\r\n        : isSet(object.trickle)\r\n        ? { $case: \"trickle\", trickle: TrickleRequest.fromJSON(object.trickle) }\r\n        : isSet(object.update)\r\n        ? { $case: \"update\", update: ParticipantUpdate.fromJSON(object.update) }\r\n        : isSet(object.trackPublished)\r\n        ? { $case: \"trackPublished\", trackPublished: TrackPublishedResponse.fromJSON(object.trackPublished) }\r\n        : isSet(object.leave)\r\n        ? { $case: \"leave\", leave: LeaveRequest.fromJSON(object.leave) }\r\n        : isSet(object.mute)\r\n        ? { $case: \"mute\", mute: MuteTrackRequest.fromJSON(object.mute) }\r\n        : isSet(object.speakersChanged)\r\n        ? { $case: \"speakersChanged\", speakersChanged: SpeakersChanged.fromJSON(object.speakersChanged) }\r\n        : isSet(object.roomUpdate)\r\n        ? { $case: \"roomUpdate\", roomUpdate: RoomUpdate.fromJSON(object.roomUpdate) }\r\n        : isSet(object.connectionQuality)\r\n        ? { $case: \"connectionQuality\", connectionQuality: ConnectionQualityUpdate.fromJSON(object.connectionQuality) }\r\n        : isSet(object.streamStateUpdate)\r\n        ? { $case: \"streamStateUpdate\", streamStateUpdate: StreamStateUpdate.fromJSON(object.streamStateUpdate) }\r\n        : isSet(object.subscribedQualityUpdate)\r\n        ? {\r\n          $case: \"subscribedQualityUpdate\",\r\n          subscribedQualityUpdate: SubscribedQualityUpdate.fromJSON(object.subscribedQualityUpdate),\r\n        }\r\n        : isSet(object.subscriptionPermissionUpdate)\r\n        ? {\r\n          $case: \"subscriptionPermissionUpdate\",\r\n          subscriptionPermissionUpdate: SubscriptionPermissionUpdate.fromJSON(object.subscriptionPermissionUpdate),\r\n        }\r\n        : isSet(object.refreshToken)\r\n        ? { $case: \"refreshToken\", refreshToken: String(object.refreshToken) }\r\n        : isSet(object.trackUnpublished)\r\n        ? { $case: \"trackUnpublished\", trackUnpublished: TrackUnpublishedResponse.fromJSON(object.trackUnpublished) }\r\n        : isSet(object.pong)\r\n        ? { $case: \"pong\", pong: Number(object.pong) }\r\n        : isSet(object.reconnect)\r\n        ? { $case: \"reconnect\", reconnect: ReconnectResponse.fromJSON(object.reconnect) }\r\n        : isSet(object.pongResp)\r\n        ? { $case: \"pongResp\", pongResp: Pong.fromJSON(object.pongResp) }\r\n        : undefined,\r\n    };\r\n  },\r\n\r\n  toJSON(message: SignalResponse): unknown {\r\n    const obj: any = {};\r\n    message.message?.$case === \"join\" &&\r\n      (obj.join = message.message?.join ? JoinResponse.toJSON(message.message?.join) : undefined);\r\n    message.message?.$case === \"answer\" &&\r\n      (obj.answer = message.message?.answer ? SessionDescription.toJSON(message.message?.answer) : undefined);\r\n    message.message?.$case === \"offer\" &&\r\n      (obj.offer = message.message?.offer ? SessionDescription.toJSON(message.message?.offer) : undefined);\r\n    message.message?.$case === \"trickle\" &&\r\n      (obj.trickle = message.message?.trickle ? TrickleRequest.toJSON(message.message?.trickle) : undefined);\r\n    message.message?.$case === \"update\" &&\r\n      (obj.update = message.message?.update ? ParticipantUpdate.toJSON(message.message?.update) : undefined);\r\n    message.message?.$case === \"trackPublished\" && (obj.trackPublished = message.message?.trackPublished\r\n      ? TrackPublishedResponse.toJSON(message.message?.trackPublished)\r\n      : undefined);\r\n    message.message?.$case === \"leave\" &&\r\n      (obj.leave = message.message?.leave ? LeaveRequest.toJSON(message.message?.leave) : undefined);\r\n    message.message?.$case === \"mute\" &&\r\n      (obj.mute = message.message?.mute ? MuteTrackRequest.toJSON(message.message?.mute) : undefined);\r\n    message.message?.$case === \"speakersChanged\" && (obj.speakersChanged = message.message?.speakersChanged\r\n      ? SpeakersChanged.toJSON(message.message?.speakersChanged)\r\n      : undefined);\r\n    message.message?.$case === \"roomUpdate\" &&\r\n      (obj.roomUpdate = message.message?.roomUpdate ? RoomUpdate.toJSON(message.message?.roomUpdate) : undefined);\r\n    message.message?.$case === \"connectionQuality\" && (obj.connectionQuality = message.message?.connectionQuality\r\n      ? ConnectionQualityUpdate.toJSON(message.message?.connectionQuality)\r\n      : undefined);\r\n    message.message?.$case === \"streamStateUpdate\" && (obj.streamStateUpdate = message.message?.streamStateUpdate\r\n      ? StreamStateUpdate.toJSON(message.message?.streamStateUpdate)\r\n      : undefined);\r\n    message.message?.$case === \"subscribedQualityUpdate\" &&\r\n      (obj.subscribedQualityUpdate = message.message?.subscribedQualityUpdate\r\n        ? SubscribedQualityUpdate.toJSON(message.message?.subscribedQualityUpdate)\r\n        : undefined);\r\n    message.message?.$case === \"subscriptionPermissionUpdate\" &&\r\n      (obj.subscriptionPermissionUpdate = message.message?.subscriptionPermissionUpdate\r\n        ? SubscriptionPermissionUpdate.toJSON(message.message?.subscriptionPermissionUpdate)\r\n        : undefined);\r\n    message.message?.$case === \"refreshToken\" && (obj.refreshToken = message.message?.refreshToken);\r\n    message.message?.$case === \"trackUnpublished\" && (obj.trackUnpublished = message.message?.trackUnpublished\r\n      ? TrackUnpublishedResponse.toJSON(message.message?.trackUnpublished)\r\n      : undefined);\r\n    message.message?.$case === \"pong\" && (obj.pong = Math.round(message.message?.pong));\r\n    message.message?.$case === \"reconnect\" &&\r\n      (obj.reconnect = message.message?.reconnect ? ReconnectResponse.toJSON(message.message?.reconnect) : undefined);\r\n    message.message?.$case === \"pongResp\" &&\r\n      (obj.pongResp = message.message?.pongResp ? Pong.toJSON(message.message?.pongResp) : undefined);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<SignalResponse>, I>>(base?: I): SignalResponse {\r\n    return SignalResponse.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<SignalResponse>, I>>(object: I): SignalResponse {\r\n    const message = createBaseSignalResponse();\r\n    if (object.message?.$case === \"join\" && object.message?.join !== undefined && object.message?.join !== null) {\r\n      message.message = { $case: \"join\", join: JoinResponse.fromPartial(object.message.join) };\r\n    }\r\n    if (object.message?.$case === \"answer\" && object.message?.answer !== undefined && object.message?.answer !== null) {\r\n      message.message = { $case: \"answer\", answer: SessionDescription.fromPartial(object.message.answer) };\r\n    }\r\n    if (object.message?.$case === \"offer\" && object.message?.offer !== undefined && object.message?.offer !== null) {\r\n      message.message = { $case: \"offer\", offer: SessionDescription.fromPartial(object.message.offer) };\r\n    }\r\n    if (\r\n      object.message?.$case === \"trickle\" && object.message?.trickle !== undefined && object.message?.trickle !== null\r\n    ) {\r\n      message.message = { $case: \"trickle\", trickle: TrickleRequest.fromPartial(object.message.trickle) };\r\n    }\r\n    if (object.message?.$case === \"update\" && object.message?.update !== undefined && object.message?.update !== null) {\r\n      message.message = { $case: \"update\", update: ParticipantUpdate.fromPartial(object.message.update) };\r\n    }\r\n    if (\r\n      object.message?.$case === \"trackPublished\" &&\r\n      object.message?.trackPublished !== undefined &&\r\n      object.message?.trackPublished !== null\r\n    ) {\r\n      message.message = {\r\n        $case: \"trackPublished\",\r\n        trackPublished: TrackPublishedResponse.fromPartial(object.message.trackPublished),\r\n      };\r\n    }\r\n    if (object.message?.$case === \"leave\" && object.message?.leave !== undefined && object.message?.leave !== null) {\r\n      message.message = { $case: \"leave\", leave: LeaveRequest.fromPartial(object.message.leave) };\r\n    }\r\n    if (object.message?.$case === \"mute\" && object.message?.mute !== undefined && object.message?.mute !== null) {\r\n      message.message = { $case: \"mute\", mute: MuteTrackRequest.fromPartial(object.message.mute) };\r\n    }\r\n    if (\r\n      object.message?.$case === \"speakersChanged\" &&\r\n      object.message?.speakersChanged !== undefined &&\r\n      object.message?.speakersChanged !== null\r\n    ) {\r\n      message.message = {\r\n        $case: \"speakersChanged\",\r\n        speakersChanged: SpeakersChanged.fromPartial(object.message.speakersChanged),\r\n      };\r\n    }\r\n    if (\r\n      object.message?.$case === \"roomUpdate\" &&\r\n      object.message?.roomUpdate !== undefined &&\r\n      object.message?.roomUpdate !== null\r\n    ) {\r\n      message.message = { $case: \"roomUpdate\", roomUpdate: RoomUpdate.fromPartial(object.message.roomUpdate) };\r\n    }\r\n    if (\r\n      object.message?.$case === \"connectionQuality\" &&\r\n      object.message?.connectionQuality !== undefined &&\r\n      object.message?.connectionQuality !== null\r\n    ) {\r\n      message.message = {\r\n        $case: \"connectionQuality\",\r\n        connectionQuality: ConnectionQualityUpdate.fromPartial(object.message.connectionQuality),\r\n      };\r\n    }\r\n    if (\r\n      object.message?.$case === \"streamStateUpdate\" &&\r\n      object.message?.streamStateUpdate !== undefined &&\r\n      object.message?.streamStateUpdate !== null\r\n    ) {\r\n      message.message = {\r\n        $case: \"streamStateUpdate\",\r\n        streamStateUpdate: StreamStateUpdate.fromPartial(object.message.streamStateUpdate),\r\n      };\r\n    }\r\n    if (\r\n      object.message?.$case === \"subscribedQualityUpdate\" &&\r\n      object.message?.subscribedQualityUpdate !== undefined &&\r\n      object.message?.subscribedQualityUpdate !== null\r\n    ) {\r\n      message.message = {\r\n        $case: \"subscribedQualityUpdate\",\r\n        subscribedQualityUpdate: SubscribedQualityUpdate.fromPartial(object.message.subscribedQualityUpdate),\r\n      };\r\n    }\r\n    if (\r\n      object.message?.$case === \"subscriptionPermissionUpdate\" &&\r\n      object.message?.subscriptionPermissionUpdate !== undefined &&\r\n      object.message?.subscriptionPermissionUpdate !== null\r\n    ) {\r\n      message.message = {\r\n        $case: \"subscriptionPermissionUpdate\",\r\n        subscriptionPermissionUpdate: SubscriptionPermissionUpdate.fromPartial(\r\n          object.message.subscriptionPermissionUpdate,\r\n        ),\r\n      };\r\n    }\r\n    if (\r\n      object.message?.$case === \"refreshToken\" &&\r\n      object.message?.refreshToken !== undefined &&\r\n      object.message?.refreshToken !== null\r\n    ) {\r\n      message.message = { $case: \"refreshToken\", refreshToken: object.message.refreshToken };\r\n    }\r\n    if (\r\n      object.message?.$case === \"trackUnpublished\" &&\r\n      object.message?.trackUnpublished !== undefined &&\r\n      object.message?.trackUnpublished !== null\r\n    ) {\r\n      message.message = {\r\n        $case: \"trackUnpublished\",\r\n        trackUnpublished: TrackUnpublishedResponse.fromPartial(object.message.trackUnpublished),\r\n      };\r\n    }\r\n    if (object.message?.$case === \"pong\" && object.message?.pong !== undefined && object.message?.pong !== null) {\r\n      message.message = { $case: \"pong\", pong: object.message.pong };\r\n    }\r\n    if (\r\n      object.message?.$case === \"reconnect\" &&\r\n      object.message?.reconnect !== undefined &&\r\n      object.message?.reconnect !== null\r\n    ) {\r\n      message.message = { $case: \"reconnect\", reconnect: ReconnectResponse.fromPartial(object.message.reconnect) };\r\n    }\r\n    if (\r\n      object.message?.$case === \"pongResp\" &&\r\n      object.message?.pongResp !== undefined &&\r\n      object.message?.pongResp !== null\r\n    ) {\r\n      message.message = { $case: \"pongResp\", pongResp: Pong.fromPartial(object.message.pongResp) };\r\n    }\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseSimulcastCodec(): SimulcastCodec {\r\n  return { codec: \"\", cid: \"\", enableSimulcastLayers: false };\r\n}\r\n\r\nexport const SimulcastCodec = {\r\n  encode(message: SimulcastCodec, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.codec !== \"\") {\r\n      writer.uint32(10).string(message.codec);\r\n    }\r\n    if (message.cid !== \"\") {\r\n      writer.uint32(18).string(message.cid);\r\n    }\r\n    if (message.enableSimulcastLayers === true) {\r\n      writer.uint32(24).bool(message.enableSimulcastLayers);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): SimulcastCodec {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseSimulcastCodec();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.codec = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.cid = reader.string();\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.enableSimulcastLayers = reader.bool();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): SimulcastCodec {\r\n    return {\r\n      codec: isSet(object.codec) ? String(object.codec) : \"\",\r\n      cid: isSet(object.cid) ? String(object.cid) : \"\",\r\n      enableSimulcastLayers: isSet(object.enableSimulcastLayers) ? Boolean(object.enableSimulcastLayers) : false,\r\n    };\r\n  },\r\n\r\n  toJSON(message: SimulcastCodec): unknown {\r\n    const obj: any = {};\r\n    message.codec !== undefined && (obj.codec = message.codec);\r\n    message.cid !== undefined && (obj.cid = message.cid);\r\n    message.enableSimulcastLayers !== undefined && (obj.enableSimulcastLayers = message.enableSimulcastLayers);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<SimulcastCodec>, I>>(base?: I): SimulcastCodec {\r\n    return SimulcastCodec.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<SimulcastCodec>, I>>(object: I): SimulcastCodec {\r\n    const message = createBaseSimulcastCodec();\r\n    message.codec = object.codec ?? \"\";\r\n    message.cid = object.cid ?? \"\";\r\n    message.enableSimulcastLayers = object.enableSimulcastLayers ?? false;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseAddTrackRequest(): AddTrackRequest {\r\n  return {\r\n    cid: \"\",\r\n    name: \"\",\r\n    type: 0,\r\n    width: 0,\r\n    height: 0,\r\n    muted: false,\r\n    disableDtx: false,\r\n    source: 0,\r\n    layers: [],\r\n    simulcastCodecs: [],\r\n    sid: \"\",\r\n    stereo: false,\r\n    disableRed: false,\r\n    encryption: 0,\r\n  };\r\n}\r\n\r\nexport const AddTrackRequest = {\r\n  encode(message: AddTrackRequest, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.cid !== \"\") {\r\n      writer.uint32(10).string(message.cid);\r\n    }\r\n    if (message.name !== \"\") {\r\n      writer.uint32(18).string(message.name);\r\n    }\r\n    if (message.type !== 0) {\r\n      writer.uint32(24).int32(message.type);\r\n    }\r\n    if (message.width !== 0) {\r\n      writer.uint32(32).uint32(message.width);\r\n    }\r\n    if (message.height !== 0) {\r\n      writer.uint32(40).uint32(message.height);\r\n    }\r\n    if (message.muted === true) {\r\n      writer.uint32(48).bool(message.muted);\r\n    }\r\n    if (message.disableDtx === true) {\r\n      writer.uint32(56).bool(message.disableDtx);\r\n    }\r\n    if (message.source !== 0) {\r\n      writer.uint32(64).int32(message.source);\r\n    }\r\n    for (const v of message.layers) {\r\n      VideoLayer.encode(v!, writer.uint32(74).fork()).ldelim();\r\n    }\r\n    for (const v of message.simulcastCodecs) {\r\n      SimulcastCodec.encode(v!, writer.uint32(82).fork()).ldelim();\r\n    }\r\n    if (message.sid !== \"\") {\r\n      writer.uint32(90).string(message.sid);\r\n    }\r\n    if (message.stereo === true) {\r\n      writer.uint32(96).bool(message.stereo);\r\n    }\r\n    if (message.disableRed === true) {\r\n      writer.uint32(104).bool(message.disableRed);\r\n    }\r\n    if (message.encryption !== 0) {\r\n      writer.uint32(112).int32(message.encryption);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): AddTrackRequest {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseAddTrackRequest();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.cid = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.name = reader.string();\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.type = reader.int32() as any;\r\n          continue;\r\n        case 4:\r\n          if (tag != 32) {\r\n            break;\r\n          }\r\n\r\n          message.width = reader.uint32();\r\n          continue;\r\n        case 5:\r\n          if (tag != 40) {\r\n            break;\r\n          }\r\n\r\n          message.height = reader.uint32();\r\n          continue;\r\n        case 6:\r\n          if (tag != 48) {\r\n            break;\r\n          }\r\n\r\n          message.muted = reader.bool();\r\n          continue;\r\n        case 7:\r\n          if (tag != 56) {\r\n            break;\r\n          }\r\n\r\n          message.disableDtx = reader.bool();\r\n          continue;\r\n        case 8:\r\n          if (tag != 64) {\r\n            break;\r\n          }\r\n\r\n          message.source = reader.int32() as any;\r\n          continue;\r\n        case 9:\r\n          if (tag != 74) {\r\n            break;\r\n          }\r\n\r\n          message.layers.push(VideoLayer.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 10:\r\n          if (tag != 82) {\r\n            break;\r\n          }\r\n\r\n          message.simulcastCodecs.push(SimulcastCodec.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 11:\r\n          if (tag != 90) {\r\n            break;\r\n          }\r\n\r\n          message.sid = reader.string();\r\n          continue;\r\n        case 12:\r\n          if (tag != 96) {\r\n            break;\r\n          }\r\n\r\n          message.stereo = reader.bool();\r\n          continue;\r\n        case 13:\r\n          if (tag != 104) {\r\n            break;\r\n          }\r\n\r\n          message.disableRed = reader.bool();\r\n          continue;\r\n        case 14:\r\n          if (tag != 112) {\r\n            break;\r\n          }\r\n\r\n          message.encryption = reader.int32() as any;\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): AddTrackRequest {\r\n    return {\r\n      cid: isSet(object.cid) ? String(object.cid) : \"\",\r\n      name: isSet(object.name) ? String(object.name) : \"\",\r\n      type: isSet(object.type) ? trackTypeFromJSON(object.type) : 0,\r\n      width: isSet(object.width) ? Number(object.width) : 0,\r\n      height: isSet(object.height) ? Number(object.height) : 0,\r\n      muted: isSet(object.muted) ? Boolean(object.muted) : false,\r\n      disableDtx: isSet(object.disableDtx) ? Boolean(object.disableDtx) : false,\r\n      source: isSet(object.source) ? trackSourceFromJSON(object.source) : 0,\r\n      layers: Array.isArray(object?.layers) ? object.layers.map((e: any) => VideoLayer.fromJSON(e)) : [],\r\n      simulcastCodecs: Array.isArray(object?.simulcastCodecs)\r\n        ? object.simulcastCodecs.map((e: any) => SimulcastCodec.fromJSON(e))\r\n        : [],\r\n      sid: isSet(object.sid) ? String(object.sid) : \"\",\r\n      stereo: isSet(object.stereo) ? Boolean(object.stereo) : false,\r\n      disableRed: isSet(object.disableRed) ? Boolean(object.disableRed) : false,\r\n      encryption: isSet(object.encryption) ? encryption_TypeFromJSON(object.encryption) : 0,\r\n    };\r\n  },\r\n\r\n  toJSON(message: AddTrackRequest): unknown {\r\n    const obj: any = {};\r\n    message.cid !== undefined && (obj.cid = message.cid);\r\n    message.name !== undefined && (obj.name = message.name);\r\n    message.type !== undefined && (obj.type = trackTypeToJSON(message.type));\r\n    message.width !== undefined && (obj.width = Math.round(message.width));\r\n    message.height !== undefined && (obj.height = Math.round(message.height));\r\n    message.muted !== undefined && (obj.muted = message.muted);\r\n    message.disableDtx !== undefined && (obj.disableDtx = message.disableDtx);\r\n    message.source !== undefined && (obj.source = trackSourceToJSON(message.source));\r\n    if (message.layers) {\r\n      obj.layers = message.layers.map((e) => e ? VideoLayer.toJSON(e) : undefined);\r\n    } else {\r\n      obj.layers = [];\r\n    }\r\n    if (message.simulcastCodecs) {\r\n      obj.simulcastCodecs = message.simulcastCodecs.map((e) => e ? SimulcastCodec.toJSON(e) : undefined);\r\n    } else {\r\n      obj.simulcastCodecs = [];\r\n    }\r\n    message.sid !== undefined && (obj.sid = message.sid);\r\n    message.stereo !== undefined && (obj.stereo = message.stereo);\r\n    message.disableRed !== undefined && (obj.disableRed = message.disableRed);\r\n    message.encryption !== undefined && (obj.encryption = encryption_TypeToJSON(message.encryption));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<AddTrackRequest>, I>>(base?: I): AddTrackRequest {\r\n    return AddTrackRequest.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<AddTrackRequest>, I>>(object: I): AddTrackRequest {\r\n    const message = createBaseAddTrackRequest();\r\n    message.cid = object.cid ?? \"\";\r\n    message.name = object.name ?? \"\";\r\n    message.type = object.type ?? 0;\r\n    message.width = object.width ?? 0;\r\n    message.height = object.height ?? 0;\r\n    message.muted = object.muted ?? false;\r\n    message.disableDtx = object.disableDtx ?? false;\r\n    message.source = object.source ?? 0;\r\n    message.layers = object.layers?.map((e) => VideoLayer.fromPartial(e)) || [];\r\n    message.simulcastCodecs = object.simulcastCodecs?.map((e) => SimulcastCodec.fromPartial(e)) || [];\r\n    message.sid = object.sid ?? \"\";\r\n    message.stereo = object.stereo ?? false;\r\n    message.disableRed = object.disableRed ?? false;\r\n    message.encryption = object.encryption ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseTrickleRequest(): TrickleRequest {\r\n  return { candidateInit: \"\", target: 0 };\r\n}\r\n\r\nexport const TrickleRequest = {\r\n  encode(message: TrickleRequest, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.candidateInit !== \"\") {\r\n      writer.uint32(10).string(message.candidateInit);\r\n    }\r\n    if (message.target !== 0) {\r\n      writer.uint32(16).int32(message.target);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): TrickleRequest {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseTrickleRequest();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.candidateInit = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.target = reader.int32() as any;\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): TrickleRequest {\r\n    return {\r\n      candidateInit: isSet(object.candidateInit) ? String(object.candidateInit) : \"\",\r\n      target: isSet(object.target) ? signalTargetFromJSON(object.target) : 0,\r\n    };\r\n  },\r\n\r\n  toJSON(message: TrickleRequest): unknown {\r\n    const obj: any = {};\r\n    message.candidateInit !== undefined && (obj.candidateInit = message.candidateInit);\r\n    message.target !== undefined && (obj.target = signalTargetToJSON(message.target));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<TrickleRequest>, I>>(base?: I): TrickleRequest {\r\n    return TrickleRequest.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<TrickleRequest>, I>>(object: I): TrickleRequest {\r\n    const message = createBaseTrickleRequest();\r\n    message.candidateInit = object.candidateInit ?? \"\";\r\n    message.target = object.target ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseMuteTrackRequest(): MuteTrackRequest {\r\n  return { sid: \"\", muted: false };\r\n}\r\n\r\nexport const MuteTrackRequest = {\r\n  encode(message: MuteTrackRequest, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.sid !== \"\") {\r\n      writer.uint32(10).string(message.sid);\r\n    }\r\n    if (message.muted === true) {\r\n      writer.uint32(16).bool(message.muted);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): MuteTrackRequest {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseMuteTrackRequest();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.sid = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.muted = reader.bool();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): MuteTrackRequest {\r\n    return {\r\n      sid: isSet(object.sid) ? String(object.sid) : \"\",\r\n      muted: isSet(object.muted) ? Boolean(object.muted) : false,\r\n    };\r\n  },\r\n\r\n  toJSON(message: MuteTrackRequest): unknown {\r\n    const obj: any = {};\r\n    message.sid !== undefined && (obj.sid = message.sid);\r\n    message.muted !== undefined && (obj.muted = message.muted);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<MuteTrackRequest>, I>>(base?: I): MuteTrackRequest {\r\n    return MuteTrackRequest.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<MuteTrackRequest>, I>>(object: I): MuteTrackRequest {\r\n    const message = createBaseMuteTrackRequest();\r\n    message.sid = object.sid ?? \"\";\r\n    message.muted = object.muted ?? false;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseJoinResponse(): JoinResponse {\r\n  return {\r\n    room: undefined,\r\n    participant: undefined,\r\n    otherParticipants: [],\r\n    serverVersion: \"\",\r\n    iceServers: [],\r\n    subscriberPrimary: false,\r\n    alternativeUrl: \"\",\r\n    clientConfiguration: undefined,\r\n    serverRegion: \"\",\r\n    pingTimeout: 0,\r\n    pingInterval: 0,\r\n    serverInfo: undefined,\r\n  };\r\n}\r\n\r\nexport const JoinResponse = {\r\n  encode(message: JoinResponse, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.room !== undefined) {\r\n      Room.encode(message.room, writer.uint32(10).fork()).ldelim();\r\n    }\r\n    if (message.participant !== undefined) {\r\n      ParticipantInfo.encode(message.participant, writer.uint32(18).fork()).ldelim();\r\n    }\r\n    for (const v of message.otherParticipants) {\r\n      ParticipantInfo.encode(v!, writer.uint32(26).fork()).ldelim();\r\n    }\r\n    if (message.serverVersion !== \"\") {\r\n      writer.uint32(34).string(message.serverVersion);\r\n    }\r\n    for (const v of message.iceServers) {\r\n      ICEServer.encode(v!, writer.uint32(42).fork()).ldelim();\r\n    }\r\n    if (message.subscriberPrimary === true) {\r\n      writer.uint32(48).bool(message.subscriberPrimary);\r\n    }\r\n    if (message.alternativeUrl !== \"\") {\r\n      writer.uint32(58).string(message.alternativeUrl);\r\n    }\r\n    if (message.clientConfiguration !== undefined) {\r\n      ClientConfiguration.encode(message.clientConfiguration, writer.uint32(66).fork()).ldelim();\r\n    }\r\n    if (message.serverRegion !== \"\") {\r\n      writer.uint32(74).string(message.serverRegion);\r\n    }\r\n    if (message.pingTimeout !== 0) {\r\n      writer.uint32(80).int32(message.pingTimeout);\r\n    }\r\n    if (message.pingInterval !== 0) {\r\n      writer.uint32(88).int32(message.pingInterval);\r\n    }\r\n    if (message.serverInfo !== undefined) {\r\n      ServerInfo.encode(message.serverInfo, writer.uint32(98).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): JoinResponse {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseJoinResponse();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.room = Room.decode(reader, reader.uint32());\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.participant = ParticipantInfo.decode(reader, reader.uint32());\r\n          continue;\r\n        case 3:\r\n          if (tag != 26) {\r\n            break;\r\n          }\r\n\r\n          message.otherParticipants.push(ParticipantInfo.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 4:\r\n          if (tag != 34) {\r\n            break;\r\n          }\r\n\r\n          message.serverVersion = reader.string();\r\n          continue;\r\n        case 5:\r\n          if (tag != 42) {\r\n            break;\r\n          }\r\n\r\n          message.iceServers.push(ICEServer.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 6:\r\n          if (tag != 48) {\r\n            break;\r\n          }\r\n\r\n          message.subscriberPrimary = reader.bool();\r\n          continue;\r\n        case 7:\r\n          if (tag != 58) {\r\n            break;\r\n          }\r\n\r\n          message.alternativeUrl = reader.string();\r\n          continue;\r\n        case 8:\r\n          if (tag != 66) {\r\n            break;\r\n          }\r\n\r\n          message.clientConfiguration = ClientConfiguration.decode(reader, reader.uint32());\r\n          continue;\r\n        case 9:\r\n          if (tag != 74) {\r\n            break;\r\n          }\r\n\r\n          message.serverRegion = reader.string();\r\n          continue;\r\n        case 10:\r\n          if (tag != 80) {\r\n            break;\r\n          }\r\n\r\n          message.pingTimeout = reader.int32();\r\n          continue;\r\n        case 11:\r\n          if (tag != 88) {\r\n            break;\r\n          }\r\n\r\n          message.pingInterval = reader.int32();\r\n          continue;\r\n        case 12:\r\n          if (tag != 98) {\r\n            break;\r\n          }\r\n\r\n          message.serverInfo = ServerInfo.decode(reader, reader.uint32());\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): JoinResponse {\r\n    return {\r\n      room: isSet(object.room) ? Room.fromJSON(object.room) : undefined,\r\n      participant: isSet(object.participant) ? ParticipantInfo.fromJSON(object.participant) : undefined,\r\n      otherParticipants: Array.isArray(object?.otherParticipants)\r\n        ? object.otherParticipants.map((e: any) => ParticipantInfo.fromJSON(e))\r\n        : [],\r\n      serverVersion: isSet(object.serverVersion) ? String(object.serverVersion) : \"\",\r\n      iceServers: Array.isArray(object?.iceServers) ? object.iceServers.map((e: any) => ICEServer.fromJSON(e)) : [],\r\n      subscriberPrimary: isSet(object.subscriberPrimary) ? Boolean(object.subscriberPrimary) : false,\r\n      alternativeUrl: isSet(object.alternativeUrl) ? String(object.alternativeUrl) : \"\",\r\n      clientConfiguration: isSet(object.clientConfiguration)\r\n        ? ClientConfiguration.fromJSON(object.clientConfiguration)\r\n        : undefined,\r\n      serverRegion: isSet(object.serverRegion) ? String(object.serverRegion) : \"\",\r\n      pingTimeout: isSet(object.pingTimeout) ? Number(object.pingTimeout) : 0,\r\n      pingInterval: isSet(object.pingInterval) ? Number(object.pingInterval) : 0,\r\n      serverInfo: isSet(object.serverInfo) ? ServerInfo.fromJSON(object.serverInfo) : undefined,\r\n    };\r\n  },\r\n\r\n  toJSON(message: JoinResponse): unknown {\r\n    const obj: any = {};\r\n    message.room !== undefined && (obj.room = message.room ? Room.toJSON(message.room) : undefined);\r\n    message.participant !== undefined &&\r\n      (obj.participant = message.participant ? ParticipantInfo.toJSON(message.participant) : undefined);\r\n    if (message.otherParticipants) {\r\n      obj.otherParticipants = message.otherParticipants.map((e) => e ? ParticipantInfo.toJSON(e) : undefined);\r\n    } else {\r\n      obj.otherParticipants = [];\r\n    }\r\n    message.serverVersion !== undefined && (obj.serverVersion = message.serverVersion);\r\n    if (message.iceServers) {\r\n      obj.iceServers = message.iceServers.map((e) => e ? ICEServer.toJSON(e) : undefined);\r\n    } else {\r\n      obj.iceServers = [];\r\n    }\r\n    message.subscriberPrimary !== undefined && (obj.subscriberPrimary = message.subscriberPrimary);\r\n    message.alternativeUrl !== undefined && (obj.alternativeUrl = message.alternativeUrl);\r\n    message.clientConfiguration !== undefined && (obj.clientConfiguration = message.clientConfiguration\r\n      ? ClientConfiguration.toJSON(message.clientConfiguration)\r\n      : undefined);\r\n    message.serverRegion !== undefined && (obj.serverRegion = message.serverRegion);\r\n    message.pingTimeout !== undefined && (obj.pingTimeout = Math.round(message.pingTimeout));\r\n    message.pingInterval !== undefined && (obj.pingInterval = Math.round(message.pingInterval));\r\n    message.serverInfo !== undefined &&\r\n      (obj.serverInfo = message.serverInfo ? ServerInfo.toJSON(message.serverInfo) : undefined);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<JoinResponse>, I>>(base?: I): JoinResponse {\r\n    return JoinResponse.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<JoinResponse>, I>>(object: I): JoinResponse {\r\n    const message = createBaseJoinResponse();\r\n    message.room = (object.room !== undefined && object.room !== null) ? Room.fromPartial(object.room) : undefined;\r\n    message.participant = (object.participant !== undefined && object.participant !== null)\r\n      ? ParticipantInfo.fromPartial(object.participant)\r\n      : undefined;\r\n    message.otherParticipants = object.otherParticipants?.map((e) => ParticipantInfo.fromPartial(e)) || [];\r\n    message.serverVersion = object.serverVersion ?? \"\";\r\n    message.iceServers = object.iceServers?.map((e) => ICEServer.fromPartial(e)) || [];\r\n    message.subscriberPrimary = object.subscriberPrimary ?? false;\r\n    message.alternativeUrl = object.alternativeUrl ?? \"\";\r\n    message.clientConfiguration = (object.clientConfiguration !== undefined && object.clientConfiguration !== null)\r\n      ? ClientConfiguration.fromPartial(object.clientConfiguration)\r\n      : undefined;\r\n    message.serverRegion = object.serverRegion ?? \"\";\r\n    message.pingTimeout = object.pingTimeout ?? 0;\r\n    message.pingInterval = object.pingInterval ?? 0;\r\n    message.serverInfo = (object.serverInfo !== undefined && object.serverInfo !== null)\r\n      ? ServerInfo.fromPartial(object.serverInfo)\r\n      : undefined;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseReconnectResponse(): ReconnectResponse {\r\n  return { iceServers: [], clientConfiguration: undefined };\r\n}\r\n\r\nexport const ReconnectResponse = {\r\n  encode(message: ReconnectResponse, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    for (const v of message.iceServers) {\r\n      ICEServer.encode(v!, writer.uint32(10).fork()).ldelim();\r\n    }\r\n    if (message.clientConfiguration !== undefined) {\r\n      ClientConfiguration.encode(message.clientConfiguration, writer.uint32(18).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): ReconnectResponse {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseReconnectResponse();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.iceServers.push(ICEServer.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.clientConfiguration = ClientConfiguration.decode(reader, reader.uint32());\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): ReconnectResponse {\r\n    return {\r\n      iceServers: Array.isArray(object?.iceServers) ? object.iceServers.map((e: any) => ICEServer.fromJSON(e)) : [],\r\n      clientConfiguration: isSet(object.clientConfiguration)\r\n        ? ClientConfiguration.fromJSON(object.clientConfiguration)\r\n        : undefined,\r\n    };\r\n  },\r\n\r\n  toJSON(message: ReconnectResponse): unknown {\r\n    const obj: any = {};\r\n    if (message.iceServers) {\r\n      obj.iceServers = message.iceServers.map((e) => e ? ICEServer.toJSON(e) : undefined);\r\n    } else {\r\n      obj.iceServers = [];\r\n    }\r\n    message.clientConfiguration !== undefined && (obj.clientConfiguration = message.clientConfiguration\r\n      ? ClientConfiguration.toJSON(message.clientConfiguration)\r\n      : undefined);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<ReconnectResponse>, I>>(base?: I): ReconnectResponse {\r\n    return ReconnectResponse.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<ReconnectResponse>, I>>(object: I): ReconnectResponse {\r\n    const message = createBaseReconnectResponse();\r\n    message.iceServers = object.iceServers?.map((e) => ICEServer.fromPartial(e)) || [];\r\n    message.clientConfiguration = (object.clientConfiguration !== undefined && object.clientConfiguration !== null)\r\n      ? ClientConfiguration.fromPartial(object.clientConfiguration)\r\n      : undefined;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseTrackPublishedResponse(): TrackPublishedResponse {\r\n  return { cid: \"\", track: undefined };\r\n}\r\n\r\nexport const TrackPublishedResponse = {\r\n  encode(message: TrackPublishedResponse, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.cid !== \"\") {\r\n      writer.uint32(10).string(message.cid);\r\n    }\r\n    if (message.track !== undefined) {\r\n      TrackInfo.encode(message.track, writer.uint32(18).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): TrackPublishedResponse {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseTrackPublishedResponse();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.cid = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.track = TrackInfo.decode(reader, reader.uint32());\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): TrackPublishedResponse {\r\n    return {\r\n      cid: isSet(object.cid) ? String(object.cid) : \"\",\r\n      track: isSet(object.track) ? TrackInfo.fromJSON(object.track) : undefined,\r\n    };\r\n  },\r\n\r\n  toJSON(message: TrackPublishedResponse): unknown {\r\n    const obj: any = {};\r\n    message.cid !== undefined && (obj.cid = message.cid);\r\n    message.track !== undefined && (obj.track = message.track ? TrackInfo.toJSON(message.track) : undefined);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<TrackPublishedResponse>, I>>(base?: I): TrackPublishedResponse {\r\n    return TrackPublishedResponse.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<TrackPublishedResponse>, I>>(object: I): TrackPublishedResponse {\r\n    const message = createBaseTrackPublishedResponse();\r\n    message.cid = object.cid ?? \"\";\r\n    message.track = (object.track !== undefined && object.track !== null)\r\n      ? TrackInfo.fromPartial(object.track)\r\n      : undefined;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseTrackUnpublishedResponse(): TrackUnpublishedResponse {\r\n  return { trackSid: \"\" };\r\n}\r\n\r\nexport const TrackUnpublishedResponse = {\r\n  encode(message: TrackUnpublishedResponse, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.trackSid !== \"\") {\r\n      writer.uint32(10).string(message.trackSid);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): TrackUnpublishedResponse {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseTrackUnpublishedResponse();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.trackSid = reader.string();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): TrackUnpublishedResponse {\r\n    return { trackSid: isSet(object.trackSid) ? String(object.trackSid) : \"\" };\r\n  },\r\n\r\n  toJSON(message: TrackUnpublishedResponse): unknown {\r\n    const obj: any = {};\r\n    message.trackSid !== undefined && (obj.trackSid = message.trackSid);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<TrackUnpublishedResponse>, I>>(base?: I): TrackUnpublishedResponse {\r\n    return TrackUnpublishedResponse.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<TrackUnpublishedResponse>, I>>(object: I): TrackUnpublishedResponse {\r\n    const message = createBaseTrackUnpublishedResponse();\r\n    message.trackSid = object.trackSid ?? \"\";\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseSessionDescription(): SessionDescription {\r\n  return { type: \"\", sdp: \"\" };\r\n}\r\n\r\nexport const SessionDescription = {\r\n  encode(message: SessionDescription, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.type !== \"\") {\r\n      writer.uint32(10).string(message.type);\r\n    }\r\n    if (message.sdp !== \"\") {\r\n      writer.uint32(18).string(message.sdp);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): SessionDescription {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseSessionDescription();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.type = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.sdp = reader.string();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): SessionDescription {\r\n    return { type: isSet(object.type) ? String(object.type) : \"\", sdp: isSet(object.sdp) ? String(object.sdp) : \"\" };\r\n  },\r\n\r\n  toJSON(message: SessionDescription): unknown {\r\n    const obj: any = {};\r\n    message.type !== undefined && (obj.type = message.type);\r\n    message.sdp !== undefined && (obj.sdp = message.sdp);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<SessionDescription>, I>>(base?: I): SessionDescription {\r\n    return SessionDescription.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<SessionDescription>, I>>(object: I): SessionDescription {\r\n    const message = createBaseSessionDescription();\r\n    message.type = object.type ?? \"\";\r\n    message.sdp = object.sdp ?? \"\";\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseParticipantUpdate(): ParticipantUpdate {\r\n  return { participants: [] };\r\n}\r\n\r\nexport const ParticipantUpdate = {\r\n  encode(message: ParticipantUpdate, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    for (const v of message.participants) {\r\n      ParticipantInfo.encode(v!, writer.uint32(10).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): ParticipantUpdate {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseParticipantUpdate();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.participants.push(ParticipantInfo.decode(reader, reader.uint32()));\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): ParticipantUpdate {\r\n    return {\r\n      participants: Array.isArray(object?.participants)\r\n        ? object.participants.map((e: any) => ParticipantInfo.fromJSON(e))\r\n        : [],\r\n    };\r\n  },\r\n\r\n  toJSON(message: ParticipantUpdate): unknown {\r\n    const obj: any = {};\r\n    if (message.participants) {\r\n      obj.participants = message.participants.map((e) => e ? ParticipantInfo.toJSON(e) : undefined);\r\n    } else {\r\n      obj.participants = [];\r\n    }\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<ParticipantUpdate>, I>>(base?: I): ParticipantUpdate {\r\n    return ParticipantUpdate.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<ParticipantUpdate>, I>>(object: I): ParticipantUpdate {\r\n    const message = createBaseParticipantUpdate();\r\n    message.participants = object.participants?.map((e) => ParticipantInfo.fromPartial(e)) || [];\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseUpdateSubscription(): UpdateSubscription {\r\n  return { trackSids: [], subscribe: false, participantTracks: [] };\r\n}\r\n\r\nexport const UpdateSubscription = {\r\n  encode(message: UpdateSubscription, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    for (const v of message.trackSids) {\r\n      writer.uint32(10).string(v!);\r\n    }\r\n    if (message.subscribe === true) {\r\n      writer.uint32(16).bool(message.subscribe);\r\n    }\r\n    for (const v of message.participantTracks) {\r\n      ParticipantTracks.encode(v!, writer.uint32(26).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): UpdateSubscription {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseUpdateSubscription();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.trackSids.push(reader.string());\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.subscribe = reader.bool();\r\n          continue;\r\n        case 3:\r\n          if (tag != 26) {\r\n            break;\r\n          }\r\n\r\n          message.participantTracks.push(ParticipantTracks.decode(reader, reader.uint32()));\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): UpdateSubscription {\r\n    return {\r\n      trackSids: Array.isArray(object?.trackSids) ? object.trackSids.map((e: any) => String(e)) : [],\r\n      subscribe: isSet(object.subscribe) ? Boolean(object.subscribe) : false,\r\n      participantTracks: Array.isArray(object?.participantTracks)\r\n        ? object.participantTracks.map((e: any) => ParticipantTracks.fromJSON(e))\r\n        : [],\r\n    };\r\n  },\r\n\r\n  toJSON(message: UpdateSubscription): unknown {\r\n    const obj: any = {};\r\n    if (message.trackSids) {\r\n      obj.trackSids = message.trackSids.map((e) => e);\r\n    } else {\r\n      obj.trackSids = [];\r\n    }\r\n    message.subscribe !== undefined && (obj.subscribe = message.subscribe);\r\n    if (message.participantTracks) {\r\n      obj.participantTracks = message.participantTracks.map((e) => e ? ParticipantTracks.toJSON(e) : undefined);\r\n    } else {\r\n      obj.participantTracks = [];\r\n    }\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<UpdateSubscription>, I>>(base?: I): UpdateSubscription {\r\n    return UpdateSubscription.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<UpdateSubscription>, I>>(object: I): UpdateSubscription {\r\n    const message = createBaseUpdateSubscription();\r\n    message.trackSids = object.trackSids?.map((e) => e) || [];\r\n    message.subscribe = object.subscribe ?? false;\r\n    message.participantTracks = object.participantTracks?.map((e) => ParticipantTracks.fromPartial(e)) || [];\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseUpdateTrackSettings(): UpdateTrackSettings {\r\n  return { trackSids: [], disabled: false, quality: 0, width: 0, height: 0, fps: 0, priority: 0 };\r\n}\r\n\r\nexport const UpdateTrackSettings = {\r\n  encode(message: UpdateTrackSettings, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    for (const v of message.trackSids) {\r\n      writer.uint32(10).string(v!);\r\n    }\r\n    if (message.disabled === true) {\r\n      writer.uint32(24).bool(message.disabled);\r\n    }\r\n    if (message.quality !== 0) {\r\n      writer.uint32(32).int32(message.quality);\r\n    }\r\n    if (message.width !== 0) {\r\n      writer.uint32(40).uint32(message.width);\r\n    }\r\n    if (message.height !== 0) {\r\n      writer.uint32(48).uint32(message.height);\r\n    }\r\n    if (message.fps !== 0) {\r\n      writer.uint32(56).uint32(message.fps);\r\n    }\r\n    if (message.priority !== 0) {\r\n      writer.uint32(64).uint32(message.priority);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): UpdateTrackSettings {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseUpdateTrackSettings();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.trackSids.push(reader.string());\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.disabled = reader.bool();\r\n          continue;\r\n        case 4:\r\n          if (tag != 32) {\r\n            break;\r\n          }\r\n\r\n          message.quality = reader.int32() as any;\r\n          continue;\r\n        case 5:\r\n          if (tag != 40) {\r\n            break;\r\n          }\r\n\r\n          message.width = reader.uint32();\r\n          continue;\r\n        case 6:\r\n          if (tag != 48) {\r\n            break;\r\n          }\r\n\r\n          message.height = reader.uint32();\r\n          continue;\r\n        case 7:\r\n          if (tag != 56) {\r\n            break;\r\n          }\r\n\r\n          message.fps = reader.uint32();\r\n          continue;\r\n        case 8:\r\n          if (tag != 64) {\r\n            break;\r\n          }\r\n\r\n          message.priority = reader.uint32();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): UpdateTrackSettings {\r\n    return {\r\n      trackSids: Array.isArray(object?.trackSids) ? object.trackSids.map((e: any) => String(e)) : [],\r\n      disabled: isSet(object.disabled) ? Boolean(object.disabled) : false,\r\n      quality: isSet(object.quality) ? videoQualityFromJSON(object.quality) : 0,\r\n      width: isSet(object.width) ? Number(object.width) : 0,\r\n      height: isSet(object.height) ? Number(object.height) : 0,\r\n      fps: isSet(object.fps) ? Number(object.fps) : 0,\r\n      priority: isSet(object.priority) ? Number(object.priority) : 0,\r\n    };\r\n  },\r\n\r\n  toJSON(message: UpdateTrackSettings): unknown {\r\n    const obj: any = {};\r\n    if (message.trackSids) {\r\n      obj.trackSids = message.trackSids.map((e) => e);\r\n    } else {\r\n      obj.trackSids = [];\r\n    }\r\n    message.disabled !== undefined && (obj.disabled = message.disabled);\r\n    message.quality !== undefined && (obj.quality = videoQualityToJSON(message.quality));\r\n    message.width !== undefined && (obj.width = Math.round(message.width));\r\n    message.height !== undefined && (obj.height = Math.round(message.height));\r\n    message.fps !== undefined && (obj.fps = Math.round(message.fps));\r\n    message.priority !== undefined && (obj.priority = Math.round(message.priority));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<UpdateTrackSettings>, I>>(base?: I): UpdateTrackSettings {\r\n    return UpdateTrackSettings.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<UpdateTrackSettings>, I>>(object: I): UpdateTrackSettings {\r\n    const message = createBaseUpdateTrackSettings();\r\n    message.trackSids = object.trackSids?.map((e) => e) || [];\r\n    message.disabled = object.disabled ?? false;\r\n    message.quality = object.quality ?? 0;\r\n    message.width = object.width ?? 0;\r\n    message.height = object.height ?? 0;\r\n    message.fps = object.fps ?? 0;\r\n    message.priority = object.priority ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseLeaveRequest(): LeaveRequest {\r\n  return { canReconnect: false, reason: 0 };\r\n}\r\n\r\nexport const LeaveRequest = {\r\n  encode(message: LeaveRequest, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.canReconnect === true) {\r\n      writer.uint32(8).bool(message.canReconnect);\r\n    }\r\n    if (message.reason !== 0) {\r\n      writer.uint32(16).int32(message.reason);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): LeaveRequest {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseLeaveRequest();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 8) {\r\n            break;\r\n          }\r\n\r\n          message.canReconnect = reader.bool();\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.reason = reader.int32() as any;\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): LeaveRequest {\r\n    return {\r\n      canReconnect: isSet(object.canReconnect) ? Boolean(object.canReconnect) : false,\r\n      reason: isSet(object.reason) ? disconnectReasonFromJSON(object.reason) : 0,\r\n    };\r\n  },\r\n\r\n  toJSON(message: LeaveRequest): unknown {\r\n    const obj: any = {};\r\n    message.canReconnect !== undefined && (obj.canReconnect = message.canReconnect);\r\n    message.reason !== undefined && (obj.reason = disconnectReasonToJSON(message.reason));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<LeaveRequest>, I>>(base?: I): LeaveRequest {\r\n    return LeaveRequest.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<LeaveRequest>, I>>(object: I): LeaveRequest {\r\n    const message = createBaseLeaveRequest();\r\n    message.canReconnect = object.canReconnect ?? false;\r\n    message.reason = object.reason ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseUpdateVideoLayers(): UpdateVideoLayers {\r\n  return { trackSid: \"\", layers: [] };\r\n}\r\n\r\nexport const UpdateVideoLayers = {\r\n  encode(message: UpdateVideoLayers, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.trackSid !== \"\") {\r\n      writer.uint32(10).string(message.trackSid);\r\n    }\r\n    for (const v of message.layers) {\r\n      VideoLayer.encode(v!, writer.uint32(18).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): UpdateVideoLayers {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseUpdateVideoLayers();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.trackSid = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.layers.push(VideoLayer.decode(reader, reader.uint32()));\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): UpdateVideoLayers {\r\n    return {\r\n      trackSid: isSet(object.trackSid) ? String(object.trackSid) : \"\",\r\n      layers: Array.isArray(object?.layers) ? object.layers.map((e: any) => VideoLayer.fromJSON(e)) : [],\r\n    };\r\n  },\r\n\r\n  toJSON(message: UpdateVideoLayers): unknown {\r\n    const obj: any = {};\r\n    message.trackSid !== undefined && (obj.trackSid = message.trackSid);\r\n    if (message.layers) {\r\n      obj.layers = message.layers.map((e) => e ? VideoLayer.toJSON(e) : undefined);\r\n    } else {\r\n      obj.layers = [];\r\n    }\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<UpdateVideoLayers>, I>>(base?: I): UpdateVideoLayers {\r\n    return UpdateVideoLayers.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<UpdateVideoLayers>, I>>(object: I): UpdateVideoLayers {\r\n    const message = createBaseUpdateVideoLayers();\r\n    message.trackSid = object.trackSid ?? \"\";\r\n    message.layers = object.layers?.map((e) => VideoLayer.fromPartial(e)) || [];\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseUpdateParticipantMetadata(): UpdateParticipantMetadata {\r\n  return { metadata: \"\", name: \"\" };\r\n}\r\n\r\nexport const UpdateParticipantMetadata = {\r\n  encode(message: UpdateParticipantMetadata, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.metadata !== \"\") {\r\n      writer.uint32(10).string(message.metadata);\r\n    }\r\n    if (message.name !== \"\") {\r\n      writer.uint32(18).string(message.name);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): UpdateParticipantMetadata {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseUpdateParticipantMetadata();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.metadata = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.name = reader.string();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): UpdateParticipantMetadata {\r\n    return {\r\n      metadata: isSet(object.metadata) ? String(object.metadata) : \"\",\r\n      name: isSet(object.name) ? String(object.name) : \"\",\r\n    };\r\n  },\r\n\r\n  toJSON(message: UpdateParticipantMetadata): unknown {\r\n    const obj: any = {};\r\n    message.metadata !== undefined && (obj.metadata = message.metadata);\r\n    message.name !== undefined && (obj.name = message.name);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<UpdateParticipantMetadata>, I>>(base?: I): UpdateParticipantMetadata {\r\n    return UpdateParticipantMetadata.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<UpdateParticipantMetadata>, I>>(object: I): UpdateParticipantMetadata {\r\n    const message = createBaseUpdateParticipantMetadata();\r\n    message.metadata = object.metadata ?? \"\";\r\n    message.name = object.name ?? \"\";\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseICEServer(): ICEServer {\r\n  return { urls: [], username: \"\", credential: \"\" };\r\n}\r\n\r\nexport const ICEServer = {\r\n  encode(message: ICEServer, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    for (const v of message.urls) {\r\n      writer.uint32(10).string(v!);\r\n    }\r\n    if (message.username !== \"\") {\r\n      writer.uint32(18).string(message.username);\r\n    }\r\n    if (message.credential !== \"\") {\r\n      writer.uint32(26).string(message.credential);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): ICEServer {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseICEServer();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.urls.push(reader.string());\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.username = reader.string();\r\n          continue;\r\n        case 3:\r\n          if (tag != 26) {\r\n            break;\r\n          }\r\n\r\n          message.credential = reader.string();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): ICEServer {\r\n    return {\r\n      urls: Array.isArray(object?.urls) ? object.urls.map((e: any) => String(e)) : [],\r\n      username: isSet(object.username) ? String(object.username) : \"\",\r\n      credential: isSet(object.credential) ? String(object.credential) : \"\",\r\n    };\r\n  },\r\n\r\n  toJSON(message: ICEServer): unknown {\r\n    const obj: any = {};\r\n    if (message.urls) {\r\n      obj.urls = message.urls.map((e) => e);\r\n    } else {\r\n      obj.urls = [];\r\n    }\r\n    message.username !== undefined && (obj.username = message.username);\r\n    message.credential !== undefined && (obj.credential = message.credential);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<ICEServer>, I>>(base?: I): ICEServer {\r\n    return ICEServer.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<ICEServer>, I>>(object: I): ICEServer {\r\n    const message = createBaseICEServer();\r\n    message.urls = object.urls?.map((e) => e) || [];\r\n    message.username = object.username ?? \"\";\r\n    message.credential = object.credential ?? \"\";\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseSpeakersChanged(): SpeakersChanged {\r\n  return { speakers: [] };\r\n}\r\n\r\nexport const SpeakersChanged = {\r\n  encode(message: SpeakersChanged, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    for (const v of message.speakers) {\r\n      SpeakerInfo.encode(v!, writer.uint32(10).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): SpeakersChanged {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseSpeakersChanged();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.speakers.push(SpeakerInfo.decode(reader, reader.uint32()));\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): SpeakersChanged {\r\n    return {\r\n      speakers: Array.isArray(object?.speakers) ? object.speakers.map((e: any) => SpeakerInfo.fromJSON(e)) : [],\r\n    };\r\n  },\r\n\r\n  toJSON(message: SpeakersChanged): unknown {\r\n    const obj: any = {};\r\n    if (message.speakers) {\r\n      obj.speakers = message.speakers.map((e) => e ? SpeakerInfo.toJSON(e) : undefined);\r\n    } else {\r\n      obj.speakers = [];\r\n    }\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<SpeakersChanged>, I>>(base?: I): SpeakersChanged {\r\n    return SpeakersChanged.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<SpeakersChanged>, I>>(object: I): SpeakersChanged {\r\n    const message = createBaseSpeakersChanged();\r\n    message.speakers = object.speakers?.map((e) => SpeakerInfo.fromPartial(e)) || [];\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseRoomUpdate(): RoomUpdate {\r\n  return { room: undefined };\r\n}\r\n\r\nexport const RoomUpdate = {\r\n  encode(message: RoomUpdate, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.room !== undefined) {\r\n      Room.encode(message.room, writer.uint32(10).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): RoomUpdate {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseRoomUpdate();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.room = Room.decode(reader, reader.uint32());\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): RoomUpdate {\r\n    return { room: isSet(object.room) ? Room.fromJSON(object.room) : undefined };\r\n  },\r\n\r\n  toJSON(message: RoomUpdate): unknown {\r\n    const obj: any = {};\r\n    message.room !== undefined && (obj.room = message.room ? Room.toJSON(message.room) : undefined);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<RoomUpdate>, I>>(base?: I): RoomUpdate {\r\n    return RoomUpdate.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<RoomUpdate>, I>>(object: I): RoomUpdate {\r\n    const message = createBaseRoomUpdate();\r\n    message.room = (object.room !== undefined && object.room !== null) ? Room.fromPartial(object.room) : undefined;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseConnectionQualityInfo(): ConnectionQualityInfo {\r\n  return { participantSid: \"\", quality: 0, score: 0 };\r\n}\r\n\r\nexport const ConnectionQualityInfo = {\r\n  encode(message: ConnectionQualityInfo, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.participantSid !== \"\") {\r\n      writer.uint32(10).string(message.participantSid);\r\n    }\r\n    if (message.quality !== 0) {\r\n      writer.uint32(16).int32(message.quality);\r\n    }\r\n    if (message.score !== 0) {\r\n      writer.uint32(29).float(message.score);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): ConnectionQualityInfo {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseConnectionQualityInfo();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.participantSid = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.quality = reader.int32() as any;\r\n          continue;\r\n        case 3:\r\n          if (tag != 29) {\r\n            break;\r\n          }\r\n\r\n          message.score = reader.float();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): ConnectionQualityInfo {\r\n    return {\r\n      participantSid: isSet(object.participantSid) ? String(object.participantSid) : \"\",\r\n      quality: isSet(object.quality) ? connectionQualityFromJSON(object.quality) : 0,\r\n      score: isSet(object.score) ? Number(object.score) : 0,\r\n    };\r\n  },\r\n\r\n  toJSON(message: ConnectionQualityInfo): unknown {\r\n    const obj: any = {};\r\n    message.participantSid !== undefined && (obj.participantSid = message.participantSid);\r\n    message.quality !== undefined && (obj.quality = connectionQualityToJSON(message.quality));\r\n    message.score !== undefined && (obj.score = message.score);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<ConnectionQualityInfo>, I>>(base?: I): ConnectionQualityInfo {\r\n    return ConnectionQualityInfo.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<ConnectionQualityInfo>, I>>(object: I): ConnectionQualityInfo {\r\n    const message = createBaseConnectionQualityInfo();\r\n    message.participantSid = object.participantSid ?? \"\";\r\n    message.quality = object.quality ?? 0;\r\n    message.score = object.score ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseConnectionQualityUpdate(): ConnectionQualityUpdate {\r\n  return { updates: [] };\r\n}\r\n\r\nexport const ConnectionQualityUpdate = {\r\n  encode(message: ConnectionQualityUpdate, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    for (const v of message.updates) {\r\n      ConnectionQualityInfo.encode(v!, writer.uint32(10).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): ConnectionQualityUpdate {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseConnectionQualityUpdate();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.updates.push(ConnectionQualityInfo.decode(reader, reader.uint32()));\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): ConnectionQualityUpdate {\r\n    return {\r\n      updates: Array.isArray(object?.updates) ? object.updates.map((e: any) => ConnectionQualityInfo.fromJSON(e)) : [],\r\n    };\r\n  },\r\n\r\n  toJSON(message: ConnectionQualityUpdate): unknown {\r\n    const obj: any = {};\r\n    if (message.updates) {\r\n      obj.updates = message.updates.map((e) => e ? ConnectionQualityInfo.toJSON(e) : undefined);\r\n    } else {\r\n      obj.updates = [];\r\n    }\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<ConnectionQualityUpdate>, I>>(base?: I): ConnectionQualityUpdate {\r\n    return ConnectionQualityUpdate.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<ConnectionQualityUpdate>, I>>(object: I): ConnectionQualityUpdate {\r\n    const message = createBaseConnectionQualityUpdate();\r\n    message.updates = object.updates?.map((e) => ConnectionQualityInfo.fromPartial(e)) || [];\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseStreamStateInfo(): StreamStateInfo {\r\n  return { participantSid: \"\", trackSid: \"\", state: 0 };\r\n}\r\n\r\nexport const StreamStateInfo = {\r\n  encode(message: StreamStateInfo, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.participantSid !== \"\") {\r\n      writer.uint32(10).string(message.participantSid);\r\n    }\r\n    if (message.trackSid !== \"\") {\r\n      writer.uint32(18).string(message.trackSid);\r\n    }\r\n    if (message.state !== 0) {\r\n      writer.uint32(24).int32(message.state);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): StreamStateInfo {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseStreamStateInfo();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.participantSid = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.trackSid = reader.string();\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.state = reader.int32() as any;\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): StreamStateInfo {\r\n    return {\r\n      participantSid: isSet(object.participantSid) ? String(object.participantSid) : \"\",\r\n      trackSid: isSet(object.trackSid) ? String(object.trackSid) : \"\",\r\n      state: isSet(object.state) ? streamStateFromJSON(object.state) : 0,\r\n    };\r\n  },\r\n\r\n  toJSON(message: StreamStateInfo): unknown {\r\n    const obj: any = {};\r\n    message.participantSid !== undefined && (obj.participantSid = message.participantSid);\r\n    message.trackSid !== undefined && (obj.trackSid = message.trackSid);\r\n    message.state !== undefined && (obj.state = streamStateToJSON(message.state));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<StreamStateInfo>, I>>(base?: I): StreamStateInfo {\r\n    return StreamStateInfo.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<StreamStateInfo>, I>>(object: I): StreamStateInfo {\r\n    const message = createBaseStreamStateInfo();\r\n    message.participantSid = object.participantSid ?? \"\";\r\n    message.trackSid = object.trackSid ?? \"\";\r\n    message.state = object.state ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseStreamStateUpdate(): StreamStateUpdate {\r\n  return { streamStates: [] };\r\n}\r\n\r\nexport const StreamStateUpdate = {\r\n  encode(message: StreamStateUpdate, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    for (const v of message.streamStates) {\r\n      StreamStateInfo.encode(v!, writer.uint32(10).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): StreamStateUpdate {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseStreamStateUpdate();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.streamStates.push(StreamStateInfo.decode(reader, reader.uint32()));\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): StreamStateUpdate {\r\n    return {\r\n      streamStates: Array.isArray(object?.streamStates)\r\n        ? object.streamStates.map((e: any) => StreamStateInfo.fromJSON(e))\r\n        : [],\r\n    };\r\n  },\r\n\r\n  toJSON(message: StreamStateUpdate): unknown {\r\n    const obj: any = {};\r\n    if (message.streamStates) {\r\n      obj.streamStates = message.streamStates.map((e) => e ? StreamStateInfo.toJSON(e) : undefined);\r\n    } else {\r\n      obj.streamStates = [];\r\n    }\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<StreamStateUpdate>, I>>(base?: I): StreamStateUpdate {\r\n    return StreamStateUpdate.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<StreamStateUpdate>, I>>(object: I): StreamStateUpdate {\r\n    const message = createBaseStreamStateUpdate();\r\n    message.streamStates = object.streamStates?.map((e) => StreamStateInfo.fromPartial(e)) || [];\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseSubscribedQuality(): SubscribedQuality {\r\n  return { quality: 0, enabled: false };\r\n}\r\n\r\nexport const SubscribedQuality = {\r\n  encode(message: SubscribedQuality, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.quality !== 0) {\r\n      writer.uint32(8).int32(message.quality);\r\n    }\r\n    if (message.enabled === true) {\r\n      writer.uint32(16).bool(message.enabled);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): SubscribedQuality {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseSubscribedQuality();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 8) {\r\n            break;\r\n          }\r\n\r\n          message.quality = reader.int32() as any;\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.enabled = reader.bool();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): SubscribedQuality {\r\n    return {\r\n      quality: isSet(object.quality) ? videoQualityFromJSON(object.quality) : 0,\r\n      enabled: isSet(object.enabled) ? Boolean(object.enabled) : false,\r\n    };\r\n  },\r\n\r\n  toJSON(message: SubscribedQuality): unknown {\r\n    const obj: any = {};\r\n    message.quality !== undefined && (obj.quality = videoQualityToJSON(message.quality));\r\n    message.enabled !== undefined && (obj.enabled = message.enabled);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<SubscribedQuality>, I>>(base?: I): SubscribedQuality {\r\n    return SubscribedQuality.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<SubscribedQuality>, I>>(object: I): SubscribedQuality {\r\n    const message = createBaseSubscribedQuality();\r\n    message.quality = object.quality ?? 0;\r\n    message.enabled = object.enabled ?? false;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseSubscribedCodec(): SubscribedCodec {\r\n  return { codec: \"\", qualities: [] };\r\n}\r\n\r\nexport const SubscribedCodec = {\r\n  encode(message: SubscribedCodec, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.codec !== \"\") {\r\n      writer.uint32(10).string(message.codec);\r\n    }\r\n    for (const v of message.qualities) {\r\n      SubscribedQuality.encode(v!, writer.uint32(18).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): SubscribedCodec {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseSubscribedCodec();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.codec = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.qualities.push(SubscribedQuality.decode(reader, reader.uint32()));\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): SubscribedCodec {\r\n    return {\r\n      codec: isSet(object.codec) ? String(object.codec) : \"\",\r\n      qualities: Array.isArray(object?.qualities)\r\n        ? object.qualities.map((e: any) => SubscribedQuality.fromJSON(e))\r\n        : [],\r\n    };\r\n  },\r\n\r\n  toJSON(message: SubscribedCodec): unknown {\r\n    const obj: any = {};\r\n    message.codec !== undefined && (obj.codec = message.codec);\r\n    if (message.qualities) {\r\n      obj.qualities = message.qualities.map((e) => e ? SubscribedQuality.toJSON(e) : undefined);\r\n    } else {\r\n      obj.qualities = [];\r\n    }\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<SubscribedCodec>, I>>(base?: I): SubscribedCodec {\r\n    return SubscribedCodec.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<SubscribedCodec>, I>>(object: I): SubscribedCodec {\r\n    const message = createBaseSubscribedCodec();\r\n    message.codec = object.codec ?? \"\";\r\n    message.qualities = object.qualities?.map((e) => SubscribedQuality.fromPartial(e)) || [];\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseSubscribedQualityUpdate(): SubscribedQualityUpdate {\r\n  return { trackSid: \"\", subscribedQualities: [], subscribedCodecs: [] };\r\n}\r\n\r\nexport const SubscribedQualityUpdate = {\r\n  encode(message: SubscribedQualityUpdate, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.trackSid !== \"\") {\r\n      writer.uint32(10).string(message.trackSid);\r\n    }\r\n    for (const v of message.subscribedQualities) {\r\n      SubscribedQuality.encode(v!, writer.uint32(18).fork()).ldelim();\r\n    }\r\n    for (const v of message.subscribedCodecs) {\r\n      SubscribedCodec.encode(v!, writer.uint32(26).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): SubscribedQualityUpdate {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseSubscribedQualityUpdate();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.trackSid = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.subscribedQualities.push(SubscribedQuality.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 3:\r\n          if (tag != 26) {\r\n            break;\r\n          }\r\n\r\n          message.subscribedCodecs.push(SubscribedCodec.decode(reader, reader.uint32()));\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): SubscribedQualityUpdate {\r\n    return {\r\n      trackSid: isSet(object.trackSid) ? String(object.trackSid) : \"\",\r\n      subscribedQualities: Array.isArray(object?.subscribedQualities)\r\n        ? object.subscribedQualities.map((e: any) => SubscribedQuality.fromJSON(e))\r\n        : [],\r\n      subscribedCodecs: Array.isArray(object?.subscribedCodecs)\r\n        ? object.subscribedCodecs.map((e: any) => SubscribedCodec.fromJSON(e))\r\n        : [],\r\n    };\r\n  },\r\n\r\n  toJSON(message: SubscribedQualityUpdate): unknown {\r\n    const obj: any = {};\r\n    message.trackSid !== undefined && (obj.trackSid = message.trackSid);\r\n    if (message.subscribedQualities) {\r\n      obj.subscribedQualities = message.subscribedQualities.map((e) => e ? SubscribedQuality.toJSON(e) : undefined);\r\n    } else {\r\n      obj.subscribedQualities = [];\r\n    }\r\n    if (message.subscribedCodecs) {\r\n      obj.subscribedCodecs = message.subscribedCodecs.map((e) => e ? SubscribedCodec.toJSON(e) : undefined);\r\n    } else {\r\n      obj.subscribedCodecs = [];\r\n    }\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<SubscribedQualityUpdate>, I>>(base?: I): SubscribedQualityUpdate {\r\n    return SubscribedQualityUpdate.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<SubscribedQualityUpdate>, I>>(object: I): SubscribedQualityUpdate {\r\n    const message = createBaseSubscribedQualityUpdate();\r\n    message.trackSid = object.trackSid ?? \"\";\r\n    message.subscribedQualities = object.subscribedQualities?.map((e) => SubscribedQuality.fromPartial(e)) || [];\r\n    message.subscribedCodecs = object.subscribedCodecs?.map((e) => SubscribedCodec.fromPartial(e)) || [];\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseTrackPermission(): TrackPermission {\r\n  return { participantSid: \"\", allTracks: false, trackSids: [], participantIdentity: \"\" };\r\n}\r\n\r\nexport const TrackPermission = {\r\n  encode(message: TrackPermission, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.participantSid !== \"\") {\r\n      writer.uint32(10).string(message.participantSid);\r\n    }\r\n    if (message.allTracks === true) {\r\n      writer.uint32(16).bool(message.allTracks);\r\n    }\r\n    for (const v of message.trackSids) {\r\n      writer.uint32(26).string(v!);\r\n    }\r\n    if (message.participantIdentity !== \"\") {\r\n      writer.uint32(34).string(message.participantIdentity);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): TrackPermission {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseTrackPermission();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.participantSid = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.allTracks = reader.bool();\r\n          continue;\r\n        case 3:\r\n          if (tag != 26) {\r\n            break;\r\n          }\r\n\r\n          message.trackSids.push(reader.string());\r\n          continue;\r\n        case 4:\r\n          if (tag != 34) {\r\n            break;\r\n          }\r\n\r\n          message.participantIdentity = reader.string();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): TrackPermission {\r\n    return {\r\n      participantSid: isSet(object.participantSid) ? String(object.participantSid) : \"\",\r\n      allTracks: isSet(object.allTracks) ? Boolean(object.allTracks) : false,\r\n      trackSids: Array.isArray(object?.trackSids) ? object.trackSids.map((e: any) => String(e)) : [],\r\n      participantIdentity: isSet(object.participantIdentity) ? String(object.participantIdentity) : \"\",\r\n    };\r\n  },\r\n\r\n  toJSON(message: TrackPermission): unknown {\r\n    const obj: any = {};\r\n    message.participantSid !== undefined && (obj.participantSid = message.participantSid);\r\n    message.allTracks !== undefined && (obj.allTracks = message.allTracks);\r\n    if (message.trackSids) {\r\n      obj.trackSids = message.trackSids.map((e) => e);\r\n    } else {\r\n      obj.trackSids = [];\r\n    }\r\n    message.participantIdentity !== undefined && (obj.participantIdentity = message.participantIdentity);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<TrackPermission>, I>>(base?: I): TrackPermission {\r\n    return TrackPermission.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<TrackPermission>, I>>(object: I): TrackPermission {\r\n    const message = createBaseTrackPermission();\r\n    message.participantSid = object.participantSid ?? \"\";\r\n    message.allTracks = object.allTracks ?? false;\r\n    message.trackSids = object.trackSids?.map((e) => e) || [];\r\n    message.participantIdentity = object.participantIdentity ?? \"\";\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseSubscriptionPermission(): SubscriptionPermission {\r\n  return { allParticipants: false, trackPermissions: [] };\r\n}\r\n\r\nexport const SubscriptionPermission = {\r\n  encode(message: SubscriptionPermission, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.allParticipants === true) {\r\n      writer.uint32(8).bool(message.allParticipants);\r\n    }\r\n    for (const v of message.trackPermissions) {\r\n      TrackPermission.encode(v!, writer.uint32(18).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): SubscriptionPermission {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseSubscriptionPermission();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 8) {\r\n            break;\r\n          }\r\n\r\n          message.allParticipants = reader.bool();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.trackPermissions.push(TrackPermission.decode(reader, reader.uint32()));\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): SubscriptionPermission {\r\n    return {\r\n      allParticipants: isSet(object.allParticipants) ? Boolean(object.allParticipants) : false,\r\n      trackPermissions: Array.isArray(object?.trackPermissions)\r\n        ? object.trackPermissions.map((e: any) => TrackPermission.fromJSON(e))\r\n        : [],\r\n    };\r\n  },\r\n\r\n  toJSON(message: SubscriptionPermission): unknown {\r\n    const obj: any = {};\r\n    message.allParticipants !== undefined && (obj.allParticipants = message.allParticipants);\r\n    if (message.trackPermissions) {\r\n      obj.trackPermissions = message.trackPermissions.map((e) => e ? TrackPermission.toJSON(e) : undefined);\r\n    } else {\r\n      obj.trackPermissions = [];\r\n    }\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<SubscriptionPermission>, I>>(base?: I): SubscriptionPermission {\r\n    return SubscriptionPermission.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<SubscriptionPermission>, I>>(object: I): SubscriptionPermission {\r\n    const message = createBaseSubscriptionPermission();\r\n    message.allParticipants = object.allParticipants ?? false;\r\n    message.trackPermissions = object.trackPermissions?.map((e) => TrackPermission.fromPartial(e)) || [];\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseSubscriptionPermissionUpdate(): SubscriptionPermissionUpdate {\r\n  return { participantSid: \"\", trackSid: \"\", allowed: false };\r\n}\r\n\r\nexport const SubscriptionPermissionUpdate = {\r\n  encode(message: SubscriptionPermissionUpdate, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.participantSid !== \"\") {\r\n      writer.uint32(10).string(message.participantSid);\r\n    }\r\n    if (message.trackSid !== \"\") {\r\n      writer.uint32(18).string(message.trackSid);\r\n    }\r\n    if (message.allowed === true) {\r\n      writer.uint32(24).bool(message.allowed);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): SubscriptionPermissionUpdate {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseSubscriptionPermissionUpdate();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.participantSid = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.trackSid = reader.string();\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.allowed = reader.bool();\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): SubscriptionPermissionUpdate {\r\n    return {\r\n      participantSid: isSet(object.participantSid) ? String(object.participantSid) : \"\",\r\n      trackSid: isSet(object.trackSid) ? String(object.trackSid) : \"\",\r\n      allowed: isSet(object.allowed) ? Boolean(object.allowed) : false,\r\n    };\r\n  },\r\n\r\n  toJSON(message: SubscriptionPermissionUpdate): unknown {\r\n    const obj: any = {};\r\n    message.participantSid !== undefined && (obj.participantSid = message.participantSid);\r\n    message.trackSid !== undefined && (obj.trackSid = message.trackSid);\r\n    message.allowed !== undefined && (obj.allowed = message.allowed);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<SubscriptionPermissionUpdate>, I>>(base?: I): SubscriptionPermissionUpdate {\r\n    return SubscriptionPermissionUpdate.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<SubscriptionPermissionUpdate>, I>>(object: I): SubscriptionPermissionUpdate {\r\n    const message = createBaseSubscriptionPermissionUpdate();\r\n    message.participantSid = object.participantSid ?? \"\";\r\n    message.trackSid = object.trackSid ?? \"\";\r\n    message.allowed = object.allowed ?? false;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseSyncState(): SyncState {\r\n  return { answer: undefined, subscription: undefined, publishTracks: [], dataChannels: [], offer: undefined };\r\n}\r\n\r\nexport const SyncState = {\r\n  encode(message: SyncState, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.answer !== undefined) {\r\n      SessionDescription.encode(message.answer, writer.uint32(10).fork()).ldelim();\r\n    }\r\n    if (message.subscription !== undefined) {\r\n      UpdateSubscription.encode(message.subscription, writer.uint32(18).fork()).ldelim();\r\n    }\r\n    for (const v of message.publishTracks) {\r\n      TrackPublishedResponse.encode(v!, writer.uint32(26).fork()).ldelim();\r\n    }\r\n    for (const v of message.dataChannels) {\r\n      DataChannelInfo.encode(v!, writer.uint32(34).fork()).ldelim();\r\n    }\r\n    if (message.offer !== undefined) {\r\n      SessionDescription.encode(message.offer, writer.uint32(42).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): SyncState {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseSyncState();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.answer = SessionDescription.decode(reader, reader.uint32());\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.subscription = UpdateSubscription.decode(reader, reader.uint32());\r\n          continue;\r\n        case 3:\r\n          if (tag != 26) {\r\n            break;\r\n          }\r\n\r\n          message.publishTracks.push(TrackPublishedResponse.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 4:\r\n          if (tag != 34) {\r\n            break;\r\n          }\r\n\r\n          message.dataChannels.push(DataChannelInfo.decode(reader, reader.uint32()));\r\n          continue;\r\n        case 5:\r\n          if (tag != 42) {\r\n            break;\r\n          }\r\n\r\n          message.offer = SessionDescription.decode(reader, reader.uint32());\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): SyncState {\r\n    return {\r\n      answer: isSet(object.answer) ? SessionDescription.fromJSON(object.answer) : undefined,\r\n      subscription: isSet(object.subscription) ? UpdateSubscription.fromJSON(object.subscription) : undefined,\r\n      publishTracks: Array.isArray(object?.publishTracks)\r\n        ? object.publishTracks.map((e: any) => TrackPublishedResponse.fromJSON(e))\r\n        : [],\r\n      dataChannels: Array.isArray(object?.dataChannels)\r\n        ? object.dataChannels.map((e: any) => DataChannelInfo.fromJSON(e))\r\n        : [],\r\n      offer: isSet(object.offer) ? SessionDescription.fromJSON(object.offer) : undefined,\r\n    };\r\n  },\r\n\r\n  toJSON(message: SyncState): unknown {\r\n    const obj: any = {};\r\n    message.answer !== undefined &&\r\n      (obj.answer = message.answer ? SessionDescription.toJSON(message.answer) : undefined);\r\n    message.subscription !== undefined &&\r\n      (obj.subscription = message.subscription ? UpdateSubscription.toJSON(message.subscription) : undefined);\r\n    if (message.publishTracks) {\r\n      obj.publishTracks = message.publishTracks.map((e) => e ? TrackPublishedResponse.toJSON(e) : undefined);\r\n    } else {\r\n      obj.publishTracks = [];\r\n    }\r\n    if (message.dataChannels) {\r\n      obj.dataChannels = message.dataChannels.map((e) => e ? DataChannelInfo.toJSON(e) : undefined);\r\n    } else {\r\n      obj.dataChannels = [];\r\n    }\r\n    message.offer !== undefined && (obj.offer = message.offer ? SessionDescription.toJSON(message.offer) : undefined);\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<SyncState>, I>>(base?: I): SyncState {\r\n    return SyncState.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<SyncState>, I>>(object: I): SyncState {\r\n    const message = createBaseSyncState();\r\n    message.answer = (object.answer !== undefined && object.answer !== null)\r\n      ? SessionDescription.fromPartial(object.answer)\r\n      : undefined;\r\n    message.subscription = (object.subscription !== undefined && object.subscription !== null)\r\n      ? UpdateSubscription.fromPartial(object.subscription)\r\n      : undefined;\r\n    message.publishTracks = object.publishTracks?.map((e) => TrackPublishedResponse.fromPartial(e)) || [];\r\n    message.dataChannels = object.dataChannels?.map((e) => DataChannelInfo.fromPartial(e)) || [];\r\n    message.offer = (object.offer !== undefined && object.offer !== null)\r\n      ? SessionDescription.fromPartial(object.offer)\r\n      : undefined;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseDataChannelInfo(): DataChannelInfo {\r\n  return { label: \"\", id: 0, target: 0 };\r\n}\r\n\r\nexport const DataChannelInfo = {\r\n  encode(message: DataChannelInfo, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.label !== \"\") {\r\n      writer.uint32(10).string(message.label);\r\n    }\r\n    if (message.id !== 0) {\r\n      writer.uint32(16).uint32(message.id);\r\n    }\r\n    if (message.target !== 0) {\r\n      writer.uint32(24).int32(message.target);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): DataChannelInfo {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseDataChannelInfo();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.label = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.id = reader.uint32();\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.target = reader.int32() as any;\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): DataChannelInfo {\r\n    return {\r\n      label: isSet(object.label) ? String(object.label) : \"\",\r\n      id: isSet(object.id) ? Number(object.id) : 0,\r\n      target: isSet(object.target) ? signalTargetFromJSON(object.target) : 0,\r\n    };\r\n  },\r\n\r\n  toJSON(message: DataChannelInfo): unknown {\r\n    const obj: any = {};\r\n    message.label !== undefined && (obj.label = message.label);\r\n    message.id !== undefined && (obj.id = Math.round(message.id));\r\n    message.target !== undefined && (obj.target = signalTargetToJSON(message.target));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<DataChannelInfo>, I>>(base?: I): DataChannelInfo {\r\n    return DataChannelInfo.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<DataChannelInfo>, I>>(object: I): DataChannelInfo {\r\n    const message = createBaseDataChannelInfo();\r\n    message.label = object.label ?? \"\";\r\n    message.id = object.id ?? 0;\r\n    message.target = object.target ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseSimulateScenario(): SimulateScenario {\r\n  return { scenario: undefined };\r\n}\r\n\r\nexport const SimulateScenario = {\r\n  encode(message: SimulateScenario, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    switch (message.scenario?.$case) {\r\n      case \"speakerUpdate\":\r\n        writer.uint32(8).int32(message.scenario.speakerUpdate);\r\n        break;\r\n      case \"nodeFailure\":\r\n        writer.uint32(16).bool(message.scenario.nodeFailure);\r\n        break;\r\n      case \"migration\":\r\n        writer.uint32(24).bool(message.scenario.migration);\r\n        break;\r\n      case \"serverLeave\":\r\n        writer.uint32(32).bool(message.scenario.serverLeave);\r\n        break;\r\n      case \"switchCandidateProtocol\":\r\n        writer.uint32(40).int32(message.scenario.switchCandidateProtocol);\r\n        break;\r\n      case \"subscriberBandwidth\":\r\n        writer.uint32(48).int64(message.scenario.subscriberBandwidth);\r\n        break;\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): SimulateScenario {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseSimulateScenario();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 8) {\r\n            break;\r\n          }\r\n\r\n          message.scenario = { $case: \"speakerUpdate\", speakerUpdate: reader.int32() };\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.scenario = { $case: \"nodeFailure\", nodeFailure: reader.bool() };\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.scenario = { $case: \"migration\", migration: reader.bool() };\r\n          continue;\r\n        case 4:\r\n          if (tag != 32) {\r\n            break;\r\n          }\r\n\r\n          message.scenario = { $case: \"serverLeave\", serverLeave: reader.bool() };\r\n          continue;\r\n        case 5:\r\n          if (tag != 40) {\r\n            break;\r\n          }\r\n\r\n          message.scenario = { $case: \"switchCandidateProtocol\", switchCandidateProtocol: reader.int32() as any };\r\n          continue;\r\n        case 6:\r\n          if (tag != 48) {\r\n            break;\r\n          }\r\n\r\n          message.scenario = {\r\n            $case: \"subscriberBandwidth\",\r\n            subscriberBandwidth: longToNumber(reader.int64() as Long),\r\n          };\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): SimulateScenario {\r\n    return {\r\n      scenario: isSet(object.speakerUpdate)\r\n        ? { $case: \"speakerUpdate\", speakerUpdate: Number(object.speakerUpdate) }\r\n        : isSet(object.nodeFailure)\r\n        ? { $case: \"nodeFailure\", nodeFailure: Boolean(object.nodeFailure) }\r\n        : isSet(object.migration)\r\n        ? { $case: \"migration\", migration: Boolean(object.migration) }\r\n        : isSet(object.serverLeave)\r\n        ? { $case: \"serverLeave\", serverLeave: Boolean(object.serverLeave) }\r\n        : isSet(object.switchCandidateProtocol)\r\n        ? {\r\n          $case: \"switchCandidateProtocol\",\r\n          switchCandidateProtocol: candidateProtocolFromJSON(object.switchCandidateProtocol),\r\n        }\r\n        : isSet(object.subscriberBandwidth)\r\n        ? { $case: \"subscriberBandwidth\", subscriberBandwidth: Number(object.subscriberBandwidth) }\r\n        : undefined,\r\n    };\r\n  },\r\n\r\n  toJSON(message: SimulateScenario): unknown {\r\n    const obj: any = {};\r\n    message.scenario?.$case === \"speakerUpdate\" && (obj.speakerUpdate = Math.round(message.scenario?.speakerUpdate));\r\n    message.scenario?.$case === \"nodeFailure\" && (obj.nodeFailure = message.scenario?.nodeFailure);\r\n    message.scenario?.$case === \"migration\" && (obj.migration = message.scenario?.migration);\r\n    message.scenario?.$case === \"serverLeave\" && (obj.serverLeave = message.scenario?.serverLeave);\r\n    message.scenario?.$case === \"switchCandidateProtocol\" &&\r\n      (obj.switchCandidateProtocol = message.scenario?.switchCandidateProtocol !== undefined\r\n        ? candidateProtocolToJSON(message.scenario?.switchCandidateProtocol)\r\n        : undefined);\r\n    message.scenario?.$case === \"subscriberBandwidth\" &&\r\n      (obj.subscriberBandwidth = Math.round(message.scenario?.subscriberBandwidth));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<SimulateScenario>, I>>(base?: I): SimulateScenario {\r\n    return SimulateScenario.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<SimulateScenario>, I>>(object: I): SimulateScenario {\r\n    const message = createBaseSimulateScenario();\r\n    if (\r\n      object.scenario?.$case === \"speakerUpdate\" &&\r\n      object.scenario?.speakerUpdate !== undefined &&\r\n      object.scenario?.speakerUpdate !== null\r\n    ) {\r\n      message.scenario = { $case: \"speakerUpdate\", speakerUpdate: object.scenario.speakerUpdate };\r\n    }\r\n    if (\r\n      object.scenario?.$case === \"nodeFailure\" &&\r\n      object.scenario?.nodeFailure !== undefined &&\r\n      object.scenario?.nodeFailure !== null\r\n    ) {\r\n      message.scenario = { $case: \"nodeFailure\", nodeFailure: object.scenario.nodeFailure };\r\n    }\r\n    if (\r\n      object.scenario?.$case === \"migration\" &&\r\n      object.scenario?.migration !== undefined &&\r\n      object.scenario?.migration !== null\r\n    ) {\r\n      message.scenario = { $case: \"migration\", migration: object.scenario.migration };\r\n    }\r\n    if (\r\n      object.scenario?.$case === \"serverLeave\" &&\r\n      object.scenario?.serverLeave !== undefined &&\r\n      object.scenario?.serverLeave !== null\r\n    ) {\r\n      message.scenario = { $case: \"serverLeave\", serverLeave: object.scenario.serverLeave };\r\n    }\r\n    if (\r\n      object.scenario?.$case === \"switchCandidateProtocol\" &&\r\n      object.scenario?.switchCandidateProtocol !== undefined &&\r\n      object.scenario?.switchCandidateProtocol !== null\r\n    ) {\r\n      message.scenario = {\r\n        $case: \"switchCandidateProtocol\",\r\n        switchCandidateProtocol: object.scenario.switchCandidateProtocol,\r\n      };\r\n    }\r\n    if (\r\n      object.scenario?.$case === \"subscriberBandwidth\" &&\r\n      object.scenario?.subscriberBandwidth !== undefined &&\r\n      object.scenario?.subscriberBandwidth !== null\r\n    ) {\r\n      message.scenario = { $case: \"subscriberBandwidth\", subscriberBandwidth: object.scenario.subscriberBandwidth };\r\n    }\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBasePing(): Ping {\r\n  return { timestamp: 0, rtt: 0 };\r\n}\r\n\r\nexport const Ping = {\r\n  encode(message: Ping, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.timestamp !== 0) {\r\n      writer.uint32(8).int64(message.timestamp);\r\n    }\r\n    if (message.rtt !== 0) {\r\n      writer.uint32(16).int64(message.rtt);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): Ping {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBasePing();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 8) {\r\n            break;\r\n          }\r\n\r\n          message.timestamp = longToNumber(reader.int64() as Long);\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.rtt = longToNumber(reader.int64() as Long);\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): Ping {\r\n    return {\r\n      timestamp: isSet(object.timestamp) ? Number(object.timestamp) : 0,\r\n      rtt: isSet(object.rtt) ? Number(object.rtt) : 0,\r\n    };\r\n  },\r\n\r\n  toJSON(message: Ping): unknown {\r\n    const obj: any = {};\r\n    message.timestamp !== undefined && (obj.timestamp = Math.round(message.timestamp));\r\n    message.rtt !== undefined && (obj.rtt = Math.round(message.rtt));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<Ping>, I>>(base?: I): Ping {\r\n    return Ping.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<Ping>, I>>(object: I): Ping {\r\n    const message = createBasePing();\r\n    message.timestamp = object.timestamp ?? 0;\r\n    message.rtt = object.rtt ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBasePong(): Pong {\r\n  return { lastPingTimestamp: 0, timestamp: 0 };\r\n}\r\n\r\nexport const Pong = {\r\n  encode(message: Pong, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.lastPingTimestamp !== 0) {\r\n      writer.uint32(8).int64(message.lastPingTimestamp);\r\n    }\r\n    if (message.timestamp !== 0) {\r\n      writer.uint32(16).int64(message.timestamp);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): Pong {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBasePong();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 8) {\r\n            break;\r\n          }\r\n\r\n          message.lastPingTimestamp = longToNumber(reader.int64() as Long);\r\n          continue;\r\n        case 2:\r\n          if (tag != 16) {\r\n            break;\r\n          }\r\n\r\n          message.timestamp = longToNumber(reader.int64() as Long);\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): Pong {\r\n    return {\r\n      lastPingTimestamp: isSet(object.lastPingTimestamp) ? Number(object.lastPingTimestamp) : 0,\r\n      timestamp: isSet(object.timestamp) ? Number(object.timestamp) : 0,\r\n    };\r\n  },\r\n\r\n  toJSON(message: Pong): unknown {\r\n    const obj: any = {};\r\n    message.lastPingTimestamp !== undefined && (obj.lastPingTimestamp = Math.round(message.lastPingTimestamp));\r\n    message.timestamp !== undefined && (obj.timestamp = Math.round(message.timestamp));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<Pong>, I>>(base?: I): Pong {\r\n    return Pong.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<Pong>, I>>(object: I): Pong {\r\n    const message = createBasePong();\r\n    message.lastPingTimestamp = object.lastPingTimestamp ?? 0;\r\n    message.timestamp = object.timestamp ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseRegionSettings(): RegionSettings {\r\n  return { regions: [] };\r\n}\r\n\r\nexport const RegionSettings = {\r\n  encode(message: RegionSettings, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    for (const v of message.regions) {\r\n      RegionInfo.encode(v!, writer.uint32(10).fork()).ldelim();\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): RegionSettings {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseRegionSettings();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.regions.push(RegionInfo.decode(reader, reader.uint32()));\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): RegionSettings {\r\n    return { regions: Array.isArray(object?.regions) ? object.regions.map((e: any) => RegionInfo.fromJSON(e)) : [] };\r\n  },\r\n\r\n  toJSON(message: RegionSettings): unknown {\r\n    const obj: any = {};\r\n    if (message.regions) {\r\n      obj.regions = message.regions.map((e) => e ? RegionInfo.toJSON(e) : undefined);\r\n    } else {\r\n      obj.regions = [];\r\n    }\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<RegionSettings>, I>>(base?: I): RegionSettings {\r\n    return RegionSettings.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<RegionSettings>, I>>(object: I): RegionSettings {\r\n    const message = createBaseRegionSettings();\r\n    message.regions = object.regions?.map((e) => RegionInfo.fromPartial(e)) || [];\r\n    return message;\r\n  },\r\n};\r\n\r\nfunction createBaseRegionInfo(): RegionInfo {\r\n  return { region: \"\", url: \"\", distance: 0 };\r\n}\r\n\r\nexport const RegionInfo = {\r\n  encode(message: RegionInfo, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\r\n    if (message.region !== \"\") {\r\n      writer.uint32(10).string(message.region);\r\n    }\r\n    if (message.url !== \"\") {\r\n      writer.uint32(18).string(message.url);\r\n    }\r\n    if (message.distance !== 0) {\r\n      writer.uint32(24).int64(message.distance);\r\n    }\r\n    return writer;\r\n  },\r\n\r\n  decode(input: _m0.Reader | Uint8Array, length?: number): RegionInfo {\r\n    const reader = input instanceof _m0.Reader ? input : _m0.Reader.create(input);\r\n    let end = length === undefined ? reader.len : reader.pos + length;\r\n    const message = createBaseRegionInfo();\r\n    while (reader.pos < end) {\r\n      const tag = reader.uint32();\r\n      switch (tag >>> 3) {\r\n        case 1:\r\n          if (tag != 10) {\r\n            break;\r\n          }\r\n\r\n          message.region = reader.string();\r\n          continue;\r\n        case 2:\r\n          if (tag != 18) {\r\n            break;\r\n          }\r\n\r\n          message.url = reader.string();\r\n          continue;\r\n        case 3:\r\n          if (tag != 24) {\r\n            break;\r\n          }\r\n\r\n          message.distance = longToNumber(reader.int64() as Long);\r\n          continue;\r\n      }\r\n      if ((tag & 7) == 4 || tag == 0) {\r\n        break;\r\n      }\r\n      reader.skipType(tag & 7);\r\n    }\r\n    return message;\r\n  },\r\n\r\n  fromJSON(object: any): RegionInfo {\r\n    return {\r\n      region: isSet(object.region) ? String(object.region) : \"\",\r\n      url: isSet(object.url) ? String(object.url) : \"\",\r\n      distance: isSet(object.distance) ? Number(object.distance) : 0,\r\n    };\r\n  },\r\n\r\n  toJSON(message: RegionInfo): unknown {\r\n    const obj: any = {};\r\n    message.region !== undefined && (obj.region = message.region);\r\n    message.url !== undefined && (obj.url = message.url);\r\n    message.distance !== undefined && (obj.distance = Math.round(message.distance));\r\n    return obj;\r\n  },\r\n\r\n  create<I extends Exact<DeepPartial<RegionInfo>, I>>(base?: I): RegionInfo {\r\n    return RegionInfo.fromPartial(base ?? {});\r\n  },\r\n\r\n  fromPartial<I extends Exact<DeepPartial<RegionInfo>, I>>(object: I): RegionInfo {\r\n    const message = createBaseRegionInfo();\r\n    message.region = object.region ?? \"\";\r\n    message.url = object.url ?? \"\";\r\n    message.distance = object.distance ?? 0;\r\n    return message;\r\n  },\r\n};\r\n\r\ndeclare var self: any | undefined;\r\ndeclare var window: any | undefined;\r\ndeclare var global: any | undefined;\r\nvar tsProtoGlobalThis: any = (() => {\r\n  if (typeof globalThis !== \"undefined\") {\r\n    return globalThis;\r\n  }\r\n  if (typeof self !== \"undefined\") {\r\n    return self;\r\n  }\r\n  if (typeof window !== \"undefined\") {\r\n    return window;\r\n  }\r\n  if (typeof global !== \"undefined\") {\r\n    return global;\r\n  }\r\n  throw \"Unable to locate global object\";\r\n})();\r\n\r\ntype Builtin = Date | Function | Uint8Array | string | number | boolean | undefined;\r\n\r\nexport type DeepPartial<T> = T extends Builtin ? T\r\n  : T extends Array<infer U> ? Array<DeepPartial<U>> : T extends ReadonlyArray<infer U> ? ReadonlyArray<DeepPartial<U>>\r\n  : T extends { $case: string } ? { [K in keyof Omit<T, \"$case\">]?: DeepPartial<T[K]> } & { $case: T[\"$case\"] }\r\n  : T extends {} ? { [K in keyof T]?: DeepPartial<T[K]> }\r\n  : Partial<T>;\r\n\r\ntype KeysOfUnion<T> = T extends T ? keyof T : never;\r\nexport type Exact<P, I extends P> = P extends Builtin ? P\r\n  : P & { [K in keyof P]: Exact<P[K], I[K]> } & { [K in Exclude<keyof I, KeysOfUnion<P>>]: never };\r\n\r\nfunction longToNumber(long: Long): number {\r\n  if (long.gt(Number.MAX_SAFE_INTEGER)) {\r\n    throw new tsProtoGlobalThis.Error(\"Value is larger than Number.MAX_SAFE_INTEGER\");\r\n  }\r\n  return long.toNumber();\r\n}\r\n\r\nif (_m0.util.Long !== Long) {\r\n  _m0.util.Long = Long as any;\r\n  _m0.configure();\r\n}\r\n\r\nfunction isSet(value: any): boolean {\r\n  return value !== null && value !== undefined;\r\n}\r\n","export class LivekitError extends Error {\r\n  code: number;\r\n\r\n  constructor(code: number, message?: string) {\r\n    super(message || 'an error has occured');\r\n    this.code = code;\r\n  }\r\n}\r\n\r\nexport const enum ConnectionErrorReason {\r\n  NotAllowed,\r\n  ServerUnreachable,\r\n  InternalError,\r\n  Cancelled,\r\n}\r\n\r\nexport class ConnectionError extends LivekitError {\r\n  status?: number;\r\n\r\n  reason?: ConnectionErrorReason;\r\n\r\n  constructor(message?: string, reason?: ConnectionErrorReason, status?: number) {\r\n    super(1, message);\r\n    this.status = status;\r\n    this.reason = reason;\r\n  }\r\n}\r\n\r\nexport class DeviceUnsupportedError extends LivekitError {\r\n  constructor(message?: string) {\r\n    super(21, message ?? 'device is unsupported');\r\n  }\r\n}\r\n\r\nexport class TrackInvalidError extends LivekitError {\r\n  constructor(message?: string) {\r\n    super(20, message ?? 'track is invalid');\r\n  }\r\n}\r\n\r\nexport class UnsupportedServer extends LivekitError {\r\n  constructor(message?: string) {\r\n    super(10, message ?? 'unsupported server');\r\n  }\r\n}\r\n\r\nexport class UnexpectedConnectionState extends LivekitError {\r\n  constructor(message?: string) {\r\n    super(12, message ?? 'unexpected connection state');\r\n  }\r\n}\r\n\r\nexport class NegotiationError extends LivekitError {\r\n  constructor(message?: string) {\r\n    super(13, message ?? 'unable to negotiate');\r\n  }\r\n}\r\n\r\nexport class PublishDataError extends LivekitError {\r\n  constructor(message?: string) {\r\n    super(13, message ?? 'unable to publish data');\r\n  }\r\n}\r\n\r\nexport enum MediaDeviceFailure {\r\n  // user rejected permissions\r\n  PermissionDenied = 'PermissionDenied',\r\n  // device is not available\r\n  NotFound = 'NotFound',\r\n  // device is in use. On Windows, only a single tab may get access to a device at a time.\r\n  DeviceInUse = 'DeviceInUse',\r\n  Other = 'Other',\r\n}\r\n\r\nexport namespace MediaDeviceFailure {\r\n  export function getFailure(error: any): MediaDeviceFailure | undefined {\r\n    if (error && 'name' in error) {\r\n      if (error.name === 'NotFoundError' || error.name === 'DevicesNotFoundError') {\r\n        return MediaDeviceFailure.NotFound;\r\n      }\r\n      if (error.name === 'NotAllowedError' || error.name === 'PermissionDeniedError') {\r\n        return MediaDeviceFailure.PermissionDenied;\r\n      }\r\n      if (error.name === 'NotReadableError' || error.name === 'TrackStartError') {\r\n        return MediaDeviceFailure.DeviceInUse;\r\n      }\r\n      return MediaDeviceFailure.Other;\r\n    }\r\n  }\r\n}\r\n","/**\r\n * Timers that can be overridden with platform specific implementations\r\n * that ensure that they are fired. These should be used when it is critical\r\n * that the timer fires on time.\r\n */\r\nexport default class CriticalTimers {\r\n  // eslint-disable-next-line @typescript-eslint/no-implied-eval\r\n  static setTimeout = (...args: Parameters<typeof setTimeout>) => setTimeout(...args);\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-implied-eval\r\n  static setInterval = (...args: Parameters<typeof setInterval>) => setInterval(...args);\r\n\r\n  static clearTimeout = (...args: Parameters<typeof clearTimeout>) => clearTimeout(...args);\r\n\r\n  static clearInterval = (...args: Parameters<typeof clearInterval>) => clearInterval(...args);\r\n}\r\n","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.35\n   Copyright  2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.35',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 350;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        VIERA   = 'Viera',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK    = 'Facebook',\n        CHROMIUM_OS = 'Chromium OS',\n        MAC_OS  = 'Mac OS';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,      // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,               // Avant/IEMobile/SlimBrowser\n            /(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,                                  // Baidu Browser\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n            /(heytap|ovi)browser\\/([\\d\\.]+)/i,                                  // Heytap/Ovi\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i\n            ], [VERSION, [NAME, 'WeChat(Win) Desktop']], [\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI '+BROWSER]], [\n            /fxios\\/([-\\w\\.]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihu|(qi?ho?o?|360)browser/i                                     // 360\n            ], [[NAME, '360 '+BROWSER]], [\n            /(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1 '+BROWSER], VERSION], [                      // Oculus/Samsung/Sailfish/Huawei Browser\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i            // QQBrowser/Baidu App/2345 Browser\n            ], [NAME, VERSION], [\n            /(metasr)[\\/ ]?([\\w\\.]+)/i,                                         // SouGouBrowser\n            /(lbbrowser)/i,                                                     // LieBao Browser\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(chromium|instagram)[\\/ ]([-\\w\\.]+)/i                              // Chromium/Instagram\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i,                                             // Links\n            /panasonic;(viera)/i                                                // Panasonic Viera\n            ], [NAME, VERSION], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]([-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i                          // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+)(?: bui|\\))/i,                                       // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[12]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,                             // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w)( bui|\\))/i                                          // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n            /(quest( 2| pro)?)/i                                                // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i           // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n            /\\b(libweb)/i\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows) nt 6\\.2; (arm)/i,                                        // Windows RT\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,            // Windows Phone\n            /(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, strMapper, windowsVersionMap]], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /ios;fbsv\\/([\\d\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, MAC_OS], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, CHROMIUM_OS], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _navigator = (typeof window !== UNDEF_TYPE && window.navigator) ? window.navigator : undefined;\n        var _ua = ua || ((_navigator && _navigator.userAgent) ? _navigator.userAgent : EMPTY);\n        var _uach = (_navigator && _navigator.userAgentData) ? _navigator.userAgentData : undefined;\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n        var _isSelfNav = _navigator && _navigator.userAgent == _ua;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser[MAJOR] = majorize(_browser[VERSION]);\n            // Brave-specific detection\n            if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {\n                _browser[NAME] = 'Brave';\n            }\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {\n                _device[TYPE] = MOBILE;\n            }\n            // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n            if (_isSelfNav && _device[MODEL] == 'Macintosh' && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {\n                _device[MODEL] = 'iPad';\n                _device[TYPE] = TABLET;\n            }\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            if (_isSelfNav && !_os[NAME] && _uach && _uach.platform != 'Unknown') {\n                _os[NAME] = _uach.platform  \n                                    .replace(/chrome os/i, CHROMIUM_OS)\n                                    .replace(/macos/i, MAC_OS);           // backward compatibility\n            }\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","import { version as v } from '../package.json';\r\n\r\nexport const version = v;\r\nexport const protocolVersion = 9;\r\n","import { sleep } from '../utils';\r\nimport type { AudioCaptureOptions, CreateLocalTracksOptions, VideoCaptureOptions } from './options';\r\nimport type { AudioTrack } from './types';\r\n\r\nexport function mergeDefaultOptions(\r\n  options?: CreateLocalTracksOptions,\r\n  audioDefaults?: AudioCaptureOptions,\r\n  videoDefaults?: VideoCaptureOptions,\r\n): CreateLocalTracksOptions {\r\n  const opts: CreateLocalTracksOptions = {\r\n    ...options,\r\n  };\r\n  if (opts.audio === true) opts.audio = {};\r\n  if (opts.video === true) opts.video = {};\r\n\r\n  // use defaults\r\n  if (opts.audio) {\r\n    mergeObjectWithoutOverwriting(\r\n      opts.audio as Record<string, unknown>,\r\n      audioDefaults as Record<string, unknown>,\r\n    );\r\n  }\r\n  if (opts.video) {\r\n    mergeObjectWithoutOverwriting(\r\n      opts.video as Record<string, unknown>,\r\n      videoDefaults as Record<string, unknown>,\r\n    );\r\n  }\r\n  return opts;\r\n}\r\n\r\nfunction mergeObjectWithoutOverwriting(\r\n  mainObject: Record<string, unknown>,\r\n  objectToMerge: Record<string, unknown>,\r\n): Record<string, unknown> {\r\n  Object.keys(objectToMerge).forEach((key) => {\r\n    if (mainObject[key] === undefined) mainObject[key] = objectToMerge[key];\r\n  });\r\n  return mainObject;\r\n}\r\n\r\nexport function constraintsForOptions(options: CreateLocalTracksOptions): MediaStreamConstraints {\r\n  const constraints: MediaStreamConstraints = {};\r\n\r\n  if (options.video) {\r\n    // default video options\r\n    if (typeof options.video === 'object') {\r\n      const videoOptions: MediaTrackConstraints = {};\r\n      const target = videoOptions as Record<string, unknown>;\r\n      const source = options.video as Record<string, unknown>;\r\n      Object.keys(source).forEach((key) => {\r\n        switch (key) {\r\n          case 'resolution':\r\n            // flatten VideoResolution fields\r\n            mergeObjectWithoutOverwriting(target, source.resolution as Record<string, unknown>);\r\n            break;\r\n          default:\r\n            target[key] = source[key];\r\n        }\r\n      });\r\n      constraints.video = videoOptions;\r\n    } else {\r\n      constraints.video = options.video;\r\n    }\r\n  } else {\r\n    constraints.video = false;\r\n  }\r\n\r\n  if (options.audio) {\r\n    if (typeof options.audio === 'object') {\r\n      constraints.audio = options.audio;\r\n    } else {\r\n      constraints.audio = true;\r\n    }\r\n  } else {\r\n    constraints.audio = false;\r\n  }\r\n  return constraints;\r\n}\r\n/**\r\n * This function detects silence on a given [[Track]] instance.\r\n * Returns true if the track seems to be entirely silent.\r\n */\r\nexport async function detectSilence(track: AudioTrack, timeOffset = 200): Promise<boolean> {\r\n  const ctx = getNewAudioContext();\r\n  if (ctx) {\r\n    const analyser = ctx.createAnalyser();\r\n    analyser.fftSize = 2048;\r\n\r\n    const bufferLength = analyser.frequencyBinCount;\r\n    const dataArray = new Uint8Array(bufferLength);\r\n    const source = ctx.createMediaStreamSource(new MediaStream([track.mediaStreamTrack]));\r\n\r\n    source.connect(analyser);\r\n    await sleep(timeOffset);\r\n    analyser.getByteTimeDomainData(dataArray);\r\n    const someNoise = dataArray.some((sample) => sample !== 128 && sample !== 0);\r\n    ctx.close();\r\n    return !someNoise;\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function getNewAudioContext(): AudioContext | void {\r\n  const AudioContext =\r\n    // @ts-ignore\r\n    typeof window !== 'undefined' && (window.AudioContext || window.webkitAudioContext);\r\n  if (AudioContext) {\r\n    return new AudioContext({ latencyHint: 'interactive' });\r\n  }\r\n}\r\n","import UAParser from 'ua-parser-js';\r\nimport { ClientInfo, ClientInfo_SDK } from '../proto/livekit_models';\r\nimport { protocolVersion, version } from '../version';\r\nimport type LocalAudioTrack from './track/LocalAudioTrack';\r\nimport type RemoteAudioTrack from './track/RemoteAudioTrack';\r\nimport { getNewAudioContext } from './track/utils';\r\nimport type { LiveKitReactNativeInfo } from './types';\r\n\r\nconst separator = '|';\r\nexport const ddExtensionURI =\r\n  'https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension';\r\n\r\nexport function unpackStreamId(packed: string): string[] {\r\n  const parts = packed.split(separator);\r\n  if (parts.length > 1) {\r\n    return [parts[0], packed.substr(parts[0].length + 1)];\r\n  }\r\n  return [packed, ''];\r\n}\r\n\r\nexport async function sleep(duration: number): Promise<void> {\r\n  return new Promise((resolve) => setTimeout(resolve, duration));\r\n}\r\n\r\n/** @internal */\r\nexport function supportsTransceiver() {\r\n  return 'addTransceiver' in RTCPeerConnection.prototype;\r\n}\r\n\r\n/** @internal */\r\nexport function supportsAddTrack() {\r\n  return 'addTrack' in RTCPeerConnection.prototype;\r\n}\r\n\r\nexport function supportsAdaptiveStream() {\r\n  return typeof ResizeObserver !== undefined && typeof IntersectionObserver !== undefined;\r\n}\r\n\r\nexport function supportsDynacast() {\r\n  return supportsTransceiver();\r\n}\r\n\r\nexport function supportsAV1(): boolean {\r\n  const capabilities = RTCRtpReceiver.getCapabilities('video');\r\n  let hasAV1 = false;\r\n  if (capabilities) {\r\n    for (const codec of capabilities.codecs) {\r\n      if (codec.mimeType === 'video/AV1') {\r\n        hasAV1 = true;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return hasAV1;\r\n}\r\n\r\nexport function supportsVP9(): boolean {\r\n  const capabilities = RTCRtpReceiver.getCapabilities('video');\r\n  let hasVP9 = false;\r\n  if (capabilities) {\r\n    for (const codec of capabilities.codecs) {\r\n      if (codec.mimeType === 'video/VP9') {\r\n        hasVP9 = true;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return hasVP9;\r\n}\r\n\r\nexport function isSVCCodec(codec?: string): boolean {\r\n  return codec === 'av1' || codec === 'vp9';\r\n}\r\n\r\nexport function supportsSetSinkId(elm?: HTMLMediaElement): boolean {\r\n  if (!document) {\r\n    return false;\r\n  }\r\n  if (!elm) {\r\n    elm = document.createElement('audio');\r\n  }\r\n  return 'setSinkId' in elm;\r\n}\r\n\r\nconst setCodecPreferencesVersions: { [key: string]: string } = {\r\n  Chrome: '100',\r\n  Chromium: '100',\r\n  Safari: '15',\r\n  Firefox: '100',\r\n  Edge: '100',\r\n  Brave: '1.40',\r\n};\r\n\r\nexport function supportsSetCodecPreferences(transceiver: RTCRtpTransceiver): boolean {\r\n  if (!isWeb()) {\r\n    return false;\r\n  }\r\n  if (!('setCodecPreferences' in transceiver)) {\r\n    return false;\r\n  }\r\n  const uap = UAParser();\r\n  if (!uap.browser.name || !uap.browser.version) {\r\n    // version is required\r\n    return false;\r\n  }\r\n  const v = setCodecPreferencesVersions[uap.browser.name];\r\n  if (v) {\r\n    return compareVersions(uap.browser.version, v) >= 0;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function isBrowserSupported() {\r\n  return supportsTransceiver() || supportsAddTrack();\r\n}\r\n\r\nexport function isFireFox(): boolean {\r\n  if (!isWeb()) return false;\r\n  return navigator.userAgent.indexOf('Firefox') !== -1;\r\n}\r\n\r\nexport function isSafari(): boolean {\r\n  if (!isWeb()) return false;\r\n  return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n}\r\n\r\nexport function isMobile(): boolean {\r\n  if (!isWeb()) return false;\r\n  return /Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent);\r\n}\r\n\r\nexport function isWeb(): boolean {\r\n  return typeof document !== 'undefined';\r\n}\r\n\r\nexport function isReactNative(): boolean {\r\n  // navigator.product is deprecated on browsers, but will be set appropriately for react-native.\r\n  return navigator.product == 'ReactNative';\r\n}\r\n\r\nexport function isCloud(serverUrl: URL) {\r\n  return serverUrl.hostname.endsWith('.livekit.cloud');\r\n}\r\n\r\nfunction getLKReactNativeInfo(): LiveKitReactNativeInfo | undefined {\r\n  // global defined only for ReactNative.\r\n  // @ts-ignore\r\n  if (global && global.LiveKitReactNativeGlobal) {\r\n    // @ts-ignore\r\n    return global.LiveKitReactNativeGlobal as LiveKitReactNativeInfo;\r\n  }\r\n\r\n  return undefined;\r\n}\r\n\r\nexport function getReactNativeOs(): string | undefined {\r\n  if (!isReactNative()) {\r\n    return undefined;\r\n  }\r\n\r\n  let info = getLKReactNativeInfo();\r\n  if (info) {\r\n    return info.platform;\r\n  }\r\n\r\n  return undefined;\r\n}\r\n\r\nexport function getDevicePixelRatio(): number {\r\n  if (isWeb()) {\r\n    return window.devicePixelRatio;\r\n  }\r\n\r\n  if (isReactNative()) {\r\n    let info = getLKReactNativeInfo();\r\n    if (info) {\r\n      return info.devicePixelRatio;\r\n    }\r\n  }\r\n\r\n  return 1;\r\n}\r\n\r\nexport function compareVersions(v1: string, v2: string): number {\r\n  const parts1 = v1.split('.');\r\n  const parts2 = v2.split('.');\r\n  const k = Math.min(v1.length, v2.length);\r\n  for (let i = 0; i < k; ++i) {\r\n    const p1 = parseInt(parts1[i], 10);\r\n    const p2 = parseInt(parts2[i], 10);\r\n    if (p1 > p2) return 1;\r\n    if (p1 < p2) return -1;\r\n  }\r\n  return parts1.length == parts2.length ? 0 : parts1.length < parts2.length ? -1 : 1;\r\n}\r\n\r\nfunction roDispatchCallback(entries: ResizeObserverEntry[]) {\r\n  for (const entry of entries) {\r\n    (entry.target as ObservableMediaElement).handleResize(entry);\r\n  }\r\n}\r\n\r\nfunction ioDispatchCallback(entries: IntersectionObserverEntry[]) {\r\n  for (const entry of entries) {\r\n    (entry.target as ObservableMediaElement).handleVisibilityChanged(entry);\r\n  }\r\n}\r\n\r\nlet resizeObserver: ResizeObserver | null = null;\r\nexport const getResizeObserver = () => {\r\n  if (!resizeObserver) resizeObserver = new ResizeObserver(roDispatchCallback);\r\n  return resizeObserver;\r\n};\r\n\r\nlet intersectionObserver: IntersectionObserver | null = null;\r\nexport const getIntersectionObserver = () => {\r\n  if (!intersectionObserver)\r\n    intersectionObserver = new IntersectionObserver(ioDispatchCallback, {\r\n      root: document,\r\n      rootMargin: '0px',\r\n    });\r\n  return intersectionObserver;\r\n};\r\n\r\nexport interface ObservableMediaElement extends HTMLMediaElement {\r\n  handleResize: (entry: ResizeObserverEntry) => void;\r\n  handleVisibilityChanged: (entry: IntersectionObserverEntry) => void;\r\n}\r\n\r\nexport function getClientInfo(): ClientInfo {\r\n  const info = ClientInfo.fromPartial({\r\n    sdk: ClientInfo_SDK.JS,\r\n    protocol: protocolVersion,\r\n    version,\r\n  });\r\n\r\n  if (isReactNative()) {\r\n    info.os = getReactNativeOs() ?? '';\r\n  }\r\n  return info;\r\n}\r\n\r\nlet emptyVideoStreamTrack: MediaStreamTrack | undefined;\r\n\r\nexport function getEmptyVideoStreamTrack() {\r\n  if (!emptyVideoStreamTrack) {\r\n    emptyVideoStreamTrack = createDummyVideoStreamTrack();\r\n  }\r\n  return emptyVideoStreamTrack;\r\n}\r\n\r\nexport function createDummyVideoStreamTrack(\r\n  width: number = 16,\r\n  height: number = 16,\r\n  enabled: boolean = false,\r\n  paintContent: boolean = false,\r\n) {\r\n  const canvas = document.createElement('canvas');\r\n  // the canvas size is set to 16 by default, because electron apps seem to fail with smaller values\r\n  canvas.width = width;\r\n  canvas.height = height;\r\n  const ctx = canvas.getContext('2d');\r\n  ctx?.fillRect(0, 0, canvas.width, canvas.height);\r\n  if (paintContent && ctx) {\r\n    ctx.beginPath();\r\n    ctx.arc(width / 2, height / 2, 50, 0, Math.PI * 2, true);\r\n    ctx.closePath();\r\n    ctx.fillStyle = 'grey';\r\n    ctx.fill();\r\n  }\r\n  // @ts-ignore\r\n  const dummyStream = canvas.captureStream();\r\n  const [dummyTrack] = dummyStream.getTracks();\r\n  if (!dummyTrack) {\r\n    throw Error('Could not get empty media stream video track');\r\n  }\r\n  dummyTrack.enabled = enabled;\r\n\r\n  return dummyTrack;\r\n}\r\n\r\nlet emptyAudioStreamTrack: MediaStreamTrack | undefined;\r\n\r\nexport function getEmptyAudioStreamTrack() {\r\n  if (!emptyAudioStreamTrack) {\r\n    // implementation adapted from https://blog.mozilla.org/webrtc/warm-up-with-replacetrack/\r\n    const ctx = new AudioContext();\r\n    const oscillator = ctx.createOscillator();\r\n    const dst = ctx.createMediaStreamDestination();\r\n    oscillator.connect(dst);\r\n    oscillator.start();\r\n    [emptyAudioStreamTrack] = dst.stream.getAudioTracks();\r\n    if (!emptyAudioStreamTrack) {\r\n      throw Error('Could not get empty media stream audio track');\r\n    }\r\n    emptyAudioStreamTrack.enabled = false;\r\n  }\r\n  return emptyAudioStreamTrack;\r\n}\r\n\r\nexport class Future<T> {\r\n  promise: Promise<T>;\r\n\r\n  resolve?: (arg: T) => void;\r\n\r\n  reject?: (e: any) => void;\r\n\r\n  onFinally?: () => void;\r\n\r\n  constructor(\r\n    futureBase?: (resolve: (arg: T) => void, reject: (e: any) => void) => void,\r\n    onFinally?: () => void,\r\n  ) {\r\n    this.onFinally = onFinally;\r\n    this.promise = new Promise<T>(async (resolve, reject) => {\r\n      this.resolve = resolve;\r\n      this.reject = reject;\r\n      if (futureBase) {\r\n        await futureBase(resolve, reject);\r\n      }\r\n    }).finally(() => this.onFinally?.());\r\n  }\r\n}\r\n\r\nexport type AudioAnalyserOptions = {\r\n  /**\r\n   * If set to true, the analyser will use a cloned version of the underlying mediastreamtrack, which won't be impacted by muting the track.\r\n   * Useful for local tracks when implementing things like \"seems like you're muted, but trying to speak\".\r\n   * Defaults to false\r\n   */\r\n  cloneTrack?: boolean;\r\n  /**\r\n   * see https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode/fftSize\r\n   */\r\n  fftSize?: number;\r\n  /**\r\n   * see https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode/smoothingTimeConstant\r\n   */\r\n  smoothingTimeConstant?: number;\r\n  /**\r\n   * see https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode/minDecibels\r\n   */\r\n  minDecibels?: number;\r\n  /**\r\n   * see https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode/maxDecibels\r\n   */\r\n  maxDecibels?: number;\r\n};\r\n\r\n/**\r\n * Creates and returns an analyser web audio node that is attached to the provided track.\r\n * Additionally returns a convenience method `calculateVolume` to perform instant volume readings on that track.\r\n * Call the returned `cleanup` function to close the audioContext that has been created for the instance of this helper\r\n */\r\nexport function createAudioAnalyser(\r\n  track: LocalAudioTrack | RemoteAudioTrack,\r\n  options?: AudioAnalyserOptions,\r\n) {\r\n  const opts = {\r\n    cloneTrack: false,\r\n    fftSize: 2048,\r\n    smoothingTimeConstant: 0.8,\r\n    minDecibels: -100,\r\n    maxDecibels: -80,\r\n    ...options,\r\n  };\r\n  const audioContext = getNewAudioContext();\r\n\r\n  if (!audioContext) {\r\n    throw new Error('Audio Context not supported on this browser');\r\n  }\r\n  const streamTrack = opts.cloneTrack ? track.mediaStreamTrack.clone() : track.mediaStreamTrack;\r\n  const mediaStreamSource = audioContext.createMediaStreamSource(new MediaStream([streamTrack]));\r\n  const analyser = audioContext.createAnalyser();\r\n  analyser.minDecibels = opts.minDecibels;\r\n  analyser.maxDecibels = opts.maxDecibels;\r\n  analyser.fftSize = opts.fftSize;\r\n  analyser.smoothingTimeConstant = opts.smoothingTimeConstant;\r\n\r\n  mediaStreamSource.connect(analyser);\r\n  const dataArray = new Uint8Array(analyser.frequencyBinCount);\r\n\r\n  /**\r\n   * Calculates the current volume of the track in the range from 0 to 1\r\n   */\r\n  const calculateVolume = () => {\r\n    analyser.getByteFrequencyData(dataArray);\r\n    let sum = 0;\r\n    for (const amplitude of dataArray) {\r\n      sum += Math.pow(amplitude / 255, 2);\r\n    }\r\n    const volume = Math.sqrt(sum / dataArray.length);\r\n    return volume;\r\n  };\r\n\r\n  const cleanup = () => {\r\n    audioContext.close();\r\n    if (opts.cloneTrack) {\r\n      streamTrack.stop();\r\n    }\r\n  };\r\n\r\n  return { calculateVolume, analyser, cleanup };\r\n}\r\n\r\nexport class Mutex {\r\n  private _locking: Promise<void>;\r\n\r\n  private _locks: number;\r\n\r\n  constructor() {\r\n    this._locking = Promise.resolve();\r\n    this._locks = 0;\r\n  }\r\n\r\n  isLocked() {\r\n    return this._locks > 0;\r\n  }\r\n\r\n  lock() {\r\n    this._locks += 1;\r\n\r\n    let unlockNext: () => void;\r\n\r\n    const willLock = new Promise<void>(\r\n      (resolve) =>\r\n        (unlockNext = () => {\r\n          this._locks -= 1;\r\n          resolve();\r\n        }),\r\n    );\r\n\r\n    const willUnlock = this._locking.then(() => unlockNext);\r\n\r\n    this._locking = this._locking.then(() => willLock);\r\n\r\n    return willUnlock;\r\n  }\r\n}\r\n","import Queue from 'async-await-queue';\r\nimport 'webrtc-adapter';\r\nimport log from '../logger';\r\nimport {\r\n  ClientInfo,\r\n  DisconnectReason,\r\n  ParticipantInfo,\r\n  ReconnectReason,\r\n  Room,\r\n  SpeakerInfo,\r\n  VideoLayer,\r\n} from '../proto/livekit_models';\r\nimport {\r\n  AddTrackRequest,\r\n  ConnectionQualityUpdate,\r\n  JoinResponse,\r\n  LeaveRequest,\r\n  ReconnectResponse,\r\n  SessionDescription,\r\n  SignalRequest,\r\n  SignalResponse,\r\n  SignalTarget,\r\n  SimulateScenario,\r\n  StreamStateUpdate,\r\n  SubscribedQualityUpdate,\r\n  SubscriptionPermissionUpdate,\r\n  SyncState,\r\n  TrackPermission,\r\n  TrackPublishedResponse,\r\n  TrackUnpublishedResponse,\r\n  UpdateSubscription,\r\n  UpdateTrackSettings,\r\n} from '../proto/livekit_rtc';\r\nimport { ConnectionError, ConnectionErrorReason } from '../room/errors';\r\nimport CriticalTimers from '../room/timers';\r\nimport { Mutex, getClientInfo, isReactNative, sleep } from '../room/utils';\r\n\r\n// internal options\r\ninterface ConnectOpts {\r\n  autoSubscribe: boolean;\r\n  /** internal */\r\n  reconnect?: boolean;\r\n\r\n  /** internal */\r\n  reconnectReason?: number;\r\n\r\n  /** internal */\r\n  sid?: string;\r\n\r\n  /** @deprecated */\r\n  publishOnly?: string;\r\n\r\n  adaptiveStream?: boolean;\r\n}\r\n\r\n// public options\r\nexport interface SignalOptions {\r\n  autoSubscribe: boolean;\r\n  /** @deprecated */\r\n  publishOnly?: string;\r\n  adaptiveStream?: boolean;\r\n  maxRetries: number;\r\n}\r\n\r\ntype SignalMessage = SignalRequest['message'];\r\n\r\ntype SignalKind = NonNullable<SignalMessage>['$case'];\r\n\r\nconst passThroughQueueSignals: Array<SignalKind> = [\r\n  'syncState',\r\n  'trickle',\r\n  'offer',\r\n  'answer',\r\n  'simulate',\r\n  'leave',\r\n];\r\n\r\nfunction canPassThroughQueue(req: SignalMessage): boolean {\r\n  const canPass = passThroughQueueSignals.includes(req!.$case);\r\n  log.trace('request allowed to bypass queue:', { canPass, req });\r\n  return canPass;\r\n}\r\n\r\n/** @internal */\r\nexport class SignalClient {\r\n  isConnected: boolean;\r\n\r\n  isReconnecting: boolean;\r\n\r\n  requestQueue: Queue;\r\n\r\n  queuedRequests: Array<() => Promise<void>>;\r\n\r\n  useJSON: boolean;\r\n\r\n  /** signal rtt in milliseconds */\r\n  rtt: number = 0;\r\n\r\n  /** simulate signaling latency by delaying messages */\r\n  signalLatency?: number;\r\n\r\n  onClose?: (reason: string) => void;\r\n\r\n  onAnswer?: (sd: RTCSessionDescriptionInit) => void;\r\n\r\n  onOffer?: (sd: RTCSessionDescriptionInit) => void;\r\n\r\n  // when a new ICE candidate is made available\r\n  onTrickle?: (sd: RTCIceCandidateInit, target: SignalTarget) => void;\r\n\r\n  onParticipantUpdate?: (updates: ParticipantInfo[]) => void;\r\n\r\n  onLocalTrackPublished?: (res: TrackPublishedResponse) => void;\r\n\r\n  onNegotiateRequested?: () => void;\r\n\r\n  onSpeakersChanged?: (res: SpeakerInfo[]) => void;\r\n\r\n  onRemoteMuteChanged?: (trackSid: string, muted: boolean) => void;\r\n\r\n  onRoomUpdate?: (room: Room) => void;\r\n\r\n  onConnectionQuality?: (update: ConnectionQualityUpdate) => void;\r\n\r\n  onStreamStateUpdate?: (update: StreamStateUpdate) => void;\r\n\r\n  onSubscribedQualityUpdate?: (update: SubscribedQualityUpdate) => void;\r\n\r\n  onSubscriptionPermissionUpdate?: (update: SubscriptionPermissionUpdate) => void;\r\n\r\n  onLocalTrackUnpublished?: (res: TrackUnpublishedResponse) => void;\r\n\r\n  onTokenRefresh?: (token: string) => void;\r\n\r\n  onLeave?: (leave: LeaveRequest) => void;\r\n\r\n  connectOptions?: ConnectOpts;\r\n\r\n  ws?: WebSocket;\r\n\r\n  private options?: SignalOptions;\r\n\r\n  private pingTimeout: ReturnType<typeof setTimeout> | undefined;\r\n\r\n  private pingTimeoutDuration: number | undefined;\r\n\r\n  private pingIntervalDuration: number | undefined;\r\n\r\n  private pingInterval: ReturnType<typeof setInterval> | undefined;\r\n\r\n  private closingLock: Mutex;\r\n\r\n  constructor(useJSON: boolean = false) {\r\n    this.isConnected = false;\r\n    this.isReconnecting = false;\r\n    this.useJSON = useJSON;\r\n    this.requestQueue = new Queue();\r\n    this.queuedRequests = [];\r\n    this.closingLock = new Mutex();\r\n  }\r\n\r\n  async join(\r\n    url: string,\r\n    token: string,\r\n    opts: SignalOptions,\r\n    abortSignal?: AbortSignal,\r\n  ): Promise<JoinResponse> {\r\n    // during a full reconnect, we'd want to start the sequence even if currently\r\n    // connected\r\n    this.isConnected = false;\r\n    this.options = opts;\r\n    const res = await this.connect(url, token, opts, abortSignal);\r\n    return res as JoinResponse;\r\n  }\r\n\r\n  async reconnect(\r\n    url: string,\r\n    token: string,\r\n    sid?: string,\r\n    reason?: ReconnectReason,\r\n  ): Promise<ReconnectResponse | void> {\r\n    if (!this.options) {\r\n      log.warn('attempted to reconnect without signal options being set, ignoring');\r\n      return;\r\n    }\r\n    this.isReconnecting = true;\r\n    // clear ping interval and restart it once reconnected\r\n    this.clearPingInterval();\r\n\r\n    const res = await this.connect(url, token, {\r\n      ...this.options,\r\n      reconnect: true,\r\n      sid,\r\n      reconnectReason: reason,\r\n    });\r\n    return res;\r\n  }\r\n\r\n  connect(\r\n    url: string,\r\n    token: string,\r\n    opts: ConnectOpts,\r\n    abortSignal?: AbortSignal,\r\n  ): Promise<JoinResponse | ReconnectResponse | void> {\r\n    this.connectOptions = opts;\r\n    if (url.startsWith('http')) {\r\n      url = url.replace('http', 'ws');\r\n    }\r\n    // strip trailing slash\r\n    url = url.replace(/\\/$/, '');\r\n    url += '/rtc';\r\n\r\n    const clientInfo = getClientInfo();\r\n    const params = createConnectionParams(token, clientInfo, opts);\r\n\r\n    return new Promise<JoinResponse | ReconnectResponse | void>(async (resolve, reject) => {\r\n      const abortHandler = async () => {\r\n        await this.close();\r\n        reject(new ConnectionError('room connection has been cancelled (signal)'));\r\n      };\r\n\r\n      if (abortSignal?.aborted) {\r\n        abortHandler();\r\n      }\r\n      abortSignal?.addEventListener('abort', abortHandler);\r\n      log.debug(`connecting to ${url + params}`);\r\n      if (this.ws) {\r\n        await this.close();\r\n      }\r\n      this.ws = new WebSocket(url + params);\r\n      this.ws.binaryType = 'arraybuffer';\r\n\r\n      this.ws.onerror = async (ev: Event) => {\r\n        if (!this.isConnected) {\r\n          try {\r\n            const resp = await fetch(`http${url.substring(2)}/validate${params}`);\r\n            if (resp.status.toFixed(0).startsWith('4')) {\r\n              const msg = await resp.text();\r\n              reject(new ConnectionError(msg, ConnectionErrorReason.NotAllowed, resp.status));\r\n            } else {\r\n              reject(\r\n                new ConnectionError(\r\n                  'Internal error',\r\n                  ConnectionErrorReason.InternalError,\r\n                  resp.status,\r\n                ),\r\n              );\r\n            }\r\n          } catch (e) {\r\n            reject(\r\n              new ConnectionError(\r\n                'server was not reachable',\r\n                ConnectionErrorReason.ServerUnreachable,\r\n              ),\r\n            );\r\n          }\r\n          return;\r\n        }\r\n        // other errors, handle\r\n        this.handleWSError(ev);\r\n      };\r\n\r\n      this.ws.onmessage = async (ev: MessageEvent) => {\r\n        // not considered connected until JoinResponse is received\r\n        let resp: SignalResponse;\r\n        if (typeof ev.data === 'string') {\r\n          const json = JSON.parse(ev.data);\r\n          resp = SignalResponse.fromJSON(json);\r\n        } else if (ev.data instanceof ArrayBuffer) {\r\n          resp = SignalResponse.decode(new Uint8Array(ev.data));\r\n        } else {\r\n          log.error(`could not decode websocket message: ${typeof ev.data}`);\r\n          return;\r\n        }\r\n\r\n        if (!this.isConnected) {\r\n          let shouldProcessMessage = false;\r\n          // handle join message only\r\n          if (resp.message?.$case === 'join') {\r\n            this.isConnected = true;\r\n            abortSignal?.removeEventListener('abort', abortHandler);\r\n            this.pingTimeoutDuration = resp.message.join.pingTimeout;\r\n            this.pingIntervalDuration = resp.message.join.pingInterval;\r\n\r\n            if (this.pingTimeoutDuration && this.pingTimeoutDuration > 0) {\r\n              log.debug('ping config', {\r\n                timeout: this.pingTimeoutDuration,\r\n                interval: this.pingIntervalDuration,\r\n              });\r\n              this.startPingInterval();\r\n            }\r\n            resolve(resp.message.join);\r\n          } else if (opts.reconnect) {\r\n            // in reconnecting, any message received means signal reconnected\r\n            this.isConnected = true;\r\n            abortSignal?.removeEventListener('abort', abortHandler);\r\n            this.startPingInterval();\r\n            if (resp.message?.$case === 'reconnect') {\r\n              resolve(resp.message?.reconnect);\r\n            } else {\r\n              resolve();\r\n              shouldProcessMessage = true;\r\n            }\r\n          } else if (!opts.reconnect) {\r\n            // non-reconnect case, should receive join response first\r\n            reject(\r\n              new ConnectionError(\r\n                `did not receive join response, got ${resp.message?.$case} instead`,\r\n              ),\r\n            );\r\n          }\r\n          if (!shouldProcessMessage) {\r\n            return;\r\n          }\r\n        }\r\n\r\n        if (this.signalLatency) {\r\n          await sleep(this.signalLatency);\r\n        }\r\n        this.handleSignalResponse(resp);\r\n      };\r\n\r\n      this.ws.onclose = (ev: CloseEvent) => {\r\n        if (!this.isConnected) return;\r\n\r\n        log.debug(`websocket connection closed: ${ev.reason}`);\r\n        this.isConnected = false;\r\n        if (this.onClose) {\r\n          this.onClose(ev.reason);\r\n        }\r\n        this.ws = undefined;\r\n      };\r\n    });\r\n  }\r\n\r\n  async close() {\r\n    const unlock = await this.closingLock.lock();\r\n    try {\r\n      this.isConnected = false;\r\n      if (this.ws) {\r\n        this.ws.onclose = null;\r\n        this.ws.onmessage = null;\r\n        this.ws.onopen = null;\r\n\r\n        // calling `ws.close()` only starts the closing handshake (CLOSING state), prefer to wait until state is actually CLOSED\r\n        const closePromise = new Promise((resolve) => {\r\n          if (this.ws) {\r\n            this.ws.onclose = resolve;\r\n          } else {\r\n            resolve(true);\r\n          }\r\n        });\r\n\r\n        this.ws.close();\r\n        // 250ms grace period for ws to close gracefully\r\n        await Promise.race([closePromise, sleep(250)]);\r\n      }\r\n      this.ws = undefined;\r\n      this.clearPingInterval();\r\n    } finally {\r\n      unlock();\r\n    }\r\n  }\r\n\r\n  // initial offer after joining\r\n  sendOffer(offer: RTCSessionDescriptionInit) {\r\n    log.debug('sending offer', offer);\r\n    this.sendRequest({\r\n      $case: 'offer',\r\n      offer: toProtoSessionDescription(offer),\r\n    });\r\n  }\r\n\r\n  // answer a server-initiated offer\r\n  sendAnswer(answer: RTCSessionDescriptionInit) {\r\n    log.debug('sending answer');\r\n    return this.sendRequest({\r\n      $case: 'answer',\r\n      answer: toProtoSessionDescription(answer),\r\n    });\r\n  }\r\n\r\n  sendIceCandidate(candidate: RTCIceCandidateInit, target: SignalTarget) {\r\n    log.trace('sending ice candidate', candidate);\r\n    return this.sendRequest({\r\n      $case: 'trickle',\r\n      trickle: {\r\n        candidateInit: JSON.stringify(candidate),\r\n        target,\r\n      },\r\n    });\r\n  }\r\n\r\n  sendMuteTrack(trackSid: string, muted: boolean) {\r\n    return this.sendRequest({\r\n      $case: 'mute',\r\n      mute: {\r\n        sid: trackSid,\r\n        muted,\r\n      },\r\n    });\r\n  }\r\n\r\n  sendAddTrack(req: AddTrackRequest) {\r\n    return this.sendRequest({\r\n      $case: 'addTrack',\r\n      addTrack: AddTrackRequest.fromPartial(req),\r\n    });\r\n  }\r\n\r\n  sendUpdateLocalMetadata(metadata: string, name: string) {\r\n    return this.sendRequest({\r\n      $case: 'updateMetadata',\r\n      updateMetadata: {\r\n        metadata,\r\n        name,\r\n      },\r\n    });\r\n  }\r\n\r\n  sendUpdateTrackSettings(settings: UpdateTrackSettings) {\r\n    this.sendRequest({\r\n      $case: 'trackSetting',\r\n      trackSetting: settings,\r\n    });\r\n  }\r\n\r\n  sendUpdateSubscription(sub: UpdateSubscription) {\r\n    return this.sendRequest({\r\n      $case: 'subscription',\r\n      subscription: sub,\r\n    });\r\n  }\r\n\r\n  sendSyncState(sync: SyncState) {\r\n    return this.sendRequest({\r\n      $case: 'syncState',\r\n      syncState: sync,\r\n    });\r\n  }\r\n\r\n  sendUpdateVideoLayers(trackSid: string, layers: VideoLayer[]) {\r\n    return this.sendRequest({\r\n      $case: 'updateLayers',\r\n      updateLayers: {\r\n        trackSid,\r\n        layers,\r\n      },\r\n    });\r\n  }\r\n\r\n  sendUpdateSubscriptionPermissions(allParticipants: boolean, trackPermissions: TrackPermission[]) {\r\n    return this.sendRequest({\r\n      $case: 'subscriptionPermission',\r\n      subscriptionPermission: {\r\n        allParticipants,\r\n        trackPermissions,\r\n      },\r\n    });\r\n  }\r\n\r\n  sendSimulateScenario(scenario: SimulateScenario) {\r\n    return this.sendRequest({\r\n      $case: 'simulate',\r\n      simulate: scenario,\r\n    });\r\n  }\r\n\r\n  sendPing() {\r\n    /** send both of ping and pingReq for compatibility to old and new server */\r\n    return Promise.all([\r\n      this.sendRequest({\r\n        $case: 'ping',\r\n        ping: Date.now(),\r\n      }),\r\n      this.sendRequest({\r\n        $case: 'pingReq',\r\n        pingReq: {\r\n          timestamp: Date.now(),\r\n          rtt: this.rtt,\r\n        },\r\n      }),\r\n    ]);\r\n  }\r\n\r\n  sendLeave() {\r\n    return this.sendRequest({\r\n      $case: 'leave',\r\n      leave: {\r\n        canReconnect: false,\r\n        reason: DisconnectReason.CLIENT_INITIATED,\r\n      },\r\n    });\r\n  }\r\n\r\n  async sendRequest(message: SignalMessage, fromQueue: boolean = false) {\r\n    // capture all requests while reconnecting and put them in a queue\r\n    // unless the request originates from the queue, then don't enqueue again\r\n    const canQueue = !fromQueue && !canPassThroughQueue(message);\r\n    if (canQueue && this.isReconnecting) {\r\n      this.queuedRequests.push(async () => {\r\n        await this.sendRequest(message, true);\r\n      });\r\n      return;\r\n    }\r\n    // make sure previously queued requests are being sent first\r\n    if (!fromQueue) {\r\n      await this.requestQueue.flush();\r\n    }\r\n    if (this.signalLatency) {\r\n      await sleep(this.signalLatency);\r\n    }\r\n    if (!this.ws || this.ws.readyState !== this.ws.OPEN) {\r\n      log.error(`cannot send signal request before connected, type: ${message?.$case}`);\r\n      return;\r\n    }\r\n\r\n    const req = {\r\n      message,\r\n    };\r\n    try {\r\n      if (this.useJSON) {\r\n        this.ws.send(JSON.stringify(SignalRequest.toJSON(req)));\r\n      } else {\r\n        this.ws.send(SignalRequest.encode(req).finish());\r\n      }\r\n    } catch (e) {\r\n      log.error('error sending signal message', { error: e });\r\n    }\r\n  }\r\n\r\n  private handleSignalResponse(res: SignalResponse) {\r\n    const msg = res.message;\r\n    if (msg == undefined) {\r\n      log.debug('received unsupported message');\r\n      return;\r\n    }\r\n    if (msg.$case === 'answer') {\r\n      const sd = fromProtoSessionDescription(msg.answer);\r\n      if (this.onAnswer) {\r\n        this.onAnswer(sd);\r\n      }\r\n    } else if (msg.$case === 'offer') {\r\n      const sd = fromProtoSessionDescription(msg.offer);\r\n      if (this.onOffer) {\r\n        this.onOffer(sd);\r\n      }\r\n    } else if (msg.$case === 'trickle') {\r\n      const candidate: RTCIceCandidateInit = JSON.parse(msg.trickle.candidateInit!);\r\n      if (this.onTrickle) {\r\n        this.onTrickle(candidate, msg.trickle.target);\r\n      }\r\n    } else if (msg.$case === 'update') {\r\n      if (this.onParticipantUpdate) {\r\n        this.onParticipantUpdate(msg.update.participants ?? []);\r\n      }\r\n    } else if (msg.$case === 'trackPublished') {\r\n      if (this.onLocalTrackPublished) {\r\n        this.onLocalTrackPublished(msg.trackPublished);\r\n      }\r\n    } else if (msg.$case === 'speakersChanged') {\r\n      if (this.onSpeakersChanged) {\r\n        this.onSpeakersChanged(msg.speakersChanged.speakers ?? []);\r\n      }\r\n    } else if (msg.$case === 'leave') {\r\n      if (this.onLeave) {\r\n        this.onLeave(msg.leave);\r\n      }\r\n    } else if (msg.$case === 'mute') {\r\n      if (this.onRemoteMuteChanged) {\r\n        this.onRemoteMuteChanged(msg.mute.sid, msg.mute.muted);\r\n      }\r\n    } else if (msg.$case === 'roomUpdate') {\r\n      if (this.onRoomUpdate && msg.roomUpdate.room) {\r\n        this.onRoomUpdate(msg.roomUpdate.room);\r\n      }\r\n    } else if (msg.$case === 'connectionQuality') {\r\n      if (this.onConnectionQuality) {\r\n        this.onConnectionQuality(msg.connectionQuality);\r\n      }\r\n    } else if (msg.$case === 'streamStateUpdate') {\r\n      if (this.onStreamStateUpdate) {\r\n        this.onStreamStateUpdate(msg.streamStateUpdate);\r\n      }\r\n    } else if (msg.$case === 'subscribedQualityUpdate') {\r\n      if (this.onSubscribedQualityUpdate) {\r\n        this.onSubscribedQualityUpdate(msg.subscribedQualityUpdate);\r\n      }\r\n    } else if (msg.$case === 'subscriptionPermissionUpdate') {\r\n      if (this.onSubscriptionPermissionUpdate) {\r\n        this.onSubscriptionPermissionUpdate(msg.subscriptionPermissionUpdate);\r\n      }\r\n    } else if (msg.$case === 'refreshToken') {\r\n      if (this.onTokenRefresh) {\r\n        this.onTokenRefresh(msg.refreshToken);\r\n      }\r\n    } else if (msg.$case === 'trackUnpublished') {\r\n      if (this.onLocalTrackUnpublished) {\r\n        this.onLocalTrackUnpublished(msg.trackUnpublished);\r\n      }\r\n    } else if (msg.$case === 'pong') {\r\n      this.resetPingTimeout();\r\n    } else if (msg.$case === 'pongResp') {\r\n      this.rtt = Date.now() - msg.pongResp.lastPingTimestamp;\r\n      this.resetPingTimeout();\r\n    } else {\r\n      log.debug('unsupported message', msg);\r\n    }\r\n  }\r\n\r\n  setReconnected() {\r\n    while (this.queuedRequests.length > 0) {\r\n      const req = this.queuedRequests.shift();\r\n      if (req) {\r\n        this.requestQueue.run(req);\r\n      }\r\n    }\r\n    this.isReconnecting = false;\r\n  }\r\n\r\n  private handleWSError(ev: Event) {\r\n    log.error('websocket error', ev);\r\n  }\r\n\r\n  /**\r\n   * Resets the ping timeout and starts a new timeout.\r\n   * Call this after receiving a pong message\r\n   */\r\n  private resetPingTimeout() {\r\n    this.clearPingTimeout();\r\n    if (!this.pingTimeoutDuration) {\r\n      log.warn('ping timeout duration not set');\r\n      return;\r\n    }\r\n    this.pingTimeout = CriticalTimers.setTimeout(() => {\r\n      log.warn(\r\n        `ping timeout triggered. last pong received at: ${new Date(\r\n          Date.now() - this.pingTimeoutDuration! * 1000,\r\n        ).toUTCString()}`,\r\n      );\r\n      if (this.onClose) {\r\n        this.onClose('ping timeout');\r\n      }\r\n    }, this.pingTimeoutDuration * 1000);\r\n  }\r\n\r\n  /**\r\n   * Clears ping timeout (does not start a new timeout)\r\n   */\r\n  private clearPingTimeout() {\r\n    if (this.pingTimeout) {\r\n      CriticalTimers.clearTimeout(this.pingTimeout);\r\n    }\r\n  }\r\n\r\n  private startPingInterval() {\r\n    this.clearPingInterval();\r\n    this.resetPingTimeout();\r\n    if (!this.pingIntervalDuration) {\r\n      log.warn('ping interval duration not set');\r\n      return;\r\n    }\r\n    log.debug('start ping interval');\r\n    this.pingInterval = CriticalTimers.setInterval(() => {\r\n      this.sendPing();\r\n    }, this.pingIntervalDuration * 1000);\r\n  }\r\n\r\n  private clearPingInterval() {\r\n    log.debug('clearing ping interval');\r\n    this.clearPingTimeout();\r\n    if (this.pingInterval) {\r\n      CriticalTimers.clearInterval(this.pingInterval);\r\n    }\r\n  }\r\n}\r\n\r\nfunction fromProtoSessionDescription(sd: SessionDescription): RTCSessionDescriptionInit {\r\n  const rsd: RTCSessionDescriptionInit = {\r\n    type: 'offer',\r\n    sdp: sd.sdp,\r\n  };\r\n  switch (sd.type) {\r\n    case 'answer':\r\n    case 'offer':\r\n    case 'pranswer':\r\n    case 'rollback':\r\n      rsd.type = sd.type;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return rsd;\r\n}\r\n\r\nexport function toProtoSessionDescription(\r\n  rsd: RTCSessionDescription | RTCSessionDescriptionInit,\r\n): SessionDescription {\r\n  const sd: SessionDescription = {\r\n    sdp: rsd.sdp!,\r\n    type: rsd.type!,\r\n  };\r\n  return sd;\r\n}\r\n\r\nfunction createConnectionParams(token: string, info: ClientInfo, opts: ConnectOpts): string {\r\n  const params = new URLSearchParams();\r\n  params.set('access_token', token);\r\n\r\n  // opts\r\n  if (opts.reconnect) {\r\n    params.set('reconnect', '1');\r\n    if (opts.sid) {\r\n      params.set('sid', opts.sid);\r\n    }\r\n  }\r\n\r\n  params.set('auto_subscribe', opts.autoSubscribe ? '1' : '0');\r\n\r\n  // ClientInfo\r\n  params.set('sdk', isReactNative() ? 'reactnative' : 'js');\r\n  params.set('version', info.version!);\r\n  params.set('protocol', info.protocol!.toString());\r\n  if (info.deviceModel) {\r\n    params.set('device_model', info.deviceModel);\r\n  }\r\n  if (info.os) {\r\n    params.set('os', info.os);\r\n  }\r\n  if (info.osVersion) {\r\n    params.set('os_version', info.osVersion);\r\n  }\r\n  if (info.browser) {\r\n    params.set('browser', info.browser);\r\n  }\r\n  if (info.browserVersion) {\r\n    params.set('browser_version', info.browserVersion);\r\n  }\r\n\r\n  if (opts.publishOnly !== undefined) {\r\n    params.set('publish', opts.publishOnly);\r\n  }\r\n\r\n  if (opts.adaptiveStream) {\r\n    params.set('adaptive_stream', '1');\r\n  }\r\n\r\n  if (opts.reconnectReason) {\r\n    params.set('reconnect_reason', opts.reconnectReason.toString());\r\n  }\r\n\r\n  // @ts-ignore\r\n  if (navigator.connection?.type) {\r\n    // @ts-ignore\r\n    params.set('network', navigator.connection.type);\r\n  }\r\n\r\n  return `?${params.toString()}`;\r\n}\r\n","import log from '../logger';\r\nimport { isSafari } from './utils';\r\n\r\nconst defaultId = 'default';\r\n\r\nexport default class DeviceManager {\r\n  private static instance?: DeviceManager;\r\n\r\n  static mediaDeviceKinds: MediaDeviceKind[] = ['audioinput', 'audiooutput', 'videoinput'];\r\n\r\n  static getInstance(): DeviceManager {\r\n    if (this.instance === undefined) {\r\n      this.instance = new DeviceManager();\r\n    }\r\n    return this.instance;\r\n  }\r\n\r\n  static userMediaPromiseMap: Map<MediaDeviceKind, Promise<MediaStream>> = new Map();\r\n\r\n  async getDevices(\r\n    kind?: MediaDeviceKind,\r\n    requestPermissions: boolean = true,\r\n  ): Promise<MediaDeviceInfo[]> {\r\n    if (DeviceManager.userMediaPromiseMap?.size > 0) {\r\n      log.debug('awaiting getUserMedia promise');\r\n      try {\r\n        if (kind) {\r\n          await DeviceManager.userMediaPromiseMap.get(kind);\r\n        } else {\r\n          await Promise.all(DeviceManager.userMediaPromiseMap.values());\r\n        }\r\n      } catch (e: any) {\r\n        log.warn('error waiting for media permissons');\r\n      }\r\n    }\r\n    let devices = await navigator.mediaDevices.enumerateDevices();\r\n\r\n    if (\r\n      requestPermissions &&\r\n      kind &&\r\n      // for safari we need to skip this check, as otherwise it will re-acquire user media and fail on iOS https://bugs.webkit.org/show_bug.cgi?id=179363\r\n      (!DeviceManager.userMediaPromiseMap.get(kind) || !isSafari())\r\n    ) {\r\n      const isDummyDeviceOrEmpty =\r\n        devices.length === 0 ||\r\n        devices.some((device) => {\r\n          const noLabel = device.label === '';\r\n          const isRelevant = kind ? device.kind === kind : true;\r\n          return noLabel && isRelevant;\r\n        });\r\n\r\n      if (isDummyDeviceOrEmpty) {\r\n        const permissionsToAcquire = {\r\n          video: kind !== 'audioinput' && kind !== 'audiooutput',\r\n          audio: kind !== 'videoinput',\r\n        };\r\n        const stream = await navigator.mediaDevices.getUserMedia(permissionsToAcquire);\r\n        devices = await navigator.mediaDevices.enumerateDevices();\r\n        stream.getTracks().forEach((track) => {\r\n          track.stop();\r\n        });\r\n      }\r\n    }\r\n    if (kind) {\r\n      devices = devices.filter((device) => device.kind === kind);\r\n    }\r\n\r\n    return devices;\r\n  }\r\n\r\n  async normalizeDeviceId(\r\n    kind: MediaDeviceKind,\r\n    deviceId?: string,\r\n    groupId?: string,\r\n  ): Promise<string | undefined> {\r\n    if (deviceId !== defaultId) {\r\n      return deviceId;\r\n    }\r\n\r\n    // resolve actual device id if it's 'default': Chrome returns it when no\r\n    // device has been chosen\r\n    const devices = await this.getDevices(kind);\r\n\r\n    const device = devices.find((d) => d.groupId === groupId && d.deviceId !== defaultId);\r\n\r\n    return device?.deviceId;\r\n  }\r\n}\r\n","var grammar = module.exports = {\n  v: [{\n    name: 'version',\n    reg: /^(\\d*)$/\n  }],\n  o: [{\n    // o=- 20518 0 IN IP4 203.0.113.1\n    // NB: sessionId will be a String in most cases because it is huge\n    name: 'origin',\n    reg: /^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,\n    names: ['username', 'sessionId', 'sessionVersion', 'netType', 'ipVer', 'address'],\n    format: '%s %s %d %s IP%d %s'\n  }],\n  // default parsing of these only (though some of these feel outdated)\n  s: [{ name: 'name' }],\n  i: [{ name: 'description' }],\n  u: [{ name: 'uri' }],\n  e: [{ name: 'email' }],\n  p: [{ name: 'phone' }],\n  z: [{ name: 'timezones' }], // TODO: this one can actually be parsed properly...\n  r: [{ name: 'repeats' }],   // TODO: this one can also be parsed properly\n  // k: [{}], // outdated thing ignored\n  t: [{\n    // t=0 0\n    name: 'timing',\n    reg: /^(\\d*) (\\d*)/,\n    names: ['start', 'stop'],\n    format: '%d %d'\n  }],\n  c: [{\n    // c=IN IP4 10.47.197.26\n    name: 'connection',\n    reg: /^IN IP(\\d) (\\S*)/,\n    names: ['version', 'ip'],\n    format: 'IN IP%d %s'\n  }],\n  b: [{\n    // b=AS:4000\n    push: 'bandwidth',\n    reg: /^(TIAS|AS|CT|RR|RS):(\\d*)/,\n    names: ['type', 'limit'],\n    format: '%s:%s'\n  }],\n  m: [{\n    // m=video 51744 RTP/AVP 126 97 98 34 31\n    // NB: special - pushes to session\n    // TODO: rtp/fmtp should be filtered by the payloads found here?\n    reg: /^(\\w*) (\\d*) ([\\w/]*)(?: (.*))?/,\n    names: ['type', 'port', 'protocol', 'payloads'],\n    format: '%s %d %s %s'\n  }],\n  a: [\n    {\n      // a=rtpmap:110 opus/48000/2\n      push: 'rtp',\n      reg: /^rtpmap:(\\d*) ([\\w\\-.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,\n      names: ['payload', 'codec', 'rate', 'encoding'],\n      format: function (o) {\n        return (o.encoding)\n          ? 'rtpmap:%d %s/%s/%s'\n          : o.rate\n            ? 'rtpmap:%d %s/%s'\n            : 'rtpmap:%d %s';\n      }\n    },\n    {\n      // a=fmtp:108 profile-level-id=24;object=23;bitrate=64000\n      // a=fmtp:111 minptime=10; useinbandfec=1\n      push: 'fmtp',\n      reg: /^fmtp:(\\d*) ([\\S| ]*)/,\n      names: ['payload', 'config'],\n      format: 'fmtp:%d %s'\n    },\n    {\n      // a=control:streamid=0\n      name: 'control',\n      reg: /^control:(.*)/,\n      format: 'control:%s'\n    },\n    {\n      // a=rtcp:65179 IN IP4 193.84.77.194\n      name: 'rtcp',\n      reg: /^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,\n      names: ['port', 'netType', 'ipVer', 'address'],\n      format: function (o) {\n        return (o.address != null)\n          ? 'rtcp:%d %s IP%d %s'\n          : 'rtcp:%d';\n      }\n    },\n    {\n      // a=rtcp-fb:98 trr-int 100\n      push: 'rtcpFbTrrInt',\n      reg: /^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,\n      names: ['payload', 'value'],\n      format: 'rtcp-fb:%s trr-int %d'\n    },\n    {\n      // a=rtcp-fb:98 nack rpsi\n      push: 'rtcpFb',\n      reg: /^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,\n      names: ['payload', 'type', 'subtype'],\n      format: function (o) {\n        return (o.subtype != null)\n          ? 'rtcp-fb:%s %s %s'\n          : 'rtcp-fb:%s %s';\n      }\n    },\n    {\n      // a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n      // a=extmap:1/recvonly URI-gps-string\n      // a=extmap:3 urn:ietf:params:rtp-hdrext:encrypt urn:ietf:params:rtp-hdrext:smpte-tc 25@600/24\n      push: 'ext',\n      reg: /^extmap:(\\d+)(?:\\/(\\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\\S*)(?: (\\S*))?/,\n      names: ['value', 'direction', 'encrypt-uri', 'uri', 'config'],\n      format: function (o) {\n        return (\n          'extmap:%d' +\n          (o.direction ? '/%s' : '%v') +\n          (o['encrypt-uri'] ? ' %s' : '%v') +\n          ' %s' +\n          (o.config ? ' %s' : '')\n        );\n      }\n    },\n    {\n      // a=extmap-allow-mixed\n      name: 'extmapAllowMixed',\n      reg: /^(extmap-allow-mixed)/\n    },\n    {\n      // a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:PS1uQCVeeCFCanVmcjkpPywjNWhcYD0mXXtxaVBR|2^20|1:32\n      push: 'crypto',\n      reg: /^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,\n      names: ['id', 'suite', 'config', 'sessionConfig'],\n      format: function (o) {\n        return (o.sessionConfig != null)\n          ? 'crypto:%d %s %s %s'\n          : 'crypto:%d %s %s';\n      }\n    },\n    {\n      // a=setup:actpass\n      name: 'setup',\n      reg: /^setup:(\\w*)/,\n      format: 'setup:%s'\n    },\n    {\n      // a=connection:new\n      name: 'connectionType',\n      reg: /^connection:(new|existing)/,\n      format: 'connection:%s'\n    },\n    {\n      // a=mid:1\n      name: 'mid',\n      reg: /^mid:([^\\s]*)/,\n      format: 'mid:%s'\n    },\n    {\n      // a=msid:0c8b064d-d807-43b4-b434-f92a889d8587 98178685-d409-46e0-8e16-7ef0db0db64a\n      name: 'msid',\n      reg: /^msid:(.*)/,\n      format: 'msid:%s'\n    },\n    {\n      // a=ptime:20\n      name: 'ptime',\n      reg: /^ptime:(\\d*(?:\\.\\d*)*)/,\n      format: 'ptime:%d'\n    },\n    {\n      // a=maxptime:60\n      name: 'maxptime',\n      reg: /^maxptime:(\\d*(?:\\.\\d*)*)/,\n      format: 'maxptime:%d'\n    },\n    {\n      // a=sendrecv\n      name: 'direction',\n      reg: /^(sendrecv|recvonly|sendonly|inactive)/\n    },\n    {\n      // a=ice-lite\n      name: 'icelite',\n      reg: /^(ice-lite)/\n    },\n    {\n      // a=ice-ufrag:F7gI\n      name: 'iceUfrag',\n      reg: /^ice-ufrag:(\\S*)/,\n      format: 'ice-ufrag:%s'\n    },\n    {\n      // a=ice-pwd:x9cml/YzichV2+XlhiMu8g\n      name: 'icePwd',\n      reg: /^ice-pwd:(\\S*)/,\n      format: 'ice-pwd:%s'\n    },\n    {\n      // a=fingerprint:SHA-1 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF:00:11:22:33\n      name: 'fingerprint',\n      reg: /^fingerprint:(\\S*) (\\S*)/,\n      names: ['type', 'hash'],\n      format: 'fingerprint:%s %s'\n    },\n    {\n      // a=candidate:0 1 UDP 2113667327 203.0.113.1 54400 typ host\n      // a=candidate:1162875081 1 udp 2113937151 192.168.34.75 60017 typ host generation 0 network-id 3 network-cost 10\n      // a=candidate:3289912957 2 udp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 generation 0 network-id 3 network-cost 10\n      // a=candidate:229815620 1 tcp 1518280447 192.168.150.19 60017 typ host tcptype active generation 0 network-id 3 network-cost 10\n      // a=candidate:3289912957 2 tcp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 tcptype passive generation 0 network-id 3 network-cost 10\n      push:'candidates',\n      reg: /^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?(?: network-id (\\d*))?(?: network-cost (\\d*))?/,\n      names: ['foundation', 'component', 'transport', 'priority', 'ip', 'port', 'type', 'raddr', 'rport', 'tcptype', 'generation', 'network-id', 'network-cost'],\n      format: function (o) {\n        var str = 'candidate:%s %d %s %d %s %d typ %s';\n\n        str += (o.raddr != null) ? ' raddr %s rport %d' : '%v%v';\n\n        // NB: candidate has three optional chunks, so %void middles one if it's missing\n        str += (o.tcptype != null) ? ' tcptype %s' : '%v';\n\n        if (o.generation != null) {\n          str += ' generation %d';\n        }\n\n        str += (o['network-id'] != null) ? ' network-id %d' : '%v';\n        str += (o['network-cost'] != null) ? ' network-cost %d' : '%v';\n        return str;\n      }\n    },\n    {\n      // a=end-of-candidates (keep after the candidates line for readability)\n      name: 'endOfCandidates',\n      reg: /^(end-of-candidates)/\n    },\n    {\n      // a=remote-candidates:1 203.0.113.1 54400 2 203.0.113.1 54401 ...\n      name: 'remoteCandidates',\n      reg: /^remote-candidates:(.*)/,\n      format: 'remote-candidates:%s'\n    },\n    {\n      // a=ice-options:google-ice\n      name: 'iceOptions',\n      reg: /^ice-options:(\\S*)/,\n      format: 'ice-options:%s'\n    },\n    {\n      // a=ssrc:2566107569 cname:t9YU8M1UxTF8Y1A1\n      push: 'ssrcs',\n      reg: /^ssrc:(\\d*) ([\\w_-]*)(?::(.*))?/,\n      names: ['id', 'attribute', 'value'],\n      format: function (o) {\n        var str = 'ssrc:%d';\n        if (o.attribute != null) {\n          str += ' %s';\n          if (o.value != null) {\n            str += ':%s';\n          }\n        }\n        return str;\n      }\n    },\n    {\n      // a=ssrc-group:FEC 1 2\n      // a=ssrc-group:FEC-FR 3004364195 1080772241\n      push: 'ssrcGroups',\n      // token-char = %x21 / %x23-27 / %x2A-2B / %x2D-2E / %x30-39 / %x41-5A / %x5E-7E\n      reg: /^ssrc-group:([\\x21\\x23\\x24\\x25\\x26\\x27\\x2A\\x2B\\x2D\\x2E\\w]*) (.*)/,\n      names: ['semantics', 'ssrcs'],\n      format: 'ssrc-group:%s %s'\n    },\n    {\n      // a=msid-semantic: WMS Jvlam5X3SX1OP6pn20zWogvaKJz5Hjf9OnlV\n      name: 'msidSemantic',\n      reg: /^msid-semantic:\\s?(\\w*) (\\S*)/,\n      names: ['semantic', 'token'],\n      format: 'msid-semantic: %s %s' // space after ':' is not accidental\n    },\n    {\n      // a=group:BUNDLE audio video\n      push: 'groups',\n      reg: /^group:(\\w*) (.*)/,\n      names: ['type', 'mids'],\n      format: 'group:%s %s'\n    },\n    {\n      // a=rtcp-mux\n      name: 'rtcpMux',\n      reg: /^(rtcp-mux)/\n    },\n    {\n      // a=rtcp-rsize\n      name: 'rtcpRsize',\n      reg: /^(rtcp-rsize)/\n    },\n    {\n      // a=sctpmap:5000 webrtc-datachannel 1024\n      name: 'sctpmap',\n      reg: /^sctpmap:([\\w_/]*) (\\S*)(?: (\\S*))?/,\n      names: ['sctpmapNumber', 'app', 'maxMessageSize'],\n      format: function (o) {\n        return (o.maxMessageSize != null)\n          ? 'sctpmap:%s %s %s'\n          : 'sctpmap:%s %s';\n      }\n    },\n    {\n      // a=x-google-flag:conference\n      name: 'xGoogleFlag',\n      reg: /^x-google-flag:([^\\s]*)/,\n      format: 'x-google-flag:%s'\n    },\n    {\n      // a=rid:1 send max-width=1280;max-height=720;max-fps=30;depend=0\n      push: 'rids',\n      reg: /^rid:([\\d\\w]+) (\\w+)(?: ([\\S| ]*))?/,\n      names: ['id', 'direction', 'params'],\n      format: function (o) {\n        return (o.params) ? 'rid:%s %s %s' : 'rid:%s %s';\n      }\n    },\n    {\n      // a=imageattr:97 send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320] recv [x=330,y=250]\n      // a=imageattr:* send [x=800,y=640] recv *\n      // a=imageattr:100 recv [x=320,y=240]\n      push: 'imageattrs',\n      reg: new RegExp(\n        // a=imageattr:97\n        '^imageattr:(\\\\d+|\\\\*)' +\n        // send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320]\n        '[\\\\s\\\\t]+(send|recv)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*)' +\n        // recv [x=330,y=250]\n        '(?:[\\\\s\\\\t]+(recv|send)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*))?'\n      ),\n      names: ['pt', 'dir1', 'attrs1', 'dir2', 'attrs2'],\n      format: function (o) {\n        return 'imageattr:%s %s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    {\n      // a=simulcast:send 1,2,3;~4,~5 recv 6;~7,~8\n      // a=simulcast:recv 1;4,5 send 6;7\n      name: 'simulcast',\n      reg: new RegExp(\n        // a=simulcast:\n        '^simulcast:' +\n        // send 1,2,3;~4,~5\n        '(send|recv) ([a-zA-Z0-9\\\\-_~;,]+)' +\n        // space + recv 6;~7,~8\n        '(?:\\\\s?(send|recv) ([a-zA-Z0-9\\\\-_~;,]+))?' +\n        // end\n        '$'\n      ),\n      names: ['dir1', 'list1', 'dir2', 'list2'],\n      format: function (o) {\n        return 'simulcast:%s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    {\n      // old simulcast draft 03 (implemented by Firefox)\n      //   https://tools.ietf.org/html/draft-ietf-mmusic-sdp-simulcast-03\n      // a=simulcast: recv pt=97;98 send pt=97\n      // a=simulcast: send rid=5;6;7 paused=6,7\n      name: 'simulcast_03',\n      reg: /^simulcast:[\\s\\t]+([\\S+\\s\\t]+)$/,\n      names: ['value'],\n      format: 'simulcast: %s'\n    },\n    {\n      // a=framerate:25\n      // a=framerate:29.97\n      name: 'framerate',\n      reg: /^framerate:(\\d+(?:$|\\.\\d+))/,\n      format: 'framerate:%s'\n    },\n    {\n      // RFC4570\n      // a=source-filter: incl IN IP4 239.5.2.31 10.1.15.5\n      name: 'sourceFilter',\n      reg: /^source-filter: *(excl|incl) (\\S*) (IP4|IP6|\\*) (\\S*) (.*)/,\n      names: ['filterMode', 'netType', 'addressTypes', 'destAddress', 'srcList'],\n      format: 'source-filter: %s %s %s %s %s'\n    },\n    {\n      // a=bundle-only\n      name: 'bundleOnly',\n      reg: /^(bundle-only)/\n    },\n    {\n      // a=label:1\n      name: 'label',\n      reg: /^label:(.+)/,\n      format: 'label:%s'\n    },\n    {\n      // RFC version 26 for SCTP over DTLS\n      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-5\n      name: 'sctpPort',\n      reg: /^sctp-port:(\\d+)$/,\n      format: 'sctp-port:%s'\n    },\n    {\n      // RFC version 26 for SCTP over DTLS\n      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-6\n      name: 'maxMessageSize',\n      reg: /^max-message-size:(\\d+)$/,\n      format: 'max-message-size:%s'\n    },\n    {\n      // RFC7273\n      // a=ts-refclk:ptp=IEEE1588-2008:39-A7-94-FF-FE-07-CB-D0:37\n      push:'tsRefClocks',\n      reg: /^ts-refclk:([^\\s=]*)(?:=(\\S*))?/,\n      names: ['clksrc', 'clksrcExt'],\n      format: function (o) {\n        return 'ts-refclk:%s' + (o.clksrcExt != null ? '=%s' : '');\n      }\n    },\n    {\n      // RFC7273\n      // a=mediaclk:direct=963214424\n      name:'mediaClk',\n      reg: /^mediaclk:(?:id=(\\S*))? *([^\\s=]*)(?:=(\\S*))?(?: *rate=(\\d+)\\/(\\d+))?/,\n      names: ['id', 'mediaClockName', 'mediaClockValue', 'rateNumerator', 'rateDenominator'],\n      format: function (o) {\n        var str = 'mediaclk:';\n        str += (o.id != null ? 'id=%s %s' : '%v%s');\n        str += (o.mediaClockValue != null ? '=%s' : '');\n        str += (o.rateNumerator != null ? ' rate=%s' : '');\n        str += (o.rateDenominator != null ? '/%s' : '');\n        return str;\n      }\n    },\n    {\n      // a=keywds:keywords\n      name: 'keywords',\n      reg: /^keywds:(.+)$/,\n      format: 'keywds:%s'\n    },\n    {\n      // a=content:main\n      name: 'content',\n      reg: /^content:(.+)/,\n      format: 'content:%s'\n    },\n    // BFCP https://tools.ietf.org/html/rfc4583\n    {\n      // a=floorctrl:c-s\n      name: 'bfcpFloorCtrl',\n      reg: /^floorctrl:(c-only|s-only|c-s)/,\n      format: 'floorctrl:%s'\n    },\n    {\n      // a=confid:1\n      name: 'bfcpConfId',\n      reg: /^confid:(\\d+)/,\n      format: 'confid:%s'\n    },\n    {\n      // a=userid:1\n      name: 'bfcpUserId',\n      reg: /^userid:(\\d+)/,\n      format: 'userid:%s'\n    },\n    {\n      // a=floorid:1\n      name: 'bfcpFloorId',\n      reg: /^floorid:(.+) (?:m-stream|mstrm):(.+)/,\n      names: ['id', 'mStream'],\n      format: 'floorid:%s mstrm:%s'\n    },\n    {\n      // any a= that we don't understand is kept verbatim on media.invalid\n      push: 'invalid',\n      names: ['value']\n    }\n  ]\n};\n\n// set sensible defaults to avoid polluting the grammar with boring details\nObject.keys(grammar).forEach(function (key) {\n  var objs = grammar[key];\n  objs.forEach(function (obj) {\n    if (!obj.reg) {\n      obj.reg = /(.*)/;\n    }\n    if (!obj.format) {\n      obj.format = '%s';\n    }\n  });\n});\n","var toIntIfInt = function (v) {\n  return String(Number(v)) === v ? Number(v) : v;\n};\n\nvar attachProperties = function (match, location, names, rawName) {\n  if (rawName && !names) {\n    location[rawName] = toIntIfInt(match[1]);\n  }\n  else {\n    for (var i = 0; i < names.length; i += 1) {\n      if (match[i+1] != null) {\n        location[names[i]] = toIntIfInt(match[i+1]);\n      }\n    }\n  }\n};\n\nvar parseReg = function (obj, location, content) {\n  var needsBlank = obj.name && obj.names;\n  if (obj.push && !location[obj.push]) {\n    location[obj.push] = [];\n  }\n  else if (needsBlank && !location[obj.name]) {\n    location[obj.name] = {};\n  }\n  var keyLocation = obj.push ?\n    {} :  // blank object that will be pushed\n    needsBlank ? location[obj.name] : location; // otherwise, named location or root\n\n  attachProperties(content.match(obj.reg), keyLocation, obj.names, obj.name);\n\n  if (obj.push) {\n    location[obj.push].push(keyLocation);\n  }\n};\n\nvar grammar = require('./grammar');\nvar validLine = RegExp.prototype.test.bind(/^([a-z])=(.*)/);\n\nexports.parse = function (sdp) {\n  var session = {}\n    , media = []\n    , location = session; // points at where properties go under (one of the above)\n\n  // parse lines we understand\n  sdp.split(/(\\r\\n|\\r|\\n)/).filter(validLine).forEach(function (l) {\n    var type = l[0];\n    var content = l.slice(2);\n    if (type === 'm') {\n      media.push({rtp: [], fmtp: []});\n      location = media[media.length-1]; // point at latest media line\n    }\n\n    for (var j = 0; j < (grammar[type] || []).length; j += 1) {\n      var obj = grammar[type][j];\n      if (obj.reg.test(content)) {\n        return parseReg(obj, location, content);\n      }\n    }\n  });\n\n  session.media = media; // link it up\n  return session;\n};\n\nvar paramReducer = function (acc, expr) {\n  var s = expr.split(/=(.+)/, 2);\n  if (s.length === 2) {\n    acc[s[0]] = toIntIfInt(s[1]);\n  } else if (s.length === 1 && expr.length > 1) {\n    acc[s[0]] = undefined;\n  }\n  return acc;\n};\n\nexports.parseParams = function (str) {\n  return str.split(/;\\s?/).reduce(paramReducer, {});\n};\n\n// For backward compatibility - alias will be removed in 3.0.0\nexports.parseFmtpConfig = exports.parseParams;\n\nexports.parsePayloads = function (str) {\n  return str.toString().split(' ').map(Number);\n};\n\nexports.parseRemoteCandidates = function (str) {\n  var candidates = [];\n  var parts = str.split(' ').map(toIntIfInt);\n  for (var i = 0; i < parts.length; i += 3) {\n    candidates.push({\n      component: parts[i],\n      ip: parts[i + 1],\n      port: parts[i + 2]\n    });\n  }\n  return candidates;\n};\n\nexports.parseImageAttributes = function (str) {\n  return str.split(' ').map(function (item) {\n    return item.substring(1, item.length-1).split(',').reduce(paramReducer, {});\n  });\n};\n\nexports.parseSimulcastStreamList = function (str) {\n  return str.split(';').map(function (stream) {\n    return stream.split(',').map(function (format) {\n      var scid, paused = false;\n\n      if (format[0] !== '~') {\n        scid = toIntIfInt(format);\n      } else {\n        scid = toIntIfInt(format.substring(1, format.length));\n        paused = true;\n      }\n\n      return {\n        scid: scid,\n        paused: paused\n      };\n    });\n  });\n};\n","var grammar = require('./grammar');\n\n// customized util.format - discards excess arguments and can void middle ones\nvar formatRegExp = /%[sdv%]/g;\nvar format = function (formatStr) {\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  return formatStr.replace(formatRegExp, function (x) {\n    if (i >= len) {\n      return x; // missing argument\n    }\n    var arg = args[i];\n    i += 1;\n    switch (x) {\n    case '%%':\n      return '%';\n    case '%s':\n      return String(arg);\n    case '%d':\n      return Number(arg);\n    case '%v':\n      return '';\n    }\n  });\n  // NB: we discard excess arguments - they are typically undefined from makeLine\n};\n\nvar makeLine = function (type, obj, location) {\n  var str = obj.format instanceof Function ?\n    (obj.format(obj.push ? location : location[obj.name])) :\n    obj.format;\n\n  var args = [type + '=' + str];\n  if (obj.names) {\n    for (var i = 0; i < obj.names.length; i += 1) {\n      var n = obj.names[i];\n      if (obj.name) {\n        args.push(location[obj.name][n]);\n      }\n      else { // for mLine and push attributes\n        args.push(location[obj.names[i]]);\n      }\n    }\n  }\n  else {\n    args.push(location[obj.name]);\n  }\n  return format.apply(null, args);\n};\n\n// RFC specified order\n// TODO: extend this with all the rest\nvar defaultOuterOrder = [\n  'v', 'o', 's', 'i',\n  'u', 'e', 'p', 'c',\n  'b', 't', 'r', 'z', 'a'\n];\nvar defaultInnerOrder = ['i', 'c', 'b', 'a'];\n\n\nmodule.exports = function (session, opts) {\n  opts = opts || {};\n  // ensure certain properties exist\n  if (session.version == null) {\n    session.version = 0; // 'v=0' must be there (only defined version atm)\n  }\n  if (session.name == null) {\n    session.name = ' '; // 's= ' must be there if no meaningful name set\n  }\n  session.media.forEach(function (mLine) {\n    if (mLine.payloads == null) {\n      mLine.payloads = '';\n    }\n  });\n\n  var outerOrder = opts.outerOrder || defaultOuterOrder;\n  var innerOrder = opts.innerOrder || defaultInnerOrder;\n  var sdp = [];\n\n  // loop through outerOrder for matching properties on session\n  outerOrder.forEach(function (type) {\n    grammar[type].forEach(function (obj) {\n      if (obj.name in session && session[obj.name] != null) {\n        sdp.push(makeLine(type, obj, session));\n      }\n      else if (obj.push in session && session[obj.push] != null) {\n        session[obj.push].forEach(function (el) {\n          sdp.push(makeLine(type, obj, el));\n        });\n      }\n    });\n  });\n\n  // then for each media line, follow the innerOrder\n  session.media.forEach(function (mLine) {\n    sdp.push(makeLine('m', grammar.m[0], mLine));\n\n    innerOrder.forEach(function (type) {\n      grammar[type].forEach(function (obj) {\n        if (obj.name in mLine && mLine[obj.name] != null) {\n          sdp.push(makeLine(type, obj, mLine));\n        }\n        else if (obj.push in mLine && mLine[obj.push] != null) {\n          mLine[obj.push].forEach(function (el) {\n            sdp.push(makeLine(type, obj, el));\n          });\n        }\n      });\n    });\n  });\n\n  return sdp.join('\\r\\n') + '\\r\\n';\n};\n","var parser = require('./parser');\nvar writer = require('./writer');\n\nexports.write = writer;\nexports.parse = parser.parse;\nexports.parseParams = parser.parseParams;\nexports.parseFmtpConfig = parser.parseFmtpConfig; // Alias of parseParams().\nexports.parsePayloads = parser.parsePayloads;\nexports.parseRemoteCandidates = parser.parseRemoteCandidates;\nexports.parseImageAttributes = parser.parseImageAttributes;\nexports.parseSimulcastStreamList = parser.parseSimulcastStreamList;\n","function r(r,e,n){var i,t,o;void 0===e&&(e=50),void 0===n&&(n={});var a=null!=(i=n.isImmediate)&&i,u=null!=(t=n.callback)&&t,c=n.maxWait,v=Date.now(),l=[];function f(){if(void 0!==c){var r=Date.now()-v;if(r+e>=c)return c-r}return e}var d=function(){var e=[].slice.call(arguments),n=this;return new Promise(function(i,t){var c=a&&void 0===o;if(void 0!==o&&clearTimeout(o),o=setTimeout(function(){if(o=void 0,v=Date.now(),!a){var i=r.apply(n,e);u&&u(i),l.forEach(function(r){return(0,r.resolve)(i)}),l=[]}},f()),c){var d=r.apply(n,e);return u&&u(d),i(d)}l.push({resolve:i,reject:t})})};return d.cancel=function(r){void 0!==o&&clearTimeout(o),l.forEach(function(e){return(0,e.reject)(r)}),l=[]},d}export{r as debounce};\n//# sourceMappingURL=index.esm.js.map\n","import EventEmitter from 'events';\r\nimport { MediaDescription, parse, write } from 'sdp-transform';\r\nimport { debounce } from 'ts-debounce';\r\nimport log from '../logger';\r\nimport { NegotiationError } from './errors';\r\nimport { ddExtensionURI, isSVCCodec } from './utils';\r\n\r\n/** @internal */\r\ninterface TrackBitrateInfo {\r\n  sid: string;\r\n  codec: string;\r\n  maxbr: number;\r\n}\r\n\r\nexport const PCEvents = {\r\n  NegotiationStarted: 'negotiationStarted',\r\n  NegotiationComplete: 'negotiationComplete',\r\n} as const;\r\n\r\n/** @internal */\r\nexport default class PCTransport extends EventEmitter {\r\n  pc: RTCPeerConnection;\r\n\r\n  pendingCandidates: RTCIceCandidateInit[] = [];\r\n\r\n  restartingIce: boolean = false;\r\n\r\n  renegotiate: boolean = false;\r\n\r\n  trackBitrates: TrackBitrateInfo[] = [];\r\n\r\n  remoteStereoMids: string[] = [];\r\n\r\n  remoteNackMids: string[] = [];\r\n\r\n  onOffer?: (offer: RTCSessionDescriptionInit) => void;\r\n\r\n  constructor(config?: RTCConfiguration) {\r\n    super();\r\n    this.pc = new RTCPeerConnection(config);\r\n  }\r\n\r\n  get isICEConnected(): boolean {\r\n    return this.pc.iceConnectionState === 'connected' || this.pc.iceConnectionState === 'completed';\r\n  }\r\n\r\n  async addIceCandidate(candidate: RTCIceCandidateInit): Promise<void> {\r\n    if (this.pc.remoteDescription && !this.restartingIce) {\r\n      return this.pc.addIceCandidate(candidate);\r\n    }\r\n    this.pendingCandidates.push(candidate);\r\n  }\r\n\r\n  async setRemoteDescription(sd: RTCSessionDescriptionInit): Promise<void> {\r\n    if (sd.type === 'offer') {\r\n      let { stereoMids, nackMids } = extractStereoAndNackAudioFromOffer(sd);\r\n      this.remoteStereoMids = stereoMids;\r\n      this.remoteNackMids = nackMids;\r\n    }\r\n    await this.pc.setRemoteDescription(sd);\r\n\r\n    this.pendingCandidates.forEach((candidate) => {\r\n      this.pc.addIceCandidate(candidate);\r\n    });\r\n    this.pendingCandidates = [];\r\n    this.restartingIce = false;\r\n\r\n    if (this.renegotiate) {\r\n      this.renegotiate = false;\r\n      this.createAndSendOffer();\r\n    } else if (sd.type === 'answer') {\r\n      this.emit(PCEvents.NegotiationComplete);\r\n    }\r\n  }\r\n\r\n  // debounced negotiate interface\r\n  negotiate = debounce((onError?: (e: Error) => void) => {\r\n    this.emit(PCEvents.NegotiationStarted);\r\n    try {\r\n      this.createAndSendOffer();\r\n    } catch (e) {\r\n      if (onError) {\r\n        onError(e as Error);\r\n      } else {\r\n        throw e;\r\n      }\r\n    }\r\n  }, 100);\r\n\r\n  async createAndSendOffer(options?: RTCOfferOptions) {\r\n    if (this.onOffer === undefined) {\r\n      return;\r\n    }\r\n\r\n    if (options?.iceRestart) {\r\n      log.debug('restarting ICE');\r\n      this.restartingIce = true;\r\n    }\r\n\r\n    if (this.pc.signalingState === 'have-local-offer') {\r\n      // we're waiting for the peer to accept our offer, so we'll just wait\r\n      // the only exception to this is when ICE restart is needed\r\n      const currentSD = this.pc.remoteDescription;\r\n      if (options?.iceRestart && currentSD) {\r\n        // TODO: handle when ICE restart is needed but we don't have a remote description\r\n        // the best thing to do is to recreate the peerconnection\r\n        await this.pc.setRemoteDescription(currentSD);\r\n      } else {\r\n        this.renegotiate = true;\r\n        return;\r\n      }\r\n    } else if (this.pc.signalingState === 'closed') {\r\n      log.warn('could not createOffer with closed peer connection');\r\n      return;\r\n    }\r\n\r\n    // actually negotiate\r\n    log.debug('starting to negotiate');\r\n    const offer = await this.pc.createOffer(options);\r\n\r\n    const sdpParsed = parse(offer.sdp ?? '');\r\n    sdpParsed.media.forEach((media) => {\r\n      if (media.type === 'audio') {\r\n        ensureAudioNackAndStereo(media, [], []);\r\n      } else if (media.type === 'video') {\r\n        ensureVideoDDExtensionForSVC(media);\r\n        // mung sdp for codec bitrate setting that can't apply by sendEncoding\r\n        this.trackBitrates.some((trackbr): boolean => {\r\n          if (!media.msid || !media.msid.includes(trackbr.sid)) {\r\n            return false;\r\n          }\r\n\r\n          let codecPayload = 0;\r\n          media.rtp.some((rtp): boolean => {\r\n            if (rtp.codec.toUpperCase() === trackbr.codec.toUpperCase()) {\r\n              codecPayload = rtp.payload;\r\n              return true;\r\n            }\r\n            return false;\r\n          });\r\n\r\n          // add x-google-max-bitrate to fmtp line if not exist\r\n          if (codecPayload > 0) {\r\n            if (\r\n              !media.fmtp.some((fmtp): boolean => {\r\n                if (fmtp.payload === codecPayload) {\r\n                  if (!fmtp.config.includes('x-google-start-bitrate')) {\r\n                    fmtp.config += `;x-google-start-bitrate=${trackbr.maxbr * 0.7}`;\r\n                  }\r\n                  if (!fmtp.config.includes('x-google-max-bitrate')) {\r\n                    fmtp.config += `;x-google-max-bitrate=${trackbr.maxbr}`;\r\n                  }\r\n                  return true;\r\n                }\r\n                return false;\r\n              })\r\n            ) {\r\n              media.fmtp.push({\r\n                payload: codecPayload,\r\n                config: `x-google-start-bitrate=${trackbr.maxbr * 0.7};x-google-max-bitrate=${\r\n                  trackbr.maxbr\r\n                }`,\r\n              });\r\n            }\r\n          }\r\n\r\n          return true;\r\n        });\r\n      }\r\n    });\r\n\r\n    this.trackBitrates = [];\r\n\r\n    await this.setMungedLocalDescription(offer, write(sdpParsed));\r\n    this.onOffer(offer);\r\n  }\r\n\r\n  async createAndSetAnswer(): Promise<RTCSessionDescriptionInit> {\r\n    const answer = await this.pc.createAnswer();\r\n    const sdpParsed = parse(answer.sdp ?? '');\r\n    sdpParsed.media.forEach((media) => {\r\n      if (media.type === 'audio') {\r\n        ensureAudioNackAndStereo(media, this.remoteStereoMids, this.remoteNackMids);\r\n      }\r\n    });\r\n    await this.setMungedLocalDescription(answer, write(sdpParsed));\r\n    return answer;\r\n  }\r\n\r\n  setTrackCodecBitrate(sid: string, codec: string, maxbr: number) {\r\n    this.trackBitrates.push({\r\n      sid,\r\n      codec,\r\n      maxbr,\r\n    });\r\n  }\r\n\r\n  close() {\r\n    this.pc.onconnectionstatechange = null;\r\n    this.pc.oniceconnectionstatechange = null;\r\n    this.pc.close();\r\n  }\r\n\r\n  private async setMungedLocalDescription(sd: RTCSessionDescriptionInit, munged: string) {\r\n    const originalSdp = sd.sdp;\r\n    sd.sdp = munged;\r\n    try {\r\n      log.debug('setting munged local description');\r\n      await this.pc.setLocalDescription(sd);\r\n      return;\r\n    } catch (e) {\r\n      log.warn(`not able to set ${sd.type}, falling back to unmodified sdp`, {\r\n        error: e,\r\n      });\r\n      sd.sdp = originalSdp;\r\n    }\r\n\r\n    try {\r\n      await this.pc.setLocalDescription(sd);\r\n    } catch (e) {\r\n      // this error cannot always be caught.\r\n      // If the local description has a setCodecPreferences error, this error will be uncaught\r\n      let msg = 'unknown error';\r\n      if (e instanceof Error) {\r\n        msg = e.message;\r\n      } else if (typeof e === 'string') {\r\n        msg = e;\r\n      }\r\n      throw new NegotiationError(msg);\r\n    }\r\n  }\r\n}\r\n\r\nfunction ensureAudioNackAndStereo(\r\n  media: {\r\n    type: string;\r\n    port: number;\r\n    protocol: string;\r\n    payloads?: string | undefined;\r\n  } & MediaDescription,\r\n  stereoMids: string[],\r\n  nackMids: string[],\r\n) {\r\n  // found opus codec to add nack fb\r\n  let opusPayload = 0;\r\n  media.rtp.some((rtp): boolean => {\r\n    if (rtp.codec === 'opus') {\r\n      opusPayload = rtp.payload;\r\n      return true;\r\n    }\r\n    return false;\r\n  });\r\n\r\n  // add nack rtcpfb if not exist\r\n  if (opusPayload > 0) {\r\n    if (!media.rtcpFb) {\r\n      media.rtcpFb = [];\r\n    }\r\n\r\n    if (\r\n      nackMids.includes(media.mid!) &&\r\n      !media.rtcpFb.some((fb) => fb.payload === opusPayload && fb.type === 'nack')\r\n    ) {\r\n      media.rtcpFb.push({\r\n        payload: opusPayload,\r\n        type: 'nack',\r\n      });\r\n    }\r\n\r\n    if (stereoMids.includes(media.mid!)) {\r\n      media.fmtp.some((fmtp): boolean => {\r\n        if (fmtp.payload === opusPayload) {\r\n          if (!fmtp.config.includes('stereo=1')) {\r\n            fmtp.config += ';stereo=1';\r\n          }\r\n          return true;\r\n        }\r\n        return false;\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nfunction ensureVideoDDExtensionForSVC(\r\n  media: {\r\n    type: string;\r\n    port: number;\r\n    protocol: string;\r\n    payloads?: string | undefined;\r\n  } & MediaDescription,\r\n) {\r\n  const codec = media.rtp.at(0)?.codec?.toLowerCase();\r\n  if (!isSVCCodec(codec)) {\r\n    return;\r\n  }\r\n\r\n  let maxID = 0;\r\n  const ddFound = media.ext?.some((ext): boolean => {\r\n    if (ext.uri === ddExtensionURI) {\r\n      return true;\r\n    }\r\n    if (ext.value > maxID) {\r\n      maxID = ext.value;\r\n    }\r\n    return false;\r\n  });\r\n\r\n  if (!ddFound) {\r\n    media.ext?.push({\r\n      value: maxID + 1,\r\n      uri: ddExtensionURI,\r\n    });\r\n  }\r\n}\r\n\r\nfunction extractStereoAndNackAudioFromOffer(offer: RTCSessionDescriptionInit): {\r\n  stereoMids: string[];\r\n  nackMids: string[];\r\n} {\r\n  const stereoMids: string[] = [];\r\n  const nackMids: string[] = [];\r\n  const sdpParsed = parse(offer.sdp ?? '');\r\n  let opusPayload = 0;\r\n  sdpParsed.media.forEach((media) => {\r\n    if (media.type === 'audio') {\r\n      media.rtp.some((rtp): boolean => {\r\n        if (rtp.codec === 'opus') {\r\n          opusPayload = rtp.payload;\r\n          return true;\r\n        }\r\n        return false;\r\n      });\r\n\r\n      if (media.rtcpFb?.some((fb) => fb.payload === opusPayload && fb.type === 'nack')) {\r\n        nackMids.push(media.mid!);\r\n      }\r\n\r\n      media.fmtp.some((fmtp): boolean => {\r\n        if (fmtp.payload === opusPayload) {\r\n          if (fmtp.config.includes('sprop-stereo=1')) {\r\n            stereoMids.push(media.mid!);\r\n          }\r\n          return true;\r\n        }\r\n        return false;\r\n      });\r\n    }\r\n  });\r\n  return { stereoMids, nackMids };\r\n}\r\n","import log from '../logger';\r\nimport type { RegionInfo, RegionSettings } from '../proto/livekit_rtc';\r\nimport { ConnectionError, ConnectionErrorReason } from './errors';\r\nimport { isCloud } from './utils';\r\n\r\nexport class RegionUrlProvider {\r\n  private serverUrl: URL;\r\n\r\n  private token: string;\r\n\r\n  private regionSettings: RegionSettings | undefined;\r\n\r\n  private lastUpdateAt: number = 0;\r\n\r\n  private settingsCacheTime = 3_000;\r\n\r\n  private attemptedRegions: RegionInfo[] = [];\r\n\r\n  constructor(url: string, token: string) {\r\n    this.serverUrl = new URL(url);\r\n    this.token = token;\r\n  }\r\n\r\n  isCloud() {\r\n    return isCloud(this.serverUrl);\r\n  }\r\n\r\n  async getNextBestRegionUrl(abortSignal?: AbortSignal) {\r\n    if (!this.isCloud()) {\r\n      throw Error('region availability is only supported for LiveKit Cloud domains');\r\n    }\r\n    if (!this.regionSettings || Date.now() - this.lastUpdateAt > this.settingsCacheTime) {\r\n      this.regionSettings = await this.fetchRegionSettings(abortSignal);\r\n    }\r\n    const regionsLeft = this.regionSettings.regions.filter(\r\n      (region) => !this.attemptedRegions.find((attempted) => attempted.url === region.url),\r\n    );\r\n    if (regionsLeft.length > 0) {\r\n      const nextRegion = regionsLeft[0];\r\n      this.attemptedRegions.push(nextRegion);\r\n      log.debug(`next region: ${nextRegion.region}`);\r\n      return nextRegion.url;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  resetAttempts() {\r\n    this.attemptedRegions = [];\r\n  }\r\n\r\n  private async fetchRegionSettings(signal?: AbortSignal) {\r\n    const regionSettingsResponse = await fetch(`${getCloudConfigUrl(this.serverUrl)}/regions`, {\r\n      headers: { authorization: `Bearer ${this.token}` },\r\n      signal,\r\n    });\r\n    if (regionSettingsResponse.ok) {\r\n      const regionSettings = (await regionSettingsResponse.json()) as RegionSettings;\r\n      this.lastUpdateAt = Date.now();\r\n      return regionSettings;\r\n    } else {\r\n      throw new ConnectionError(\r\n        `Could not fetch region settings: ${regionSettingsResponse.statusText}`,\r\n        regionSettingsResponse.status === 401 ? ConnectionErrorReason.NotAllowed : undefined,\r\n        regionSettingsResponse.status,\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nfunction getCloudConfigUrl(serverUrl: URL) {\r\n  return `${serverUrl.protocol.replace('ws', 'http')}//${serverUrl.host}/settings`;\r\n}\r\n","import type { Track } from './Track';\r\n\r\nexport interface TrackPublishDefaults {\r\n  /**\r\n   * encoding parameters for camera track\r\n   */\r\n  videoEncoding?: VideoEncoding;\r\n\r\n  /**\r\n   * @experimental\r\n   */\r\n  backupCodec?: { codec: BackupVideoCodec; encoding: VideoEncoding } | false;\r\n\r\n  /**\r\n   * encoding parameters for screen share track\r\n   */\r\n  screenShareEncoding?: VideoEncoding;\r\n\r\n  /**\r\n   * codec, defaults to vp8; for svc codecs, auto enable vp8\r\n   * as backup. (TBD)\r\n   */\r\n  videoCodec?: VideoCodec;\r\n\r\n  /**\r\n   * max audio bitrate, defaults to [[AudioPresets.speech]]\r\n   */\r\n  audioBitrate?: number;\r\n\r\n  /**\r\n   * dtx (Discontinuous Transmission of audio), enabled by default for mono tracks.\r\n   */\r\n  dtx?: boolean;\r\n\r\n  /**\r\n   * red (Redundant Audio Data), enabled by default for mono tracks.\r\n   */\r\n  red?: boolean;\r\n\r\n  /**\r\n   * stereo audio track. defaults determined by capture channel count.\r\n   */\r\n  forceStereo?: boolean;\r\n\r\n  /**\r\n   * use simulcast, defaults to true.\r\n   * When using simulcast, LiveKit will publish up to three versions of the stream\r\n   * at various resolutions.\r\n   */\r\n  simulcast?: boolean;\r\n\r\n  /**\r\n   * scalability mode for svc codecs, defaults to 'L3T3'.\r\n   * for svc codecs, simulcast is disabled.\r\n   */\r\n  scalabilityMode?: ScalabilityMode;\r\n\r\n  /**\r\n   * custom video simulcast layers for camera tracks, defaults to h180, h360\r\n   * You can specify up to two custom layers that will be used instead of\r\n   * the LiveKit default layers.\r\n   * Note: the layers need to be ordered from lowest to highest quality\r\n   */\r\n  videoSimulcastLayers?: Array<VideoPreset>;\r\n\r\n  /**\r\n   * custom video simulcast layers for screen tracks\r\n   * Note: the layers need to be ordered from lowest to highest quality\r\n   */\r\n  screenShareSimulcastLayers?: Array<VideoPreset>;\r\n\r\n  /**\r\n   * For local tracks, stop the underlying MediaStreamTrack when the track is muted (or paused)\r\n   * on some platforms, this option is necessary to disable the microphone recording indicator.\r\n   * Note: when this is enabled, and BT devices are connected, they will transition between\r\n   * profiles (e.g. HFP to A2DP) and there will be an audible difference in playback.\r\n   *\r\n   * defaults to false\r\n   */\r\n  stopMicTrackOnMute?: boolean;\r\n}\r\n\r\n/**\r\n * Options when publishing tracks\r\n */\r\nexport interface TrackPublishOptions extends TrackPublishDefaults {\r\n  /**\r\n   * set a track name\r\n   */\r\n  name?: string;\r\n\r\n  /**\r\n   * Source of track, camera, microphone, or screen\r\n   */\r\n  source?: Track.Source;\r\n}\r\n\r\nexport interface CreateLocalTracksOptions {\r\n  /**\r\n   * audio track options, true to create with defaults. false if audio shouldn't be created\r\n   * default true\r\n   */\r\n  audio?: boolean | AudioCaptureOptions;\r\n\r\n  /**\r\n   * video track options, true to create with defaults. false if video shouldn't be created\r\n   * default true\r\n   */\r\n  video?: boolean | VideoCaptureOptions;\r\n}\r\n\r\nexport interface VideoCaptureOptions {\r\n  /**\r\n   * A ConstrainDOMString object specifying a device ID or an array of device\r\n   * IDs which are acceptable and/or required.\r\n   */\r\n  deviceId?: ConstrainDOMString;\r\n\r\n  /**\r\n   * a facing or an array of facings which are acceptable and/or required.\r\n   */\r\n  facingMode?: 'user' | 'environment' | 'left' | 'right';\r\n\r\n  resolution?: VideoResolution;\r\n}\r\n\r\nexport interface ScreenShareCaptureOptions {\r\n  /**\r\n   * true to capture audio shared. browser support for audio capturing in\r\n   * screenshare is limited: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia#browser_compatibility\r\n   */\r\n  audio?: boolean | AudioCaptureOptions;\r\n\r\n  /** capture resolution, defaults to full HD */\r\n  resolution?: VideoResolution;\r\n\r\n  /** a CaptureController object instance containing methods that can be used to further manipulate the capture session if included. */\r\n  controller?: unknown; // TODO replace type with CaptureController once it lands in TypeScript\r\n\r\n  /** specifies whether the browser should allow the user to select the current tab for capture */\r\n  selfBrowserSurface?: 'include' | 'exclude';\r\n\r\n  /** specifies whether the browser should display a control to allow the user to dynamically switch the shared tab during screen-sharing. */\r\n  surfaceSwitching?: 'include' | 'exclude';\r\n\r\n  /** specifies whether the browser should include the system audio among the possible audio sources offered to the user */\r\n  systemAudio?: 'include' | 'exclude';\r\n\r\n  /**\r\n   * Experimental option to control whether the audio playing in a tab will continue to be played out of a user's\r\n   * local speakers when the tab is captured.\r\n   */\r\n  suppressLocalAudioPlayback?: boolean;\r\n}\r\n\r\nexport interface AudioCaptureOptions {\r\n  /**\r\n   * specifies whether automatic gain control is preferred and/or required\r\n   */\r\n  autoGainControl?: ConstrainBoolean;\r\n\r\n  /**\r\n   * the channel count or range of channel counts which are acceptable and/or required\r\n   */\r\n  channelCount?: ConstrainULong;\r\n\r\n  /**\r\n   * A ConstrainDOMString object specifying a device ID or an array of device\r\n   * IDs which are acceptable and/or required.\r\n   */\r\n  deviceId?: ConstrainDOMString;\r\n\r\n  /**\r\n   * whether or not echo cancellation is preferred and/or required\r\n   */\r\n  echoCancellation?: ConstrainBoolean;\r\n\r\n  /**\r\n   * the latency or range of latencies which are acceptable and/or required.\r\n   */\r\n  latency?: ConstrainDouble;\r\n\r\n  /**\r\n   * whether noise suppression is preferred and/or required.\r\n   */\r\n  noiseSuppression?: ConstrainBoolean;\r\n\r\n  /**\r\n   * the sample rate or range of sample rates which are acceptable and/or required.\r\n   */\r\n  sampleRate?: ConstrainULong;\r\n\r\n  /**\r\n   * sample size or range of sample sizes which are acceptable and/or required.\r\n   */\r\n  sampleSize?: ConstrainULong;\r\n}\r\n\r\nexport interface AudioOutputOptions {\r\n  /**\r\n   * deviceId to output audio\r\n   *\r\n   * Only supported on browsers where `setSinkId` is available\r\n   */\r\n  deviceId?: string;\r\n}\r\n\r\nexport interface VideoResolution {\r\n  width: number;\r\n  height: number;\r\n  frameRate?: number;\r\n  aspectRatio?: number;\r\n}\r\n\r\nexport interface VideoEncoding {\r\n  maxBitrate: number;\r\n  maxFramerate?: number;\r\n}\r\n\r\nexport class VideoPreset {\r\n  encoding: VideoEncoding;\r\n\r\n  width: number;\r\n\r\n  height: number;\r\n\r\n  constructor(width: number, height: number, maxBitrate: number, maxFramerate?: number) {\r\n    this.width = width;\r\n    this.height = height;\r\n    this.encoding = {\r\n      maxBitrate,\r\n      maxFramerate,\r\n    };\r\n  }\r\n\r\n  get resolution(): VideoResolution {\r\n    return {\r\n      width: this.width,\r\n      height: this.height,\r\n      frameRate: this.encoding.maxFramerate,\r\n      aspectRatio: this.width / this.height,\r\n    };\r\n  }\r\n}\r\n\r\nexport interface AudioPreset {\r\n  maxBitrate: number;\r\n}\r\n\r\nconst codecs = ['vp8', 'h264', 'vp9', 'av1'] as const;\r\nconst backupCodecs = ['vp8', 'h264'] as const;\r\n\r\nexport type VideoCodec = (typeof codecs)[number];\r\n\r\nexport type BackupVideoCodec = (typeof backupCodecs)[number];\r\n\r\nexport function isBackupCodec(codec: string): codec is BackupVideoCodec {\r\n  return !!backupCodecs.find((backup) => backup === codec);\r\n}\r\n\r\nexport function isCodecEqual(c1: string | undefined, c2: string | undefined): boolean {\r\n  return (\r\n    c1?.toLowerCase().replace(/audio\\/|video\\//y, '') ===\r\n    c2?.toLowerCase().replace(/audio\\/|video\\//y, '')\r\n  );\r\n}\r\n\r\n/**\r\n * scalability modes for svc, only supprot l3t3 now.\r\n */\r\nexport type ScalabilityMode = 'L3T3';\r\n\r\nexport namespace AudioPresets {\r\n  export const telephone: AudioPreset = {\r\n    maxBitrate: 12_000,\r\n  };\r\n  export const speech: AudioPreset = {\r\n    maxBitrate: 20_000,\r\n  };\r\n  export const music: AudioPreset = {\r\n    maxBitrate: 32_000,\r\n  };\r\n  export const musicStereo: AudioPreset = {\r\n    maxBitrate: 48_000,\r\n  };\r\n  export const musicHighQuality: AudioPreset = {\r\n    maxBitrate: 64_000,\r\n  };\r\n  export const musicHighQualityStereo: AudioPreset = {\r\n    maxBitrate: 96_000,\r\n  };\r\n}\r\n\r\n/**\r\n * Sane presets for video resolution/encoding\r\n */\r\nexport const VideoPresets = {\r\n  h90: new VideoPreset(160, 90, 60_000, 15),\r\n  h180: new VideoPreset(320, 180, 120_000, 15),\r\n  h216: new VideoPreset(384, 216, 180_000, 15),\r\n  h360: new VideoPreset(640, 360, 300_000, 20),\r\n  h540: new VideoPreset(960, 540, 600_000, 25),\r\n  h720: new VideoPreset(1280, 720, 1_700_000, 30),\r\n  h1080: new VideoPreset(1920, 1080, 3_000_000, 30),\r\n  h1440: new VideoPreset(2560, 1440, 5_000_000, 30),\r\n  h2160: new VideoPreset(3840, 2160, 8_000_000, 30),\r\n} as const;\r\n\r\n/**\r\n * Four by three presets\r\n */\r\nexport const VideoPresets43 = {\r\n  h120: new VideoPreset(160, 120, 80_000, 15),\r\n  h180: new VideoPreset(240, 180, 100_000, 15),\r\n  h240: new VideoPreset(320, 240, 150_000, 15),\r\n  h360: new VideoPreset(480, 360, 225_000, 20),\r\n  h480: new VideoPreset(640, 480, 300_000, 20),\r\n  h540: new VideoPreset(720, 540, 450_000, 25),\r\n  h720: new VideoPreset(960, 720, 1_500_000, 30),\r\n  h1080: new VideoPreset(1440, 1080, 2_500_000, 30),\r\n  h1440: new VideoPreset(1920, 1440, 3_500_000, 30),\r\n} as const;\r\n\r\nexport const ScreenSharePresets = {\r\n  h360fps3: new VideoPreset(640, 360, 200_000, 3),\r\n  h720fps5: new VideoPreset(1280, 720, 400_000, 5),\r\n  h720fps15: new VideoPreset(1280, 720, 1_000_000, 15),\r\n  h1080fps15: new VideoPreset(1920, 1080, 1_500_000, 15),\r\n  h1080fps30: new VideoPreset(1920, 1080, 3_000_000, 30),\r\n} as const;\r\n","import type { InternalRoomConnectOptions, InternalRoomOptions } from '../options';\r\nimport DefaultReconnectPolicy from './DefaultReconnectPolicy';\r\nimport {\r\n  AudioCaptureOptions,\r\n  AudioPresets,\r\n  ScreenSharePresets,\r\n  TrackPublishDefaults,\r\n  VideoCaptureOptions,\r\n  VideoPresets,\r\n} from './track/options';\r\n\r\nexport const publishDefaults: TrackPublishDefaults = {\r\n  audioBitrate: AudioPresets.music.maxBitrate,\r\n  dtx: true,\r\n  red: true,\r\n  forceStereo: false,\r\n  simulcast: true,\r\n  screenShareEncoding: ScreenSharePresets.h1080fps15.encoding,\r\n  stopMicTrackOnMute: false,\r\n  videoCodec: 'vp8',\r\n  backupCodec: { codec: 'vp8', encoding: VideoPresets.h540.encoding },\r\n} as const;\r\n\r\nexport const audioDefaults: AudioCaptureOptions = {\r\n  autoGainControl: true,\r\n  echoCancellation: true,\r\n  noiseSuppression: true,\r\n};\r\n\r\nexport const videoDefaults: VideoCaptureOptions = {\r\n  resolution: VideoPresets.h720.resolution,\r\n};\r\n\r\nexport const roomOptionDefaults: InternalRoomOptions = {\r\n  adaptiveStream: false,\r\n  dynacast: false,\r\n  stopLocalTrackOnUnpublish: true,\r\n  reconnectPolicy: new DefaultReconnectPolicy(),\r\n  disconnectOnPageLeave: true,\r\n  expWebAudioMix: false,\r\n} as const;\r\n\r\nexport const roomConnectOptionDefaults: InternalRoomConnectOptions = {\r\n  autoSubscribe: true,\r\n  maxRetries: 1,\r\n  peerConnectionTimeout: 15_000,\r\n} as const;\r\n","/**\r\n * Events are the primary way LiveKit notifies your application of changes.\r\n *\r\n * The following are events emitted by [[Room]], listen to room events like\r\n *\r\n * ```typescript\r\n * room.on(RoomEvent.TrackPublished, (track, publication, participant) => {})\r\n * ```\r\n */\r\n\r\nexport enum RoomEvent {\r\n  /**\r\n   * When the connection to the server has been established\r\n   */\r\n  Connected = 'connected',\r\n\r\n  /**\r\n   * When the connection to the server has been interrupted and it's attempting\r\n   * to reconnect.\r\n   */\r\n  Reconnecting = 'reconnecting',\r\n\r\n  /**\r\n   * Fires when a reconnection has been successful.\r\n   */\r\n  Reconnected = 'reconnected',\r\n\r\n  /**\r\n   * When disconnected from room. This fires when room.disconnect() is called or\r\n   * when an unrecoverable connection issue had occured\r\n   */\r\n  Disconnected = 'disconnected',\r\n\r\n  /**\r\n   * Whenever the connection state of the room changes\r\n   *\r\n   * args: ([[ConnectionState]])\r\n   */\r\n  ConnectionStateChanged = 'connectionStateChanged',\r\n\r\n  /**\r\n   * @deprecated StateChanged has been renamed to ConnectionStateChanged\r\n   */\r\n  StateChanged = 'connectionStateChanged',\r\n\r\n  /**\r\n   * When input or output devices on the machine have changed.\r\n   */\r\n  MediaDevicesChanged = 'mediaDevicesChanged',\r\n\r\n  /**\r\n   * When a [[RemoteParticipant]] joins *after* the local\r\n   * participant. It will not emit events for participants that are already\r\n   * in the room\r\n   *\r\n   * args: ([[RemoteParticipant]])\r\n   */\r\n  ParticipantConnected = 'participantConnected',\r\n\r\n  /**\r\n   * When a [[RemoteParticipant]] leaves *after* the local\r\n   * participant has joined.\r\n   *\r\n   * args: ([[RemoteParticipant]])\r\n   */\r\n  ParticipantDisconnected = 'participantDisconnected',\r\n\r\n  /**\r\n   * When a new track is published to room *after* the local\r\n   * participant has joined. It will not fire for tracks that are already published.\r\n   *\r\n   * A track published doesn't mean the participant has subscribed to it. It's\r\n   * simply reflecting the state of the room.\r\n   *\r\n   * args: ([[RemoteTrackPublication]], [[RemoteParticipant]])\r\n   */\r\n  TrackPublished = 'trackPublished',\r\n\r\n  /**\r\n   * The [[LocalParticipant]] has subscribed to a new track. This event will **always**\r\n   * fire as long as new tracks are ready for use.\r\n   *\r\n   * args: ([[RemoteTrack]], [[RemoteTrackPublication]], [[RemoteParticipant]])\r\n   */\r\n  TrackSubscribed = 'trackSubscribed',\r\n\r\n  /**\r\n   * Could not subscribe to a track\r\n   *\r\n   * args: (track sid, [[RemoteParticipant]])\r\n   */\r\n  TrackSubscriptionFailed = 'trackSubscriptionFailed',\r\n\r\n  /**\r\n   * A [[RemoteParticipant]] has unpublished a track\r\n   *\r\n   * args: ([[RemoteTrackPublication]], [[RemoteParticipant]])\r\n   */\r\n  TrackUnpublished = 'trackUnpublished',\r\n\r\n  /**\r\n   * A subscribed track is no longer available. Clients should listen to this\r\n   * event and ensure they detach tracks.\r\n   *\r\n   * args: ([[Track]], [[RemoteTrackPublication]], [[RemoteParticipant]])\r\n   */\r\n  TrackUnsubscribed = 'trackUnsubscribed',\r\n\r\n  /**\r\n   * A track that was muted, fires on both [[RemoteParticipant]]s and [[LocalParticipant]]\r\n   *\r\n   * args: ([[TrackPublication]], [[Participant]])\r\n   */\r\n  TrackMuted = 'trackMuted',\r\n\r\n  /**\r\n   * A track that was unmuted, fires on both [[RemoteParticipant]]s and [[LocalParticipant]]\r\n   *\r\n   * args: ([[TrackPublication]], [[Participant]])\r\n   */\r\n  TrackUnmuted = 'trackUnmuted',\r\n\r\n  /**\r\n   * A local track was published successfully. This event is helpful to know\r\n   * when to update your local UI with the newly published track.\r\n   *\r\n   * args: ([[LocalTrackPublication]], [[LocalParticipant]])\r\n   */\r\n  LocalTrackPublished = 'localTrackPublished',\r\n\r\n  /**\r\n   * A local track was unpublished. This event is helpful to know when to remove\r\n   * the local track from your UI.\r\n   *\r\n   * When a user stops sharing their screen by pressing \"End\" on the browser UI,\r\n   * this event will also fire.\r\n   *\r\n   * args: ([[LocalTrackPublication]], [[LocalParticipant]])\r\n   */\r\n  LocalTrackUnpublished = 'localTrackUnpublished',\r\n\r\n  /**\r\n   * When a local audio track is published the SDK checks whether there is complete silence\r\n   * on that track and emits the LocalAudioSilenceDetected event in that case.\r\n   * This allows for applications to show UI informing users that they might have to\r\n   * reset their audio hardware or check for proper device connectivity.\r\n   */\r\n  LocalAudioSilenceDetected = 'localAudioSilenceDetected',\r\n\r\n  /**\r\n   * Active speakers changed. List of speakers are ordered by their audio level.\r\n   * loudest speakers first. This will include the LocalParticipant too.\r\n   *\r\n   * Speaker updates are sent only to the publishing participant and their subscribers.\r\n   *\r\n   * args: (Array<[[Participant]]>)\r\n   */\r\n  ActiveSpeakersChanged = 'activeSpeakersChanged',\r\n\r\n  /**\r\n   * Participant metadata is a simple way for app-specific state to be pushed to\r\n   * all users.\r\n   * When RoomService.UpdateParticipantMetadata is called to change a participant's\r\n   * state, *all*  participants in the room will fire this event.\r\n   *\r\n   * args: (prevMetadata: string, [[Participant]])\r\n   *\r\n   */\r\n  ParticipantMetadataChanged = 'participantMetadataChanged',\r\n\r\n  /**\r\n   * Participant's display name changed\r\n   *\r\n   * args: (name: string, [[Participant]])\r\n   *\r\n   */\r\n  ParticipantNameChanged = 'participantNameChanged',\r\n\r\n  /**\r\n   * Room metadata is a simple way for app-specific state to be pushed to\r\n   * all users.\r\n   * When RoomService.UpdateRoomMetadata is called to change a room's state,\r\n   * *all*  participants in the room will fire this event.\r\n   *\r\n   * args: (string)\r\n   */\r\n  RoomMetadataChanged = 'roomMetadataChanged',\r\n\r\n  /**\r\n   * Data received from another participant.\r\n   * Data packets provides the ability to use LiveKit to send/receive arbitrary payloads.\r\n   * All participants in the room will receive the messages sent to the room.\r\n   *\r\n   * args: (payload: Uint8Array, participant: [[Participant]], kind: [[DataPacket_Kind]], topic?: string)\r\n   */\r\n  DataReceived = 'dataReceived',\r\n\r\n  /**\r\n   * Connection quality was changed for a Participant. It'll receive updates\r\n   * from the local participant, as well as any [[RemoteParticipant]]s that we are\r\n   * subscribed to.\r\n   *\r\n   * args: (connectionQuality: [[ConnectionQuality]], participant: [[Participant]])\r\n   */\r\n  ConnectionQualityChanged = 'connectionQualityChanged',\r\n\r\n  /**\r\n   * StreamState indicates if a subscribed (remote) track has been paused by the SFU\r\n   * (typically this happens because of subscriber's bandwidth constraints)\r\n   *\r\n   * When bandwidth conditions allow, the track will be resumed automatically.\r\n   * TrackStreamStateChanged will also be emitted when that happens.\r\n   *\r\n   * args: (pub: [[RemoteTrackPublication]], streamState: [[Track.StreamState]],\r\n   *        participant: [[RemoteParticipant]])\r\n   */\r\n  TrackStreamStateChanged = 'trackStreamStateChanged',\r\n\r\n  /**\r\n   * One of subscribed tracks have changed its permissions for the current\r\n   * participant. If permission was revoked, then the track will no longer\r\n   * be subscribed. If permission was granted, a TrackSubscribed event will\r\n   * be emitted.\r\n   *\r\n   * args: (pub: [[RemoteTrackPublication]],\r\n   *        status: [[TrackPublication.SubscriptionStatus]],\r\n   *        participant: [[RemoteParticipant]])\r\n   */\r\n  TrackSubscriptionPermissionChanged = 'trackSubscriptionPermissionChanged',\r\n\r\n  /**\r\n   * One of subscribed tracks have changed its status for the current\r\n   * participant.\r\n   *\r\n   * args: (pub: [[RemoteTrackPublication]],\r\n   *        status: [[TrackPublication.SubscriptionStatus]],\r\n   *        participant: [[RemoteParticipant]])\r\n   */\r\n  TrackSubscriptionStatusChanged = 'trackSubscriptionStatusChanged',\r\n\r\n  /**\r\n   * LiveKit will attempt to autoplay all audio tracks when you attach them to\r\n   * audio elements. However, if that fails, we'll notify you via AudioPlaybackStatusChanged.\r\n   * `Room.canPlayAudio` will indicate if audio playback is permitted.\r\n   */\r\n  AudioPlaybackStatusChanged = 'audioPlaybackChanged',\r\n\r\n  /**\r\n   * When we have encountered an error while attempting to create a track.\r\n   * The errors take place in getUserMedia().\r\n   * Use MediaDeviceFailure.getFailure(error) to get the reason of failure.\r\n   * [[LocalParticipant.lastCameraError]] and [[LocalParticipant.lastMicrophoneError]]\r\n   * will indicate if it had an error while creating the audio or video track respectively.\r\n   *\r\n   * args: (error: Error)\r\n   */\r\n  MediaDevicesError = 'mediaDevicesError',\r\n\r\n  /**\r\n   * A participant's permission has changed. Currently only fired on LocalParticipant.\r\n   * args: (prevPermissions: [[ParticipantPermission]], participant: [[Participant]])\r\n   */\r\n  ParticipantPermissionsChanged = 'participantPermissionsChanged',\r\n\r\n  /**\r\n   * Signal connected, can publish tracks.\r\n   */\r\n  SignalConnected = 'signalConnected',\r\n\r\n  /**\r\n   * Recording of a room has started/stopped. Room.isRecording will be updated too.\r\n   * args: (isRecording: boolean)\r\n   */\r\n  RecordingStatusChanged = 'recordingStatusChanged',\r\n\r\n  /**\r\n   * Emits whenever the current buffer status of a data channel changes\r\n   * args: (isLow: boolean, kind: [[DataPacket_Kind]])\r\n   */\r\n  DCBufferStatusChanged = 'dcBufferStatusChanged',\r\n}\r\n\r\nexport enum ParticipantEvent {\r\n  /**\r\n   * When a new track is published to room *after* the local\r\n   * participant has joined. It will not fire for tracks that are already published.\r\n   *\r\n   * A track published doesn't mean the participant has subscribed to it. It's\r\n   * simply reflecting the state of the room.\r\n   *\r\n   * args: ([[RemoteTrackPublication]])\r\n   */\r\n  TrackPublished = 'trackPublished',\r\n\r\n  /**\r\n   * Successfully subscribed to the [[RemoteParticipant]]'s track.\r\n   * This event will **always** fire as long as new tracks are ready for use.\r\n   *\r\n   * args: ([[RemoteTrack]], [[RemoteTrackPublication]])\r\n   */\r\n  TrackSubscribed = 'trackSubscribed',\r\n\r\n  /**\r\n   * Could not subscribe to a track\r\n   *\r\n   * args: (track sid)\r\n   */\r\n  TrackSubscriptionFailed = 'trackSubscriptionFailed',\r\n\r\n  /**\r\n   * A [[RemoteParticipant]] has unpublished a track\r\n   *\r\n   * args: ([[RemoteTrackPublication]])\r\n   */\r\n  TrackUnpublished = 'trackUnpublished',\r\n\r\n  /**\r\n   * A subscribed track is no longer available. Clients should listen to this\r\n   * event and ensure they detach tracks.\r\n   *\r\n   * args: ([[RemoteTrack]], [[RemoteTrackPublication]])\r\n   */\r\n  TrackUnsubscribed = 'trackUnsubscribed',\r\n\r\n  /**\r\n   * A track that was muted, fires on both [[RemoteParticipant]]s and [[LocalParticipant]]\r\n   *\r\n   * args: ([[TrackPublication]])\r\n   */\r\n  TrackMuted = 'trackMuted',\r\n\r\n  /**\r\n   * A track that was unmuted, fires on both [[RemoteParticipant]]s and [[LocalParticipant]]\r\n   *\r\n   * args: ([[TrackPublication]])\r\n   */\r\n  TrackUnmuted = 'trackUnmuted',\r\n\r\n  /**\r\n   * A local track was published successfully. This event is helpful to know\r\n   * when to update your local UI with the newly published track.\r\n   *\r\n   * args: ([[LocalTrackPublication]])\r\n   */\r\n  LocalTrackPublished = 'localTrackPublished',\r\n\r\n  /**\r\n   * A local track was unpublished. This event is helpful to know when to remove\r\n   * the local track from your UI.\r\n   *\r\n   * When a user stops sharing their screen by pressing \"End\" on the browser UI,\r\n   * this event will also fire.\r\n   *\r\n   * args: ([[LocalTrackPublication]])\r\n   */\r\n  LocalTrackUnpublished = 'localTrackUnpublished',\r\n\r\n  /**\r\n   * Participant metadata is a simple way for app-specific state to be pushed to\r\n   * all users.\r\n   * When RoomService.UpdateParticipantMetadata is called to change a participant's\r\n   * state, *all*  participants in the room will fire this event.\r\n   * To access the current metadata, see [[Participant.metadata]].\r\n   *\r\n   * args: (prevMetadata: string)\r\n   *\r\n   */\r\n  ParticipantMetadataChanged = 'participantMetadataChanged',\r\n\r\n  /**\r\n   * Participant's display name changed\r\n   *\r\n   * args: (name: string, [[Participant]])\r\n   *\r\n   */\r\n  ParticipantNameChanged = 'participantNameChanged',\r\n\r\n  /**\r\n   * Data received from this participant as sender.\r\n   * Data packets provides the ability to use LiveKit to send/receive arbitrary payloads.\r\n   * All participants in the room will receive the messages sent to the room.\r\n   *\r\n   * args: (payload: Uint8Array, kind: [[DataPacket_Kind]])\r\n   */\r\n  DataReceived = 'dataReceived',\r\n\r\n  /**\r\n   * Has speaking status changed for the current participant\r\n   *\r\n   * args: (speaking: boolean)\r\n   */\r\n  IsSpeakingChanged = 'isSpeakingChanged',\r\n\r\n  /**\r\n   * Connection quality was changed for a Participant. It'll receive updates\r\n   * from the local participant, as well as any [[RemoteParticipant]]s that we are\r\n   * subscribed to.\r\n   *\r\n   * args: (connectionQuality: [[ConnectionQuality]])\r\n   */\r\n  ConnectionQualityChanged = 'connectionQualityChanged',\r\n\r\n  /**\r\n   * StreamState indicates if a subscribed track has been paused by the SFU\r\n   * (typically this happens because of subscriber's bandwidth constraints)\r\n   *\r\n   * When bandwidth conditions allow, the track will be resumed automatically.\r\n   * TrackStreamStateChanged will also be emitted when that happens.\r\n   *\r\n   * args: (pub: [[RemoteTrackPublication]], streamState: [[Track.StreamState]])\r\n   */\r\n  TrackStreamStateChanged = 'trackStreamStateChanged',\r\n\r\n  /**\r\n   * One of subscribed tracks have changed its permissions for the current\r\n   * participant. If permission was revoked, then the track will no longer\r\n   * be subscribed. If permission was granted, a TrackSubscribed event will\r\n   * be emitted.\r\n   *\r\n   * args: (pub: [[RemoteTrackPublication]],\r\n   *        status: [[TrackPublication.SubscriptionStatus]])\r\n   */\r\n  TrackSubscriptionPermissionChanged = 'trackSubscriptionPermissionChanged',\r\n\r\n  /**\r\n   * One of the remote participants publications has changed its subscription status.\r\n   *\r\n   */\r\n  TrackSubscriptionStatusChanged = 'trackSubscriptionStatusChanged',\r\n\r\n  // fired only on LocalParticipant\r\n  /** @internal */\r\n  MediaDevicesError = 'mediaDevicesError',\r\n\r\n  /**\r\n   * A participant's permission has changed. Currently only fired on LocalParticipant.\r\n   * args: (prevPermissions: [[ParticipantPermission]])\r\n   */\r\n  ParticipantPermissionsChanged = 'participantPermissionsChanged',\r\n}\r\n\r\n/** @internal */\r\nexport enum EngineEvent {\r\n  TransportsCreated = 'transportsCreated',\r\n  Connected = 'connected',\r\n  Disconnected = 'disconnected',\r\n  Resuming = 'resuming',\r\n  Resumed = 'resumed',\r\n  Restarting = 'restarting',\r\n  Restarted = 'restarted',\r\n  SignalResumed = 'signalResumed',\r\n  SignalRestarted = 'signalRestarted',\r\n  Closing = 'closing',\r\n  MediaTrackAdded = 'mediaTrackAdded',\r\n  ActiveSpeakersUpdate = 'activeSpeakersUpdate',\r\n  DataPacketReceived = 'dataPacketReceived',\r\n  DCBufferStatusChanged = 'dcBufferStatusChanged',\r\n}\r\n\r\nexport enum TrackEvent {\r\n  Message = 'message',\r\n  Muted = 'muted',\r\n  Unmuted = 'unmuted',\r\n  /**\r\n   * Only fires on LocalTracks\r\n   */\r\n  Restarted = 'restarted',\r\n  Ended = 'ended',\r\n  Subscribed = 'subscribed',\r\n  Unsubscribed = 'unsubscribed',\r\n  /** @internal */\r\n  UpdateSettings = 'updateSettings',\r\n  /** @internal */\r\n  UpdateSubscription = 'updateSubscription',\r\n  /** @internal */\r\n  AudioPlaybackStarted = 'audioPlaybackStarted',\r\n  /** @internal */\r\n  AudioPlaybackFailed = 'audioPlaybackFailed',\r\n  /**\r\n   * @internal\r\n   * Only fires on LocalAudioTrack instances\r\n   */\r\n  AudioSilenceDetected = 'audioSilenceDetected',\r\n  /** @internal */\r\n  VisibilityChanged = 'visibilityChanged',\r\n  /** @internal */\r\n  VideoDimensionsChanged = 'videoDimensionsChanged',\r\n  /** @internal */\r\n  ElementAttached = 'elementAttached',\r\n  /** @internal */\r\n  ElementDetached = 'elementDetached',\r\n  /**\r\n   * @internal\r\n   * Only fires on LocalTracks\r\n   */\r\n  UpstreamPaused = 'upstreamPaused',\r\n  /**\r\n   * @internal\r\n   * Only fires on LocalTracks\r\n   */\r\n  UpstreamResumed = 'upstreamResumed',\r\n  /**\r\n   * @internal\r\n   * Fires on RemoteTrackPublication\r\n   */\r\n  SubscriptionPermissionChanged = 'subscriptionPermissionChanged',\r\n  /**\r\n   * Fires on RemoteTrackPublication\r\n   */\r\n  SubscriptionStatusChanged = 'subscriptionStatusChanged',\r\n}\r\n","import { EventEmitter } from 'events';\r\nimport type TypedEventEmitter from 'typed-emitter';\r\nimport type { SignalClient } from '../../api/SignalClient';\r\nimport log from '../../logger';\r\nimport { TrackSource, TrackType } from '../../proto/livekit_models';\r\nimport { StreamState as ProtoStreamState } from '../../proto/livekit_rtc';\r\nimport { TrackEvent } from '../events';\r\nimport { isFireFox, isSafari, isWeb } from '../utils';\r\n\r\nconst BACKGROUND_REACTION_DELAY = 5000;\r\n\r\n// keep old audio elements when detached, we would re-use them since on iOS\r\n// Safari tracks which audio elements have been \"blessed\" by the user.\r\nconst recycledElements: Array<HTMLAudioElement> = [];\r\n\r\nexport abstract class Track extends (EventEmitter as new () => TypedEventEmitter<TrackEventCallbacks>) {\r\n  kind: Track.Kind;\r\n\r\n  attachedElements: HTMLMediaElement[] = [];\r\n\r\n  isMuted: boolean = false;\r\n\r\n  source: Track.Source;\r\n\r\n  /**\r\n   * sid is set after track is published to server, or if it's a remote track\r\n   */\r\n  sid?: Track.SID;\r\n\r\n  /**\r\n   * @internal\r\n   */\r\n  mediaStream?: MediaStream;\r\n\r\n  /**\r\n   * indicates current state of stream, it'll indicate `paused` if the track\r\n   * has been paused by congestion controller\r\n   */\r\n  streamState: Track.StreamState = Track.StreamState.Active;\r\n\r\n  protected _mediaStreamTrack: MediaStreamTrack;\r\n\r\n  protected _mediaStreamID: string;\r\n\r\n  protected isInBackground: boolean = false;\r\n\r\n  private backgroundTimeout: ReturnType<typeof setTimeout> | undefined;\r\n\r\n  protected _currentBitrate: number = 0;\r\n\r\n  protected monitorInterval?: ReturnType<typeof setInterval>;\r\n\r\n  protected constructor(mediaTrack: MediaStreamTrack, kind: Track.Kind) {\r\n    super();\r\n    this.setMaxListeners(100);\r\n    this.kind = kind;\r\n    this._mediaStreamTrack = mediaTrack;\r\n    this._mediaStreamID = mediaTrack.id;\r\n    this.source = Track.Source.Unknown;\r\n  }\r\n\r\n  /** current receive bits per second */\r\n  get currentBitrate(): number {\r\n    return this._currentBitrate;\r\n  }\r\n\r\n  get mediaStreamTrack() {\r\n    return this._mediaStreamTrack;\r\n  }\r\n\r\n  /**\r\n   * @internal\r\n   * used for keep mediaStream's first id, since it's id might change\r\n   * if we disable/enable a track\r\n   */\r\n  get mediaStreamID(): string {\r\n    return this._mediaStreamID;\r\n  }\r\n\r\n  /**\r\n   * creates a new HTMLAudioElement or HTMLVideoElement, attaches to it, and returns it\r\n   */\r\n  attach(): HTMLMediaElement;\r\n\r\n  /**\r\n   * attaches track to an existing HTMLAudioElement or HTMLVideoElement\r\n   */\r\n  attach(element: HTMLMediaElement): HTMLMediaElement;\r\n  attach(element?: HTMLMediaElement): HTMLMediaElement {\r\n    let elementType = 'audio';\r\n    if (this.kind === Track.Kind.Video) {\r\n      elementType = 'video';\r\n    }\r\n    if (this.attachedElements.length === 0 && Track.Kind.Video) {\r\n      this.addAppVisibilityListener();\r\n    }\r\n    if (!element) {\r\n      if (elementType === 'audio') {\r\n        recycledElements.forEach((e) => {\r\n          if (e.parentElement === null && !element) {\r\n            element = e;\r\n          }\r\n        });\r\n        if (element) {\r\n          // remove it from pool\r\n          recycledElements.splice(recycledElements.indexOf(element), 1);\r\n        }\r\n      }\r\n      if (!element) {\r\n        element = <HTMLMediaElement>document.createElement(elementType);\r\n      }\r\n    }\r\n\r\n    if (!this.attachedElements.includes(element)) {\r\n      this.attachedElements.push(element);\r\n    }\r\n\r\n    // even if we believe it's already attached to the element, it's possible\r\n    // the element's srcObject was set to something else out of band.\r\n    // we'll want to re-attach it in that case\r\n    attachToElement(this._mediaStreamTrack, element);\r\n\r\n    // handle auto playback failures\r\n    const allMediaStreamTracks = (element.srcObject as MediaStream).getTracks();\r\n    if (allMediaStreamTracks.some((tr) => tr.kind === 'audio')) {\r\n      // manually play audio to detect audio playback status\r\n      element\r\n        .play()\r\n        .then(() => {\r\n          this.emit(TrackEvent.AudioPlaybackStarted);\r\n        })\r\n        .catch((e) => {\r\n          if (e.name === 'NotAllowedError') {\r\n            this.emit(TrackEvent.AudioPlaybackFailed, e);\r\n          } else {\r\n            log.warn('could not playback audio', e);\r\n          }\r\n          // If audio playback isn't allowed make sure we still play back the video\r\n          if (\r\n            element &&\r\n            allMediaStreamTracks.some((tr) => tr.kind === 'video') &&\r\n            e.name === 'NotAllowedError'\r\n          ) {\r\n            element.muted = true;\r\n            element.play().catch(() => {\r\n              // catch for Safari, exceeded options at this point to automatically play the media element\r\n            });\r\n          }\r\n        });\r\n    }\r\n\r\n    this.emit(TrackEvent.ElementAttached, element);\r\n    return element;\r\n  }\r\n\r\n  /**\r\n   * Detaches from all attached elements\r\n   */\r\n  detach(): HTMLMediaElement[];\r\n\r\n  /**\r\n   * Detach from a single element\r\n   * @param element\r\n   */\r\n  detach(element: HTMLMediaElement): HTMLMediaElement;\r\n  detach(element?: HTMLMediaElement): HTMLMediaElement | HTMLMediaElement[] {\r\n    try {\r\n      // detach from a single element\r\n      if (element) {\r\n        detachTrack(this._mediaStreamTrack, element);\r\n        const idx = this.attachedElements.indexOf(element);\r\n        if (idx >= 0) {\r\n          this.attachedElements.splice(idx, 1);\r\n          this.recycleElement(element);\r\n          this.emit(TrackEvent.ElementDetached, element);\r\n        }\r\n        return element;\r\n      }\r\n\r\n      const detached: HTMLMediaElement[] = [];\r\n      this.attachedElements.forEach((elm) => {\r\n        detachTrack(this._mediaStreamTrack, elm);\r\n        detached.push(elm);\r\n        this.recycleElement(elm);\r\n        this.emit(TrackEvent.ElementDetached, elm);\r\n      });\r\n\r\n      // remove all tracks\r\n      this.attachedElements = [];\r\n      return detached;\r\n    } finally {\r\n      if (this.attachedElements.length === 0) {\r\n        this.removeAppVisibilityListener();\r\n      }\r\n    }\r\n  }\r\n\r\n  stop() {\r\n    this.stopMonitor();\r\n    this._mediaStreamTrack.stop();\r\n  }\r\n\r\n  protected enable() {\r\n    this._mediaStreamTrack.enabled = true;\r\n  }\r\n\r\n  protected disable() {\r\n    this._mediaStreamTrack.enabled = false;\r\n  }\r\n\r\n  /* @internal */\r\n  abstract startMonitor(signalClient?: SignalClient): void;\r\n\r\n  /* @internal */\r\n  stopMonitor() {\r\n    if (this.monitorInterval) {\r\n      clearInterval(this.monitorInterval);\r\n    }\r\n  }\r\n\r\n  private recycleElement(element: HTMLMediaElement) {\r\n    if (element instanceof HTMLAudioElement) {\r\n      // we only need to re-use a single element\r\n      let shouldCache = true;\r\n      element.pause();\r\n      recycledElements.forEach((e) => {\r\n        if (!e.parentElement) {\r\n          shouldCache = false;\r\n        }\r\n      });\r\n      if (shouldCache) {\r\n        recycledElements.push(element);\r\n      }\r\n    }\r\n  }\r\n\r\n  protected appVisibilityChangedListener = () => {\r\n    if (this.backgroundTimeout) {\r\n      clearTimeout(this.backgroundTimeout);\r\n    }\r\n    // delay app visibility update if it goes to hidden\r\n    // update immediately if it comes back to focus\r\n    if (document.visibilityState === 'hidden') {\r\n      this.backgroundTimeout = setTimeout(\r\n        () => this.handleAppVisibilityChanged(),\r\n        BACKGROUND_REACTION_DELAY,\r\n      );\r\n    } else {\r\n      this.handleAppVisibilityChanged();\r\n    }\r\n  };\r\n\r\n  protected async handleAppVisibilityChanged() {\r\n    this.isInBackground = document.visibilityState === 'hidden';\r\n  }\r\n\r\n  protected addAppVisibilityListener() {\r\n    if (isWeb()) {\r\n      this.isInBackground = document.visibilityState === 'hidden';\r\n      document.addEventListener('visibilitychange', this.appVisibilityChangedListener);\r\n    } else {\r\n      this.isInBackground = false;\r\n    }\r\n  }\r\n\r\n  protected removeAppVisibilityListener() {\r\n    if (isWeb()) {\r\n      document.removeEventListener('visibilitychange', this.appVisibilityChangedListener);\r\n    }\r\n  }\r\n}\r\n\r\n/** @internal */\r\nexport function attachToElement(track: MediaStreamTrack, element: HTMLMediaElement) {\r\n  let mediaStream: MediaStream;\r\n  if (element.srcObject instanceof MediaStream) {\r\n    mediaStream = element.srcObject;\r\n  } else {\r\n    mediaStream = new MediaStream();\r\n  }\r\n\r\n  // check if track matches existing track\r\n  let existingTracks: MediaStreamTrack[];\r\n  if (track.kind === 'audio') {\r\n    existingTracks = mediaStream.getAudioTracks();\r\n  } else {\r\n    existingTracks = mediaStream.getVideoTracks();\r\n  }\r\n  if (!existingTracks.includes(track)) {\r\n    existingTracks.forEach((et) => {\r\n      mediaStream.removeTrack(et);\r\n    });\r\n    mediaStream.addTrack(track);\r\n  }\r\n\r\n  element.autoplay = true;\r\n  // In case there are no audio tracks present on the mediastream, we set the element as muted to ensure autoplay works\r\n  element.muted = mediaStream.getAudioTracks().length === 0;\r\n  if (element instanceof HTMLVideoElement) {\r\n    element.playsInline = true;\r\n  }\r\n\r\n  // avoid flicker\r\n  if (element.srcObject !== mediaStream) {\r\n    element.srcObject = mediaStream;\r\n    if ((isSafari() || isFireFox()) && element instanceof HTMLVideoElement) {\r\n      // Firefox also has a timing issue where video doesn't actually get attached unless\r\n      // performed out-of-band\r\n      // Safari 15 has a bug where in certain layouts, video element renders\r\n      // black until the page is resized or other changes take place.\r\n      // Resetting the src triggers it to render.\r\n      // https://developer.apple.com/forums/thread/690523\r\n      setTimeout(() => {\r\n        element.srcObject = mediaStream;\r\n        // Safari 15 sometimes fails to start a video\r\n        // when the window is backgrounded before the first frame is drawn\r\n        // manually calling play here seems to fix that\r\n        element.play().catch(() => {\r\n          /* do nothing */\r\n        });\r\n      }, 0);\r\n    }\r\n  }\r\n}\r\n\r\n/** @internal */\r\nexport function detachTrack(track: MediaStreamTrack, element: HTMLMediaElement) {\r\n  if (element.srcObject instanceof MediaStream) {\r\n    const mediaStream = element.srcObject;\r\n    mediaStream.removeTrack(track);\r\n    if (mediaStream.getTracks().length > 0) {\r\n      element.srcObject = mediaStream;\r\n    } else {\r\n      element.srcObject = null;\r\n    }\r\n  }\r\n}\r\n\r\nexport namespace Track {\r\n  export enum Kind {\r\n    Audio = 'audio',\r\n    Video = 'video',\r\n    Unknown = 'unknown',\r\n  }\r\n  export type SID = string;\r\n  export enum Source {\r\n    Camera = 'camera',\r\n    Microphone = 'microphone',\r\n    ScreenShare = 'screen_share',\r\n    ScreenShareAudio = 'screen_share_audio',\r\n    Unknown = 'unknown',\r\n  }\r\n\r\n  export enum StreamState {\r\n    Active = 'active',\r\n    Paused = 'paused',\r\n    Unknown = 'unknown',\r\n  }\r\n\r\n  export interface Dimensions {\r\n    width: number;\r\n    height: number;\r\n  }\r\n\r\n  /** @internal */\r\n  export function kindToProto(k: Kind): TrackType {\r\n    switch (k) {\r\n      case Kind.Audio:\r\n        return TrackType.AUDIO;\r\n      case Kind.Video:\r\n        return TrackType.VIDEO;\r\n      default:\r\n        return TrackType.UNRECOGNIZED;\r\n    }\r\n  }\r\n\r\n  /** @internal */\r\n  export function kindFromProto(t: TrackType): Kind | undefined {\r\n    switch (t) {\r\n      case TrackType.AUDIO:\r\n        return Kind.Audio;\r\n      case TrackType.VIDEO:\r\n        return Kind.Video;\r\n      default:\r\n        return Kind.Unknown;\r\n    }\r\n  }\r\n\r\n  /** @internal */\r\n  export function sourceToProto(s: Source): TrackSource {\r\n    switch (s) {\r\n      case Source.Camera:\r\n        return TrackSource.CAMERA;\r\n      case Source.Microphone:\r\n        return TrackSource.MICROPHONE;\r\n      case Source.ScreenShare:\r\n        return TrackSource.SCREEN_SHARE;\r\n      case Source.ScreenShareAudio:\r\n        return TrackSource.SCREEN_SHARE_AUDIO;\r\n      default:\r\n        return TrackSource.UNRECOGNIZED;\r\n    }\r\n  }\r\n\r\n  /** @internal */\r\n  export function sourceFromProto(s: TrackSource): Source {\r\n    switch (s) {\r\n      case TrackSource.CAMERA:\r\n        return Source.Camera;\r\n      case TrackSource.MICROPHONE:\r\n        return Source.Microphone;\r\n      case TrackSource.SCREEN_SHARE:\r\n        return Source.ScreenShare;\r\n      case TrackSource.SCREEN_SHARE_AUDIO:\r\n        return Source.ScreenShareAudio;\r\n      default:\r\n        return Source.Unknown;\r\n    }\r\n  }\r\n\r\n  /** @internal */\r\n  export function streamStateFromProto(s: ProtoStreamState): StreamState {\r\n    switch (s) {\r\n      case ProtoStreamState.ACTIVE:\r\n        return StreamState.Active;\r\n      case ProtoStreamState.PAUSED:\r\n        return StreamState.Paused;\r\n      default:\r\n        return StreamState.Unknown;\r\n    }\r\n  }\r\n}\r\n\r\nexport type TrackEventCallbacks = {\r\n  message: () => void;\r\n  muted: (track?: any) => void;\r\n  unmuted: (track?: any) => void;\r\n  restarted: (track?: any) => void;\r\n  ended: (track?: any) => void;\r\n  updateSettings: () => void;\r\n  updateSubscription: () => void;\r\n  audioPlaybackStarted: () => void;\r\n  audioPlaybackFailed: (error: Error) => void;\r\n  audioSilenceDetected: () => void;\r\n  visibilityChanged: (visible: boolean, track?: any) => void;\r\n  videoDimensionsChanged: (dimensions: Track.Dimensions, track?: any) => void;\r\n  elementAttached: (element: HTMLMediaElement) => void;\r\n  elementDetached: (element: HTMLMediaElement) => void;\r\n  upstreamPaused: (track: any) => void;\r\n  upstreamResumed: (track: any) => void;\r\n};\r\n","import { EventEmitter } from 'events';\r\nimport type TypedEventEmitter from 'typed-emitter';\r\nimport { SignalClient, SignalOptions } from '../api/SignalClient';\r\nimport log from '../logger';\r\nimport type { InternalRoomOptions } from '../options';\r\nimport {\r\n  ClientConfigSetting,\r\n  ClientConfiguration,\r\n  DataPacket,\r\n  DataPacket_Kind,\r\n  DisconnectReason,\r\n  ReconnectReason,\r\n  SpeakerInfo,\r\n  TrackInfo,\r\n  UserPacket,\r\n} from '../proto/livekit_models';\r\nimport {\r\n  AddTrackRequest,\r\n  JoinResponse,\r\n  LeaveRequest,\r\n  ReconnectResponse,\r\n  SignalTarget,\r\n  TrackPublishedResponse,\r\n} from '../proto/livekit_rtc';\r\nimport PCTransport, { PCEvents } from './PCTransport';\r\nimport type { ReconnectContext, ReconnectPolicy } from './ReconnectPolicy';\r\nimport { RegionUrlProvider } from './RegionUrlProvider';\r\nimport { roomConnectOptionDefaults } from './defaults';\r\nimport {\r\n  ConnectionError,\r\n  ConnectionErrorReason,\r\n  NegotiationError,\r\n  TrackInvalidError,\r\n  UnexpectedConnectionState,\r\n} from './errors';\r\nimport { EngineEvent } from './events';\r\nimport CriticalTimers from './timers';\r\nimport type LocalTrack from './track/LocalTrack';\r\nimport type LocalVideoTrack from './track/LocalVideoTrack';\r\nimport type { SimulcastTrackInfo } from './track/LocalVideoTrack';\r\nimport { Track } from './track/Track';\r\nimport type { TrackPublishOptions, VideoCodec } from './track/options';\r\nimport {\r\n  Mutex,\r\n  isCloud,\r\n  isWeb,\r\n  sleep,\r\n  supportsAddTrack,\r\n  supportsSetCodecPreferences,\r\n  supportsTransceiver,\r\n} from './utils';\r\n\r\nconst lossyDataChannel = '_lossy';\r\nconst reliableDataChannel = '_reliable';\r\nconst minReconnectWait = 2 * 1000;\r\nconst leaveReconnect = 'leave-reconnect';\r\n\r\nenum PCState {\r\n  New,\r\n  Connected,\r\n  Disconnected,\r\n  Reconnecting,\r\n  Closed,\r\n}\r\n\r\n/** @internal */\r\nexport default class RTCEngine extends (EventEmitter as new () => TypedEventEmitter<EngineEventCallbacks>) {\r\n  publisher?: PCTransport;\r\n\r\n  subscriber?: PCTransport;\r\n\r\n  client: SignalClient;\r\n\r\n  rtcConfig: RTCConfiguration = {};\r\n\r\n  peerConnectionTimeout: number = roomConnectOptionDefaults.peerConnectionTimeout;\r\n\r\n  fullReconnectOnNext: boolean = false;\r\n\r\n  get isClosed() {\r\n    return this._isClosed;\r\n  }\r\n\r\n  private lossyDC?: RTCDataChannel;\r\n\r\n  // @ts-ignore noUnusedLocals\r\n  private lossyDCSub?: RTCDataChannel;\r\n\r\n  private reliableDC?: RTCDataChannel;\r\n\r\n  private dcBufferStatus: Map<DataPacket_Kind, boolean>;\r\n\r\n  // @ts-ignore noUnusedLocals\r\n  private reliableDCSub?: RTCDataChannel;\r\n\r\n  private subscriberPrimary: boolean = false;\r\n\r\n  private primaryPC?: RTCPeerConnection;\r\n\r\n  private pcState: PCState = PCState.New;\r\n\r\n  private _isClosed: boolean = true;\r\n\r\n  private pendingTrackResolvers: {\r\n    [key: string]: { resolve: (info: TrackInfo) => void; reject: () => void };\r\n  } = {};\r\n\r\n  // true if publisher connection has already been established.\r\n  // this is helpful to know if we need to restart ICE on the publisher connection\r\n  private hasPublished: boolean = false;\r\n\r\n  // keep join info around for reconnect\r\n  private url?: string;\r\n\r\n  private token?: string;\r\n\r\n  private signalOpts?: SignalOptions;\r\n\r\n  private reconnectAttempts: number = 0;\r\n\r\n  private reconnectStart: number = 0;\r\n\r\n  private clientConfiguration?: ClientConfiguration;\r\n\r\n  private attemptingReconnect: boolean = false;\r\n\r\n  private reconnectPolicy: ReconnectPolicy;\r\n\r\n  private reconnectTimeout?: ReturnType<typeof setTimeout>;\r\n\r\n  private participantSid?: string;\r\n\r\n  /** keeps track of how often an initial join connection has been tried */\r\n  private joinAttempts: number = 0;\r\n\r\n  /** specifies how often an initial join connection is allowed to retry */\r\n  private maxJoinAttempts: number = 1;\r\n\r\n  private closingLock: Mutex;\r\n\r\n  private dataProcessLock: Mutex;\r\n\r\n  private shouldFailNext: boolean = false;\r\n\r\n  private regionUrlProvider?: RegionUrlProvider;\r\n\r\n  constructor(private options: InternalRoomOptions) {\r\n    super();\r\n    this.client = new SignalClient();\r\n    this.client.signalLatency = this.options.expSignalLatency;\r\n    this.reconnectPolicy = this.options.reconnectPolicy;\r\n    this.registerOnLineListener();\r\n    this.closingLock = new Mutex();\r\n    this.dataProcessLock = new Mutex();\r\n    this.dcBufferStatus = new Map([\r\n      [DataPacket_Kind.LOSSY, true],\r\n      [DataPacket_Kind.RELIABLE, true],\r\n    ]);\r\n  }\r\n\r\n  async join(\r\n    url: string,\r\n    token: string,\r\n    opts: SignalOptions,\r\n    abortSignal?: AbortSignal,\r\n  ): Promise<JoinResponse> {\r\n    this.url = url;\r\n    this.token = token;\r\n    this.signalOpts = opts;\r\n    try {\r\n      this.joinAttempts += 1;\r\n      const joinResponse = await this.client.join(url, token, opts, abortSignal);\r\n      this._isClosed = false;\r\n\r\n      this.subscriberPrimary = joinResponse.subscriberPrimary;\r\n      if (!this.publisher) {\r\n        this.configure(joinResponse);\r\n      }\r\n\r\n      // create offer\r\n      if (!this.subscriberPrimary) {\r\n        this.negotiate();\r\n      }\r\n      this.clientConfiguration = joinResponse.clientConfiguration;\r\n\r\n      return joinResponse;\r\n    } catch (e) {\r\n      if (e instanceof ConnectionError) {\r\n        if (e.reason === ConnectionErrorReason.ServerUnreachable) {\r\n          log.warn(\r\n            `Couldn't connect to server, attempt ${this.joinAttempts} of ${this.maxJoinAttempts}`,\r\n          );\r\n          if (this.joinAttempts < this.maxJoinAttempts) {\r\n            return this.join(url, token, opts, abortSignal);\r\n          }\r\n        }\r\n      }\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  async close() {\r\n    const unlock = await this.closingLock.lock();\r\n    if (this.isClosed) {\r\n      unlock();\r\n      return;\r\n    }\r\n    try {\r\n      this._isClosed = true;\r\n      this.emit(EngineEvent.Closing);\r\n      this.removeAllListeners();\r\n      this.deregisterOnLineListener();\r\n      this.clearPendingReconnect();\r\n      if (this.publisher && this.publisher.pc.signalingState !== 'closed') {\r\n        this.publisher.pc.getSenders().forEach((sender) => {\r\n          try {\r\n            // TODO: react-native-webrtc doesn't have removeTrack yet.\r\n            if (this.publisher?.pc.removeTrack) {\r\n              this.publisher?.pc.removeTrack(sender);\r\n            }\r\n          } catch (e) {\r\n            log.warn('could not removeTrack', { error: e });\r\n          }\r\n        });\r\n        this.publisher.close();\r\n        this.publisher = undefined;\r\n      }\r\n      if (this.subscriber) {\r\n        this.subscriber.close();\r\n        this.subscriber = undefined;\r\n      }\r\n      await this.client.close();\r\n    } finally {\r\n      unlock();\r\n    }\r\n  }\r\n\r\n  addTrack(req: AddTrackRequest): Promise<TrackInfo> {\r\n    if (this.pendingTrackResolvers[req.cid]) {\r\n      throw new TrackInvalidError('a track with the same ID has already been published');\r\n    }\r\n    return new Promise<TrackInfo>((resolve, reject) => {\r\n      const publicationTimeout = setTimeout(() => {\r\n        delete this.pendingTrackResolvers[req.cid];\r\n        reject(\r\n          new ConnectionError('publication of local track timed out, no response from server'),\r\n        );\r\n      }, 10_000);\r\n      this.pendingTrackResolvers[req.cid] = {\r\n        resolve: (info: TrackInfo) => {\r\n          clearTimeout(publicationTimeout);\r\n          resolve(info);\r\n        },\r\n        reject: () => {\r\n          clearTimeout(publicationTimeout);\r\n          reject(new Error('Cancelled publication by calling unpublish'));\r\n        },\r\n      };\r\n      this.client.sendAddTrack(req);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Removes sender from PeerConnection, returning true if it was removed successfully\r\n   * and a negotiation is necessary\r\n   * @param sender\r\n   * @returns\r\n   */\r\n  removeTrack(sender: RTCRtpSender): boolean {\r\n    if (sender.track && this.pendingTrackResolvers[sender.track.id]) {\r\n      const { reject } = this.pendingTrackResolvers[sender.track.id];\r\n      if (reject) {\r\n        reject();\r\n      }\r\n      delete this.pendingTrackResolvers[sender.track.id];\r\n    }\r\n    try {\r\n      this.publisher?.pc.removeTrack(sender);\r\n      return true;\r\n    } catch (e: unknown) {\r\n      log.warn('failed to remove track', { error: e, method: 'removeTrack' });\r\n    }\r\n    return false;\r\n  }\r\n\r\n  updateMuteStatus(trackSid: string, muted: boolean) {\r\n    this.client.sendMuteTrack(trackSid, muted);\r\n  }\r\n\r\n  get dataSubscriberReadyState(): string | undefined {\r\n    return this.reliableDCSub?.readyState;\r\n  }\r\n\r\n  async getConnectedServerAddress(): Promise<string | undefined> {\r\n    if (this.primaryPC === undefined) {\r\n      return undefined;\r\n    }\r\n    return getConnectedAddress(this.primaryPC);\r\n  }\r\n\r\n  private configure(joinResponse: JoinResponse) {\r\n    // already configured\r\n    if (this.publisher || this.subscriber) {\r\n      return;\r\n    }\r\n\r\n    this.participantSid = joinResponse.participant?.sid;\r\n\r\n    const rtcConfig = this.makeRTCConfiguration(joinResponse);\r\n\r\n    this.publisher = new PCTransport(rtcConfig);\r\n    this.subscriber = new PCTransport(rtcConfig);\r\n\r\n    this.emit(EngineEvent.TransportsCreated, this.publisher, this.subscriber);\r\n\r\n    this.publisher.pc.onicecandidate = (ev) => {\r\n      if (!ev.candidate) return;\r\n      log.trace('adding ICE candidate for peer', ev.candidate);\r\n      this.client.sendIceCandidate(ev.candidate, SignalTarget.PUBLISHER);\r\n    };\r\n\r\n    this.subscriber.pc.onicecandidate = (ev) => {\r\n      if (!ev.candidate) return;\r\n      this.client.sendIceCandidate(ev.candidate, SignalTarget.SUBSCRIBER);\r\n    };\r\n\r\n    this.publisher.onOffer = (offer) => {\r\n      this.client.sendOffer(offer);\r\n    };\r\n\r\n    let primaryPC = this.publisher.pc;\r\n    let secondaryPC = this.subscriber.pc;\r\n    let subscriberPrimary = joinResponse.subscriberPrimary;\r\n    if (subscriberPrimary) {\r\n      primaryPC = this.subscriber.pc;\r\n      secondaryPC = this.publisher.pc;\r\n      // in subscriber primary mode, server side opens sub data channels.\r\n      this.subscriber.pc.ondatachannel = this.handleDataChannel;\r\n    }\r\n    this.primaryPC = primaryPC;\r\n    primaryPC.onconnectionstatechange = async () => {\r\n      log.debug(`primary PC state changed ${primaryPC.connectionState}`);\r\n      if (primaryPC.connectionState === 'connected') {\r\n        const shouldEmit = this.pcState === PCState.New;\r\n        this.pcState = PCState.Connected;\r\n        if (shouldEmit) {\r\n          this.emit(EngineEvent.Connected, joinResponse);\r\n        }\r\n      } else if (primaryPC.connectionState === 'failed') {\r\n        // on Safari, PeerConnection will switch to 'disconnected' during renegotiation\r\n        if (this.pcState === PCState.Connected) {\r\n          this.pcState = PCState.Disconnected;\r\n\r\n          this.handleDisconnect(\r\n            'primary peerconnection',\r\n            subscriberPrimary\r\n              ? ReconnectReason.RR_SUBSCRIBER_FAILED\r\n              : ReconnectReason.RR_PUBLISHER_FAILED,\r\n          );\r\n        }\r\n      }\r\n    };\r\n    secondaryPC.onconnectionstatechange = async () => {\r\n      log.debug(`secondary PC state changed ${secondaryPC.connectionState}`);\r\n      // also reconnect if secondary peerconnection fails\r\n      if (secondaryPC.connectionState === 'failed') {\r\n        this.handleDisconnect(\r\n          'secondary peerconnection',\r\n          subscriberPrimary\r\n            ? ReconnectReason.RR_PUBLISHER_FAILED\r\n            : ReconnectReason.RR_SUBSCRIBER_FAILED,\r\n        );\r\n      }\r\n    };\r\n\r\n    this.subscriber.pc.ontrack = (ev: RTCTrackEvent) => {\r\n      this.emit(EngineEvent.MediaTrackAdded, ev.track, ev.streams[0], ev.receiver);\r\n    };\r\n\r\n    this.createDataChannels();\r\n\r\n    // configure signaling client\r\n    this.client.onAnswer = async (sd) => {\r\n      if (!this.publisher) {\r\n        return;\r\n      }\r\n      log.debug('received server answer', {\r\n        RTCSdpType: sd.type,\r\n        signalingState: this.publisher.pc.signalingState,\r\n      });\r\n      await this.publisher.setRemoteDescription(sd);\r\n    };\r\n\r\n    // add candidate on trickle\r\n    this.client.onTrickle = (candidate, target) => {\r\n      if (!this.publisher || !this.subscriber) {\r\n        return;\r\n      }\r\n      log.trace('got ICE candidate from peer', { candidate, target });\r\n      if (target === SignalTarget.PUBLISHER) {\r\n        this.publisher.addIceCandidate(candidate);\r\n      } else {\r\n        this.subscriber.addIceCandidate(candidate);\r\n      }\r\n    };\r\n\r\n    // when server creates an offer for the client\r\n    this.client.onOffer = async (sd) => {\r\n      if (!this.subscriber) {\r\n        return;\r\n      }\r\n      log.debug('received server offer', {\r\n        RTCSdpType: sd.type,\r\n        signalingState: this.subscriber.pc.signalingState,\r\n      });\r\n      await this.subscriber.setRemoteDescription(sd);\r\n\r\n      // answer the offer\r\n      const answer = await this.subscriber.createAndSetAnswer();\r\n      this.client.sendAnswer(answer);\r\n    };\r\n\r\n    this.client.onLocalTrackPublished = (res: TrackPublishedResponse) => {\r\n      log.debug('received trackPublishedResponse', res);\r\n      const { resolve } = this.pendingTrackResolvers[res.cid];\r\n      if (!resolve) {\r\n        log.error(`missing track resolver for ${res.cid}`);\r\n        return;\r\n      }\r\n      delete this.pendingTrackResolvers[res.cid];\r\n      resolve(res.track!);\r\n    };\r\n\r\n    this.client.onTokenRefresh = (token: string) => {\r\n      this.token = token;\r\n    };\r\n\r\n    this.client.onClose = () => {\r\n      this.handleDisconnect('signal', ReconnectReason.RR_SIGNAL_DISCONNECTED);\r\n    };\r\n\r\n    this.client.onLeave = (leave?: LeaveRequest) => {\r\n      if (leave?.canReconnect) {\r\n        this.fullReconnectOnNext = true;\r\n        this.primaryPC = undefined;\r\n        // reconnect immediately instead of waiting for next attempt\r\n        this.handleDisconnect(leaveReconnect);\r\n      } else {\r\n        this.emit(EngineEvent.Disconnected, leave?.reason);\r\n        this.close();\r\n      }\r\n      log.trace('leave request', { leave });\r\n    };\r\n  }\r\n\r\n  private makeRTCConfiguration(serverResponse: JoinResponse | ReconnectResponse): RTCConfiguration {\r\n    const rtcConfig = { ...this.rtcConfig };\r\n\r\n    // update ICE servers before creating PeerConnection\r\n    if (serverResponse.iceServers && !rtcConfig.iceServers) {\r\n      const rtcIceServers: RTCIceServer[] = [];\r\n      serverResponse.iceServers.forEach((iceServer) => {\r\n        const rtcIceServer: RTCIceServer = {\r\n          urls: iceServer.urls,\r\n        };\r\n        if (iceServer.username) rtcIceServer.username = iceServer.username;\r\n        if (iceServer.credential) {\r\n          rtcIceServer.credential = iceServer.credential;\r\n        }\r\n        rtcIceServers.push(rtcIceServer);\r\n      });\r\n      rtcConfig.iceServers = rtcIceServers;\r\n    }\r\n\r\n    if (\r\n      serverResponse.clientConfiguration &&\r\n      serverResponse.clientConfiguration.forceRelay === ClientConfigSetting.ENABLED\r\n    ) {\r\n      rtcConfig.iceTransportPolicy = 'relay';\r\n    }\r\n\r\n    // @ts-ignore\r\n    rtcConfig.sdpSemantics = 'unified-plan';\r\n    // @ts-ignore\r\n    rtcConfig.continualGatheringPolicy = 'gather_continually';\r\n\r\n    return rtcConfig;\r\n  }\r\n\r\n  private createDataChannels() {\r\n    if (!this.publisher) {\r\n      return;\r\n    }\r\n\r\n    // clear old data channel callbacks if recreate\r\n    if (this.lossyDC) {\r\n      this.lossyDC.onmessage = null;\r\n      this.lossyDC.onerror = null;\r\n    }\r\n    if (this.reliableDC) {\r\n      this.reliableDC.onmessage = null;\r\n      this.reliableDC.onerror = null;\r\n    }\r\n\r\n    // create data channels\r\n    this.lossyDC = this.publisher.pc.createDataChannel(lossyDataChannel, {\r\n      // will drop older packets that arrive\r\n      ordered: true,\r\n      maxRetransmits: 0,\r\n    });\r\n    this.reliableDC = this.publisher.pc.createDataChannel(reliableDataChannel, {\r\n      ordered: true,\r\n    });\r\n\r\n    // also handle messages over the pub channel, for backwards compatibility\r\n    this.lossyDC.onmessage = this.handleDataMessage;\r\n    this.reliableDC.onmessage = this.handleDataMessage;\r\n\r\n    // handle datachannel errors\r\n    this.lossyDC.onerror = this.handleDataError;\r\n    this.reliableDC.onerror = this.handleDataError;\r\n\r\n    // set up dc buffer threshold, set to 64kB (otherwise 0 by default)\r\n    this.lossyDC.bufferedAmountLowThreshold = 65535;\r\n    this.reliableDC.bufferedAmountLowThreshold = 65535;\r\n\r\n    // handle buffer amount low events\r\n    this.lossyDC.onbufferedamountlow = this.handleBufferedAmountLow;\r\n    this.reliableDC.onbufferedamountlow = this.handleBufferedAmountLow;\r\n  }\r\n\r\n  private handleDataChannel = async ({ channel }: RTCDataChannelEvent) => {\r\n    if (!channel) {\r\n      return;\r\n    }\r\n    if (channel.label === reliableDataChannel) {\r\n      this.reliableDCSub = channel;\r\n    } else if (channel.label === lossyDataChannel) {\r\n      this.lossyDCSub = channel;\r\n    } else {\r\n      return;\r\n    }\r\n    log.debug(`on data channel ${channel.id}, ${channel.label}`);\r\n    channel.onmessage = this.handleDataMessage;\r\n  };\r\n\r\n  private handleDataMessage = async (message: MessageEvent) => {\r\n    // make sure to respect incoming data message order by processing message events one after the other\r\n    const unlock = await this.dataProcessLock.lock();\r\n    try {\r\n      // decode\r\n      let buffer: ArrayBuffer | undefined;\r\n      if (message.data instanceof ArrayBuffer) {\r\n        buffer = message.data;\r\n      } else if (message.data instanceof Blob) {\r\n        buffer = await message.data.arrayBuffer();\r\n      } else {\r\n        log.error('unsupported data type', message.data);\r\n        return;\r\n      }\r\n      const dp = DataPacket.decode(new Uint8Array(buffer));\r\n      if (dp.value?.$case === 'speaker') {\r\n        // dispatch speaker updates\r\n        this.emit(EngineEvent.ActiveSpeakersUpdate, dp.value.speaker.speakers);\r\n      } else if (dp.value?.$case === 'user') {\r\n        this.emit(EngineEvent.DataPacketReceived, dp.value.user, dp.kind);\r\n      }\r\n    } finally {\r\n      unlock();\r\n    }\r\n  };\r\n\r\n  private handleDataError = (event: Event) => {\r\n    const channel = event.currentTarget as RTCDataChannel;\r\n    const channelKind = channel.maxRetransmits === 0 ? 'lossy' : 'reliable';\r\n\r\n    if (event instanceof ErrorEvent) {\r\n      const { error } = event.error;\r\n      log.error(`DataChannel error on ${channelKind}: ${event.message}`, error);\r\n    } else {\r\n      log.error(`Unknown DataChannel Error on ${channelKind}`, event);\r\n    }\r\n  };\r\n\r\n  private handleBufferedAmountLow = (event: Event) => {\r\n    const channel = event.currentTarget as RTCDataChannel;\r\n    const channelKind =\r\n      channel.maxRetransmits === 0 ? DataPacket_Kind.LOSSY : DataPacket_Kind.RELIABLE;\r\n\r\n    this.updateAndEmitDCBufferStatus(channelKind);\r\n  };\r\n\r\n  private setPreferredCodec(\r\n    transceiver: RTCRtpTransceiver,\r\n    kind: Track.Kind,\r\n    videoCodec: VideoCodec,\r\n  ) {\r\n    if (!('getCapabilities' in RTCRtpSender)) {\r\n      return;\r\n    }\r\n    const cap = RTCRtpSender.getCapabilities(kind);\r\n    if (!cap) return;\r\n    log.debug('get capabilities', cap);\r\n    const matched: RTCRtpCodecCapability[] = [];\r\n    const partialMatched: RTCRtpCodecCapability[] = [];\r\n    const unmatched: RTCRtpCodecCapability[] = [];\r\n    cap.codecs.forEach((c) => {\r\n      const codec = c.mimeType.toLowerCase();\r\n      if (codec === 'audio/opus') {\r\n        matched.push(c);\r\n        return;\r\n      }\r\n      const matchesVideoCodec = codec === `video/${videoCodec}`;\r\n      if (!matchesVideoCodec) {\r\n        unmatched.push(c);\r\n        return;\r\n      }\r\n      // for h264 codecs that have sdpFmtpLine available, use only if the\r\n      // profile-level-id is 42e01f for cross-browser compatibility\r\n      if (videoCodec === 'h264') {\r\n        if (c.sdpFmtpLine && c.sdpFmtpLine.includes('profile-level-id=42e01f')) {\r\n          matched.push(c);\r\n        } else {\r\n          partialMatched.push(c);\r\n        }\r\n        return;\r\n      }\r\n\r\n      matched.push(c);\r\n    });\r\n\r\n    if (supportsSetCodecPreferences(transceiver)) {\r\n      transceiver.setCodecPreferences(matched.concat(partialMatched, unmatched));\r\n    }\r\n  }\r\n\r\n  async createSender(\r\n    track: LocalTrack,\r\n    opts: TrackPublishOptions,\r\n    encodings?: RTCRtpEncodingParameters[],\r\n  ) {\r\n    if (supportsTransceiver()) {\r\n      return this.createTransceiverRTCRtpSender(track, opts, encodings);\r\n    }\r\n    if (supportsAddTrack()) {\r\n      log.debug('using add-track fallback');\r\n      return this.createRTCRtpSender(track.mediaStreamTrack);\r\n    }\r\n    throw new UnexpectedConnectionState('Required webRTC APIs not supported on this device');\r\n  }\r\n\r\n  async createSimulcastSender(\r\n    track: LocalVideoTrack,\r\n    simulcastTrack: SimulcastTrackInfo,\r\n    opts: TrackPublishOptions,\r\n    encodings?: RTCRtpEncodingParameters[],\r\n  ) {\r\n    // store RTCRtpSender\r\n    // @ts-ignore\r\n    if (supportsTransceiver()) {\r\n      return this.createSimulcastTransceiverSender(track, simulcastTrack, opts, encodings);\r\n    }\r\n    if (supportsAddTrack()) {\r\n      log.debug('using add-track fallback');\r\n      return this.createRTCRtpSender(track.mediaStreamTrack);\r\n    }\r\n\r\n    throw new UnexpectedConnectionState('Cannot stream on this device');\r\n  }\r\n\r\n  private async createTransceiverRTCRtpSender(\r\n    track: LocalTrack,\r\n    opts: TrackPublishOptions,\r\n    encodings?: RTCRtpEncodingParameters[],\r\n  ) {\r\n    if (!this.publisher) {\r\n      throw new UnexpectedConnectionState('publisher is closed');\r\n    }\r\n\r\n    const transceiverInit: RTCRtpTransceiverInit = { direction: 'sendonly' };\r\n    if (encodings) {\r\n      transceiverInit.sendEncodings = encodings;\r\n    }\r\n    // addTransceiver for react-native is async. web is synchronous, but await won't effect it.\r\n    const transceiver = await this.publisher.pc.addTransceiver(\r\n      track.mediaStreamTrack,\r\n      transceiverInit,\r\n    );\r\n    if (track.kind === Track.Kind.Video && opts.videoCodec) {\r\n      this.setPreferredCodec(transceiver, track.kind, opts.videoCodec);\r\n      track.codec = opts.videoCodec;\r\n    }\r\n    return transceiver.sender;\r\n  }\r\n\r\n  private async createSimulcastTransceiverSender(\r\n    track: LocalVideoTrack,\r\n    simulcastTrack: SimulcastTrackInfo,\r\n    opts: TrackPublishOptions,\r\n    encodings?: RTCRtpEncodingParameters[],\r\n  ) {\r\n    if (!this.publisher) {\r\n      throw new UnexpectedConnectionState('publisher is closed');\r\n    }\r\n    const transceiverInit: RTCRtpTransceiverInit = { direction: 'sendonly' };\r\n    if (encodings) {\r\n      transceiverInit.sendEncodings = encodings;\r\n    }\r\n    // addTransceiver for react-native is async. web is synchronous, but await won't effect it.\r\n    const transceiver = await this.publisher.pc.addTransceiver(\r\n      simulcastTrack.mediaStreamTrack,\r\n      transceiverInit,\r\n    );\r\n    if (!opts.videoCodec) {\r\n      return;\r\n    }\r\n    this.setPreferredCodec(transceiver, track.kind, opts.videoCodec);\r\n    track.setSimulcastTrackSender(opts.videoCodec, transceiver.sender);\r\n    return transceiver.sender;\r\n  }\r\n\r\n  private async createRTCRtpSender(track: MediaStreamTrack) {\r\n    if (!this.publisher) {\r\n      throw new UnexpectedConnectionState('publisher is closed');\r\n    }\r\n    return this.publisher.pc.addTrack(track);\r\n  }\r\n\r\n  // websocket reconnect behavior. if websocket is interrupted, and the PeerConnection\r\n  // continues to work, we can reconnect to websocket to continue the session\r\n  // after a number of retries, we'll close and give up permanently\r\n  private handleDisconnect = (connection: string, disconnectReason?: ReconnectReason) => {\r\n    if (this._isClosed) {\r\n      return;\r\n    }\r\n\r\n    log.warn(`${connection} disconnected`);\r\n    if (this.reconnectAttempts === 0) {\r\n      // only reset start time on the first try\r\n      this.reconnectStart = Date.now();\r\n    }\r\n\r\n    const disconnect = (duration: number) => {\r\n      log.warn(\r\n        `could not recover connection after ${this.reconnectAttempts} attempts, ${duration}ms. giving up`,\r\n      );\r\n      this.emit(EngineEvent.Disconnected);\r\n      this.close();\r\n    };\r\n\r\n    const duration = Date.now() - this.reconnectStart;\r\n    let delay = this.getNextRetryDelay({\r\n      elapsedMs: duration,\r\n      retryCount: this.reconnectAttempts,\r\n    });\r\n\r\n    if (delay === null) {\r\n      disconnect(duration);\r\n      return;\r\n    }\r\n    if (connection === leaveReconnect) {\r\n      delay = 0;\r\n    }\r\n\r\n    log.debug(`reconnecting in ${delay}ms`);\r\n\r\n    this.clearReconnectTimeout();\r\n    if (this.url && this.token && isCloud(new URL(this.url))) {\r\n      this.regionUrlProvider = new RegionUrlProvider(this.url, this.token);\r\n    }\r\n    this.reconnectTimeout = CriticalTimers.setTimeout(\r\n      () => this.attemptReconnect(disconnectReason),\r\n      delay,\r\n    );\r\n  };\r\n\r\n  private async attemptReconnect(reason?: ReconnectReason) {\r\n    if (this._isClosed) {\r\n      return;\r\n    }\r\n    // guard for attempting reconnection multiple times while one attempt is still not finished\r\n    if (this.attemptingReconnect) {\r\n      return;\r\n    }\r\n    if (\r\n      this.clientConfiguration?.resumeConnection === ClientConfigSetting.DISABLED ||\r\n      // signaling state could change to closed due to hardware sleep\r\n      // those connections cannot be resumed\r\n      (this.primaryPC?.signalingState ?? 'closed') === 'closed'\r\n    ) {\r\n      this.fullReconnectOnNext = true;\r\n    }\r\n\r\n    try {\r\n      this.attemptingReconnect = true;\r\n      if (this.fullReconnectOnNext) {\r\n        await this.restartConnection();\r\n      } else {\r\n        await this.resumeConnection(reason);\r\n      }\r\n      this.clearPendingReconnect();\r\n      this.fullReconnectOnNext = false;\r\n    } catch (e) {\r\n      this.reconnectAttempts += 1;\r\n      let recoverable = true;\r\n      if (e instanceof UnexpectedConnectionState) {\r\n        log.debug('received unrecoverable error', { error: e });\r\n        // unrecoverable\r\n        recoverable = false;\r\n      } else if (!(e instanceof SignalReconnectError)) {\r\n        // cannot resume\r\n        this.fullReconnectOnNext = true;\r\n      }\r\n\r\n      if (recoverable) {\r\n        this.handleDisconnect('reconnect', ReconnectReason.RR_UNKOWN);\r\n      } else {\r\n        log.info(\r\n          `could not recover connection after ${this.reconnectAttempts} attempts, ${\r\n            Date.now() - this.reconnectStart\r\n          }ms. giving up`,\r\n        );\r\n        this.emit(EngineEvent.Disconnected);\r\n        this.close();\r\n      }\r\n    } finally {\r\n      this.attemptingReconnect = false;\r\n    }\r\n  }\r\n\r\n  private getNextRetryDelay(context: ReconnectContext) {\r\n    try {\r\n      return this.reconnectPolicy.nextRetryDelayInMs(context);\r\n    } catch (e) {\r\n      log.warn('encountered error in reconnect policy', { error: e });\r\n    }\r\n\r\n    // error in user code with provided reconnect policy, stop reconnecting\r\n    return null;\r\n  }\r\n\r\n  private async restartConnection(regionUrl?: string) {\r\n    try {\r\n      if (!this.url || !this.token) {\r\n        // permanent failure, don't attempt reconnection\r\n        throw new UnexpectedConnectionState('could not reconnect, url or token not saved');\r\n      }\r\n\r\n      log.info(`reconnecting, attempt: ${this.reconnectAttempts}`);\r\n      this.emit(EngineEvent.Restarting);\r\n\r\n      if (this.client.isConnected) {\r\n        await this.client.sendLeave();\r\n      }\r\n      await this.client.close();\r\n      this.primaryPC = undefined;\r\n      this.publisher?.close();\r\n      this.publisher = undefined;\r\n      this.subscriber?.close();\r\n      this.subscriber = undefined;\r\n\r\n      let joinResponse: JoinResponse;\r\n      try {\r\n        if (!this.signalOpts) {\r\n          log.warn('attempted connection restart, without signal options present');\r\n          throw new SignalReconnectError();\r\n        }\r\n        // in case a regionUrl is passed, the region URL takes precedence\r\n        joinResponse = await this.join(regionUrl ?? this.url, this.token, this.signalOpts);\r\n      } catch (e) {\r\n        if (e instanceof ConnectionError && e.reason === ConnectionErrorReason.NotAllowed) {\r\n          throw new UnexpectedConnectionState('could not reconnect, token might be expired');\r\n        }\r\n        throw new SignalReconnectError();\r\n      }\r\n\r\n      if (this.shouldFailNext) {\r\n        this.shouldFailNext = false;\r\n        throw new Error('simulated failure');\r\n      }\r\n\r\n      this.client.setReconnected();\r\n      this.emit(EngineEvent.SignalRestarted, joinResponse);\r\n\r\n      await this.waitForPCReconnected();\r\n      this.regionUrlProvider?.resetAttempts();\r\n      // reconnect success\r\n      this.emit(EngineEvent.Restarted);\r\n    } catch (error) {\r\n      const nextRegionUrl = await this.regionUrlProvider?.getNextBestRegionUrl();\r\n      if (nextRegionUrl) {\r\n        await this.restartConnection(nextRegionUrl);\r\n        return;\r\n      } else {\r\n        // no more regions to try (or we're not on cloud)\r\n        this.regionUrlProvider?.resetAttempts();\r\n        throw error;\r\n      }\r\n    }\r\n  }\r\n\r\n  private async resumeConnection(reason?: ReconnectReason): Promise<void> {\r\n    if (!this.url || !this.token) {\r\n      // permanent failure, don't attempt reconnection\r\n      throw new UnexpectedConnectionState('could not reconnect, url or token not saved');\r\n    }\r\n    // trigger publisher reconnect\r\n    if (!this.publisher || !this.subscriber) {\r\n      throw new UnexpectedConnectionState('publisher and subscriber connections unset');\r\n    }\r\n\r\n    log.info(`resuming signal connection, attempt ${this.reconnectAttempts}`);\r\n    this.emit(EngineEvent.Resuming);\r\n\r\n    try {\r\n      const res = await this.client.reconnect(this.url, this.token, this.participantSid, reason);\r\n      if (res) {\r\n        const rtcConfig = this.makeRTCConfiguration(res);\r\n        this.publisher.pc.setConfiguration(rtcConfig);\r\n        this.subscriber.pc.setConfiguration(rtcConfig);\r\n      }\r\n    } catch (e) {\r\n      let message = '';\r\n      if (e instanceof Error) {\r\n        message = e.message;\r\n      }\r\n      if (e instanceof ConnectionError && e.reason === ConnectionErrorReason.NotAllowed) {\r\n        throw new UnexpectedConnectionState('could not reconnect, token might be expired');\r\n      }\r\n      throw new SignalReconnectError(message);\r\n    }\r\n    this.emit(EngineEvent.SignalResumed);\r\n\r\n    if (this.shouldFailNext) {\r\n      this.shouldFailNext = false;\r\n      throw new Error('simulated failure');\r\n    }\r\n\r\n    this.subscriber.restartingIce = true;\r\n\r\n    // only restart publisher if it's needed\r\n    if (this.hasPublished) {\r\n      await this.publisher.createAndSendOffer({ iceRestart: true });\r\n    }\r\n\r\n    await this.waitForPCReconnected();\r\n    this.client.setReconnected();\r\n\r\n    // recreate publish datachannel if it's id is null\r\n    // (for safari https://bugs.webkit.org/show_bug.cgi?id=184688)\r\n    if (this.reliableDC?.readyState === 'open' && this.reliableDC.id === null) {\r\n      this.createDataChannels();\r\n    }\r\n\r\n    // resume success\r\n    this.emit(EngineEvent.Resumed);\r\n  }\r\n\r\n  async waitForPCInitialConnection(timeout?: number, abortController?: AbortController) {\r\n    if (this.pcState === PCState.Connected) {\r\n      return;\r\n    }\r\n    if (this.pcState !== PCState.New) {\r\n      throw new UnexpectedConnectionState(\r\n        'Expected peer connection to be new on initial connection',\r\n      );\r\n    }\r\n    return new Promise<void>((resolve, reject) => {\r\n      const abortHandler = () => {\r\n        log.warn('closing engine');\r\n        CriticalTimers.clearTimeout(connectTimeout);\r\n\r\n        reject(\r\n          new ConnectionError(\r\n            'room connection has been cancelled',\r\n            ConnectionErrorReason.Cancelled,\r\n          ),\r\n        );\r\n      };\r\n      if (abortController?.signal.aborted) {\r\n        abortHandler();\r\n      }\r\n      abortController?.signal.addEventListener('abort', abortHandler);\r\n      const onConnected = () => {\r\n        CriticalTimers.clearTimeout(connectTimeout);\r\n        abortController?.signal.removeEventListener('abort', abortHandler);\r\n        resolve();\r\n      };\r\n      const connectTimeout = CriticalTimers.setTimeout(() => {\r\n        this.off(EngineEvent.Connected, onConnected);\r\n        reject(new ConnectionError('could not establish pc connection'));\r\n      }, timeout ?? this.peerConnectionTimeout);\r\n      this.once(EngineEvent.Connected, onConnected);\r\n    });\r\n  }\r\n\r\n  private async waitForPCReconnected() {\r\n    const startTime = Date.now();\r\n    let now = startTime;\r\n    this.pcState = PCState.Reconnecting;\r\n\r\n    log.debug('waiting for peer connection to reconnect');\r\n    while (now - startTime < this.peerConnectionTimeout) {\r\n      if (this.primaryPC === undefined) {\r\n        // we can abort early, connection is hosed\r\n        break;\r\n      } else if (\r\n        // on Safari, we don't get a connectionstatechanged event during ICE restart\r\n        // this means we'd have to check its status manually and update address\r\n        // manually\r\n        now - startTime > minReconnectWait &&\r\n        this.primaryPC?.connectionState === 'connected'\r\n      ) {\r\n        this.pcState = PCState.Connected;\r\n      }\r\n      if (this.pcState === PCState.Connected) {\r\n        return;\r\n      }\r\n      await sleep(100);\r\n      now = Date.now();\r\n    }\r\n\r\n    // have not reconnected, throw\r\n    throw new ConnectionError('could not establish PC connection');\r\n  }\r\n\r\n  waitForRestarted = () => {\r\n    return new Promise<void>((resolve, reject) => {\r\n      if (this.pcState === PCState.Connected) {\r\n        resolve();\r\n      }\r\n      const onRestarted = () => {\r\n        this.off(EngineEvent.Disconnected, onDisconnected);\r\n        resolve();\r\n      };\r\n      const onDisconnected = () => {\r\n        this.off(EngineEvent.Restarted, onRestarted);\r\n        reject();\r\n      };\r\n      this.once(EngineEvent.Restarted, onRestarted);\r\n      this.once(EngineEvent.Disconnected, onDisconnected);\r\n    });\r\n  };\r\n\r\n  /* @internal */\r\n  async sendDataPacket(packet: DataPacket, kind: DataPacket_Kind) {\r\n    const msg = DataPacket.encode(packet).finish();\r\n\r\n    // make sure we do have a data connection\r\n    await this.ensurePublisherConnected(kind);\r\n\r\n    const dc = this.dataChannelForKind(kind);\r\n    if (dc) {\r\n      dc.send(msg);\r\n    }\r\n\r\n    this.updateAndEmitDCBufferStatus(kind);\r\n  }\r\n\r\n  private updateAndEmitDCBufferStatus = (kind: DataPacket_Kind) => {\r\n    const status = this.isBufferStatusLow(kind);\r\n    if (typeof status !== 'undefined' && status !== this.dcBufferStatus.get(kind)) {\r\n      this.dcBufferStatus.set(kind, status);\r\n      this.emit(EngineEvent.DCBufferStatusChanged, status, kind);\r\n    }\r\n  };\r\n\r\n  private isBufferStatusLow = (kind: DataPacket_Kind): boolean | undefined => {\r\n    const dc = this.dataChannelForKind(kind);\r\n    if (dc) {\r\n      return dc.bufferedAmount <= dc.bufferedAmountLowThreshold;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * @internal\r\n   */\r\n  async ensureDataTransportConnected(\r\n    kind: DataPacket_Kind,\r\n    subscriber: boolean = this.subscriberPrimary,\r\n  ) {\r\n    const transport = subscriber ? this.subscriber : this.publisher;\r\n    const transportName = subscriber ? 'Subscriber' : 'Publisher';\r\n    if (!transport) {\r\n      throw new ConnectionError(`${transportName} connection not set`);\r\n    }\r\n\r\n    if (\r\n      !subscriber &&\r\n      !this.publisher?.isICEConnected &&\r\n      this.publisher?.pc.iceConnectionState !== 'checking'\r\n    ) {\r\n      // start negotiation\r\n      this.negotiate();\r\n    }\r\n\r\n    const targetChannel = this.dataChannelForKind(kind, subscriber);\r\n    if (targetChannel?.readyState === 'open') {\r\n      return;\r\n    }\r\n\r\n    // wait until ICE connected\r\n    const endTime = new Date().getTime() + this.peerConnectionTimeout;\r\n    while (new Date().getTime() < endTime) {\r\n      if (\r\n        transport.isICEConnected &&\r\n        this.dataChannelForKind(kind, subscriber)?.readyState === 'open'\r\n      ) {\r\n        return;\r\n      }\r\n      await sleep(50);\r\n    }\r\n\r\n    throw new ConnectionError(\r\n      `could not establish ${transportName} connection, state: ${transport.pc.iceConnectionState}`,\r\n    );\r\n  }\r\n\r\n  private async ensurePublisherConnected(kind: DataPacket_Kind) {\r\n    await this.ensureDataTransportConnected(kind, false);\r\n  }\r\n\r\n  /** @internal */\r\n  negotiate(): Promise<void> {\r\n    // observe signal state\r\n    return new Promise<void>((resolve, reject) => {\r\n      if (!this.publisher) {\r\n        reject(new NegotiationError('publisher is not defined'));\r\n        return;\r\n      }\r\n\r\n      this.hasPublished = true;\r\n\r\n      const handleClosed = () => {\r\n        log.debug('engine disconnected while negotiation was ongoing');\r\n        cleanup();\r\n        resolve();\r\n        return;\r\n      };\r\n\r\n      this.on(EngineEvent.Closing, handleClosed);\r\n\r\n      const negotiationTimeout = setTimeout(() => {\r\n        reject('negotiation timed out');\r\n        this.handleDisconnect('negotiation', ReconnectReason.RR_SIGNAL_DISCONNECTED);\r\n      }, this.peerConnectionTimeout);\r\n\r\n      const cleanup = () => {\r\n        clearTimeout(negotiationTimeout);\r\n        this.off(EngineEvent.Closing, handleClosed);\r\n      };\r\n\r\n      this.publisher.once(PCEvents.NegotiationStarted, () => {\r\n        this.publisher?.once(PCEvents.NegotiationComplete, () => {\r\n          cleanup();\r\n          resolve();\r\n        });\r\n      });\r\n\r\n      this.publisher.negotiate((e) => {\r\n        cleanup();\r\n        reject(e);\r\n        if (e instanceof NegotiationError) {\r\n          this.fullReconnectOnNext = true;\r\n        }\r\n        this.handleDisconnect('negotiation', ReconnectReason.RR_UNKOWN);\r\n      });\r\n    });\r\n  }\r\n\r\n  dataChannelForKind(kind: DataPacket_Kind, sub?: boolean): RTCDataChannel | undefined {\r\n    if (!sub) {\r\n      if (kind === DataPacket_Kind.LOSSY) {\r\n        return this.lossyDC;\r\n      }\r\n      if (kind === DataPacket_Kind.RELIABLE) {\r\n        return this.reliableDC;\r\n      }\r\n    } else {\r\n      if (kind === DataPacket_Kind.LOSSY) {\r\n        return this.lossyDCSub;\r\n      }\r\n      if (kind === DataPacket_Kind.RELIABLE) {\r\n        return this.reliableDCSub;\r\n      }\r\n    }\r\n  }\r\n\r\n  /* @internal */\r\n  failNext() {\r\n    // debugging method to fail the next reconnect/resume attempt\r\n    this.shouldFailNext = true;\r\n  }\r\n\r\n  private clearReconnectTimeout() {\r\n    if (this.reconnectTimeout) {\r\n      CriticalTimers.clearTimeout(this.reconnectTimeout);\r\n    }\r\n  }\r\n\r\n  private clearPendingReconnect() {\r\n    this.clearReconnectTimeout();\r\n    this.reconnectAttempts = 0;\r\n  }\r\n\r\n  private handleBrowserOnLine = () => {\r\n    // in case the engine is currently reconnecting, attempt a reconnect immediately after the browser state has changed to 'onLine'\r\n    if (this.client.isReconnecting) {\r\n      this.clearReconnectTimeout();\r\n      this.attemptReconnect(ReconnectReason.RR_SIGNAL_DISCONNECTED);\r\n    }\r\n  };\r\n\r\n  private registerOnLineListener() {\r\n    if (isWeb()) {\r\n      window.addEventListener('online', this.handleBrowserOnLine);\r\n    }\r\n  }\r\n\r\n  private deregisterOnLineListener() {\r\n    if (isWeb()) {\r\n      window.removeEventListener('online', this.handleBrowserOnLine);\r\n    }\r\n  }\r\n}\r\n\r\nasync function getConnectedAddress(pc: RTCPeerConnection): Promise<string | undefined> {\r\n  let selectedCandidatePairId = '';\r\n  const candidatePairs = new Map<string, RTCIceCandidatePairStats>();\r\n  // id -> candidate ip\r\n  const candidates = new Map<string, string>();\r\n  const stats: RTCStatsReport = await pc.getStats();\r\n  stats.forEach((v) => {\r\n    switch (v.type) {\r\n      case 'transport':\r\n        selectedCandidatePairId = v.selectedCandidatePairId;\r\n        break;\r\n      case 'candidate-pair':\r\n        if (selectedCandidatePairId === '' && v.selected) {\r\n          selectedCandidatePairId = v.id;\r\n        }\r\n        candidatePairs.set(v.id, v);\r\n        break;\r\n      case 'remote-candidate':\r\n        candidates.set(v.id, `${v.address}:${v.port}`);\r\n        break;\r\n      default:\r\n    }\r\n  });\r\n\r\n  if (selectedCandidatePairId === '') {\r\n    return undefined;\r\n  }\r\n  const selectedID = candidatePairs.get(selectedCandidatePairId)?.remoteCandidateId;\r\n  if (selectedID === undefined) {\r\n    return undefined;\r\n  }\r\n  return candidates.get(selectedID);\r\n}\r\n\r\nclass SignalReconnectError extends Error {}\r\n\r\nexport type EngineEventCallbacks = {\r\n  connected: (joinResp: JoinResponse) => void;\r\n  disconnected: (reason?: DisconnectReason) => void;\r\n  resuming: () => void;\r\n  resumed: () => void;\r\n  restarting: () => void;\r\n  restarted: () => void;\r\n  signalResumed: () => void;\r\n  signalRestarted: (joinResp: JoinResponse) => void;\r\n  closing: () => void;\r\n  mediaTrackAdded: (\r\n    track: MediaStreamTrack,\r\n    streams: MediaStream,\r\n    receiver?: RTCRtpReceiver,\r\n  ) => void;\r\n  activeSpeakersUpdate: (speakers: Array<SpeakerInfo>) => void;\r\n  dataPacketReceived: (userPacket: UserPacket, kind: DataPacket_Kind) => void;\r\n  transportsCreated: (publisher: PCTransport, subscriber: PCTransport) => void;\r\n  dcBufferStatusChanged: (isLow: boolean, kind: DataPacket_Kind) => void;\r\n};\r\n","export const monitorFrequency = 2000;\r\n\r\n// key stats for senders and receivers\r\ninterface SenderStats {\r\n  /** number of packets sent */\r\n  packetsSent?: number;\r\n\r\n  /** number of bytes sent */\r\n  bytesSent?: number;\r\n\r\n  /** jitter as perceived by remote */\r\n  jitter?: number;\r\n\r\n  /** packets reported lost by remote */\r\n  packetsLost?: number;\r\n\r\n  /** RTT reported by remote */\r\n  roundTripTime?: number;\r\n\r\n  /** ID of the outbound stream */\r\n  streamId?: string;\r\n\r\n  timestamp: number;\r\n}\r\n\r\nexport interface AudioSenderStats extends SenderStats {\r\n  type: 'audio';\r\n}\r\n\r\nexport interface VideoSenderStats extends SenderStats {\r\n  type: 'video';\r\n\r\n  firCount: number;\r\n\r\n  pliCount: number;\r\n\r\n  nackCount: number;\r\n\r\n  rid: string;\r\n\r\n  frameWidth: number;\r\n\r\n  frameHeight: number;\r\n\r\n  framesSent: number;\r\n\r\n  // bandwidth, cpu, other, none\r\n  qualityLimitationReason: string;\r\n\r\n  qualityLimitationResolutionChanges: number;\r\n\r\n  retransmittedPacketsSent: number;\r\n}\r\n\r\ninterface ReceiverStats {\r\n  jitterBufferDelay?: number;\r\n\r\n  /** packets reported lost by remote */\r\n  packetsLost?: number;\r\n\r\n  /** number of packets sent */\r\n  packetsReceived?: number;\r\n\r\n  bytesReceived?: number;\r\n\r\n  streamId?: string;\r\n\r\n  jitter?: number;\r\n\r\n  timestamp: number;\r\n}\r\n\r\nexport interface AudioReceiverStats extends ReceiverStats {\r\n  type: 'audio';\r\n\r\n  concealedSamples?: number;\r\n\r\n  concealmentEvents?: number;\r\n\r\n  silentConcealedSamples?: number;\r\n\r\n  silentConcealmentEvents?: number;\r\n\r\n  totalAudioEnergy?: number;\r\n\r\n  totalSamplesDuration?: number;\r\n}\r\n\r\nexport interface VideoReceiverStats extends ReceiverStats {\r\n  type: 'video';\r\n\r\n  framesDecoded: number;\r\n\r\n  framesDropped: number;\r\n\r\n  framesReceived: number;\r\n\r\n  frameWidth?: number;\r\n\r\n  frameHeight?: number;\r\n\r\n  firCount?: number;\r\n\r\n  pliCount?: number;\r\n\r\n  nackCount?: number;\r\n\r\n  decoderImplementation?: string;\r\n}\r\n\r\nexport function computeBitrate<T extends ReceiverStats | SenderStats>(\r\n  currentStats: T,\r\n  prevStats?: T,\r\n): number {\r\n  if (!prevStats) {\r\n    return 0;\r\n  }\r\n  let bytesNow: number | undefined;\r\n  let bytesPrev: number | undefined;\r\n  if ('bytesReceived' in currentStats) {\r\n    bytesNow = (currentStats as ReceiverStats).bytesReceived;\r\n    bytesPrev = (prevStats as ReceiverStats).bytesReceived;\r\n  } else if ('bytesSent' in currentStats) {\r\n    bytesNow = (currentStats as SenderStats).bytesSent;\r\n    bytesPrev = (prevStats as SenderStats).bytesSent;\r\n  }\r\n  if (\r\n    bytesNow === undefined ||\r\n    bytesPrev === undefined ||\r\n    currentStats.timestamp === undefined ||\r\n    prevStats.timestamp === undefined\r\n  ) {\r\n    return 0;\r\n  }\r\n  return ((bytesNow - bytesPrev) * 8 * 1000) / (currentStats.timestamp - prevStats.timestamp);\r\n}\r\n","import log from '../../logger';\r\nimport DeviceManager from '../DeviceManager';\r\nimport { TrackInvalidError } from '../errors';\r\nimport { TrackEvent } from '../events';\r\nimport {\r\n  Mutex,\r\n  getEmptyAudioStreamTrack,\r\n  getEmptyVideoStreamTrack,\r\n  isMobile,\r\n  sleep,\r\n} from '../utils';\r\nimport { Track, attachToElement, detachTrack } from './Track';\r\nimport type { VideoCodec } from './options';\r\n\r\nconst defaultDimensionsTimeout = 2 * 1000;\r\n\r\nexport default abstract class LocalTrack extends Track {\r\n  /** @internal */\r\n  sender?: RTCRtpSender;\r\n\r\n  /** @internal */\r\n  codec?: VideoCodec;\r\n\r\n  protected constraints: MediaTrackConstraints;\r\n\r\n  protected reacquireTrack: boolean;\r\n\r\n  protected providedByUser: boolean;\r\n\r\n  protected muteLock: Mutex;\r\n\r\n  protected pauseUpstreamLock: Mutex;\r\n\r\n  /**\r\n   *\r\n   * @param mediaTrack\r\n   * @param kind\r\n   * @param constraints MediaTrackConstraints that are being used when restarting or reacquiring tracks\r\n   * @param userProvidedTrack Signals to the SDK whether or not the mediaTrack should be managed (i.e. released and reacquired) internally by the SDK\r\n   */\r\n  protected constructor(\r\n    mediaTrack: MediaStreamTrack,\r\n    kind: Track.Kind,\r\n    constraints?: MediaTrackConstraints,\r\n    userProvidedTrack = false,\r\n  ) {\r\n    super(mediaTrack, kind);\r\n    this._mediaStreamTrack.addEventListener('ended', this.handleEnded);\r\n    this.constraints = constraints ?? mediaTrack.getConstraints();\r\n    this.reacquireTrack = false;\r\n    this.providedByUser = userProvidedTrack;\r\n    this.muteLock = new Mutex();\r\n    this.pauseUpstreamLock = new Mutex();\r\n  }\r\n\r\n  get id(): string {\r\n    return this._mediaStreamTrack.id;\r\n  }\r\n\r\n  get dimensions(): Track.Dimensions | undefined {\r\n    if (this.kind !== Track.Kind.Video) {\r\n      return undefined;\r\n    }\r\n\r\n    const { width, height } = this._mediaStreamTrack.getSettings();\r\n    if (width && height) {\r\n      return {\r\n        width,\r\n        height,\r\n      };\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  private _isUpstreamPaused: boolean = false;\r\n\r\n  get isUpstreamPaused() {\r\n    return this._isUpstreamPaused;\r\n  }\r\n\r\n  get isUserProvided() {\r\n    return this.providedByUser;\r\n  }\r\n\r\n  async waitForDimensions(timeout = defaultDimensionsTimeout): Promise<Track.Dimensions> {\r\n    if (this.kind === Track.Kind.Audio) {\r\n      throw new Error('cannot get dimensions for audio tracks');\r\n    }\r\n\r\n    const started = Date.now();\r\n    while (Date.now() - started < timeout) {\r\n      const dims = this.dimensions;\r\n      if (dims) {\r\n        return dims;\r\n      }\r\n      await sleep(50);\r\n    }\r\n    throw new TrackInvalidError('unable to get track dimensions after timeout');\r\n  }\r\n\r\n  /**\r\n   * @returns DeviceID of the device that is currently being used for this track\r\n   */\r\n  async getDeviceId(): Promise<string | undefined> {\r\n    // screen share doesn't have a usable device id\r\n    if (this.source === Track.Source.ScreenShare) {\r\n      return;\r\n    }\r\n    const { deviceId, groupId } = this._mediaStreamTrack.getSettings();\r\n    const kind = this.kind === Track.Kind.Audio ? 'audioinput' : 'videoinput';\r\n\r\n    return DeviceManager.getInstance().normalizeDeviceId(kind, deviceId, groupId);\r\n  }\r\n\r\n  async mute(): Promise<LocalTrack> {\r\n    this.setTrackMuted(true);\r\n    return this;\r\n  }\r\n\r\n  async unmute(): Promise<LocalTrack> {\r\n    this.setTrackMuted(false);\r\n    return this;\r\n  }\r\n\r\n  async replaceTrack(track: MediaStreamTrack, userProvidedTrack = true): Promise<LocalTrack> {\r\n    if (!this.sender) {\r\n      throw new TrackInvalidError('unable to replace an unpublished track');\r\n    }\r\n\r\n    // detach\r\n    this.attachedElements.forEach((el) => {\r\n      detachTrack(this._mediaStreamTrack, el);\r\n    });\r\n    this._mediaStreamTrack.removeEventListener('ended', this.handleEnded);\r\n    // on Safari, the old audio track must be stopped before attempting to acquire\r\n    // the new track, otherwise the new track will stop with\r\n    // 'A MediaStreamTrack ended due to a capture failure`\r\n    if (!this.providedByUser) {\r\n      this._mediaStreamTrack.stop();\r\n    }\r\n\r\n    track.addEventListener('ended', this.handleEnded);\r\n    log.debug('replace MediaStreamTrack');\r\n\r\n    if (this.sender) {\r\n      await this.sender.replaceTrack(track);\r\n    }\r\n    this._mediaStreamTrack = track;\r\n\r\n    // sync muted state with the enabled state of the newly provided track\r\n    this._mediaStreamTrack.enabled = !this.isMuted;\r\n\r\n    await this.resumeUpstream();\r\n\r\n    this.attachedElements.forEach((el) => {\r\n      attachToElement(track, el);\r\n    });\r\n\r\n    this.mediaStream = new MediaStream([track]);\r\n    this.providedByUser = userProvidedTrack;\r\n    return this;\r\n  }\r\n\r\n  protected async restart(constraints?: MediaTrackConstraints): Promise<LocalTrack> {\r\n    if (!constraints) {\r\n      constraints = this.constraints;\r\n    }\r\n    log.debug('restarting track with constraints', constraints);\r\n\r\n    const streamConstraints: MediaStreamConstraints = {\r\n      audio: false,\r\n      video: false,\r\n    };\r\n\r\n    if (this.kind === Track.Kind.Video) {\r\n      streamConstraints.video = constraints;\r\n    } else {\r\n      streamConstraints.audio = constraints;\r\n    }\r\n\r\n    // detach\r\n    this.attachedElements.forEach((el) => {\r\n      detachTrack(this._mediaStreamTrack, el);\r\n    });\r\n    this._mediaStreamTrack.removeEventListener('ended', this.handleEnded);\r\n    // on Safari, the old audio track must be stopped before attempting to acquire\r\n    // the new track, otherwise the new track will stop with\r\n    // 'A MediaStreamTrack ended due to a capture failure`\r\n    this._mediaStreamTrack.stop();\r\n\r\n    // create new track and attach\r\n    const mediaStream = await navigator.mediaDevices.getUserMedia(streamConstraints);\r\n    const newTrack = mediaStream.getTracks()[0];\r\n    newTrack.addEventListener('ended', this.handleEnded);\r\n    log.debug('re-acquired MediaStreamTrack');\r\n\r\n    if (this.sender) {\r\n      // Track can be restarted after it's unpublished\r\n      await this.sender.replaceTrack(newTrack);\r\n    }\r\n\r\n    this._mediaStreamTrack = newTrack;\r\n\r\n    await this.resumeUpstream();\r\n\r\n    this.attachedElements.forEach((el) => {\r\n      attachToElement(newTrack, el);\r\n    });\r\n\r\n    this.mediaStream = mediaStream;\r\n    this.constraints = constraints;\r\n    this.emit(TrackEvent.Restarted, this);\r\n    return this;\r\n  }\r\n\r\n  protected setTrackMuted(muted: boolean) {\r\n    log.debug(`setting ${this.kind} track ${muted ? 'muted' : 'unmuted'}`);\r\n\r\n    if (this.isMuted === muted && this._mediaStreamTrack.enabled !== muted) {\r\n      return;\r\n    }\r\n\r\n    this.isMuted = muted;\r\n    this._mediaStreamTrack.enabled = !muted;\r\n    this.emit(muted ? TrackEvent.Muted : TrackEvent.Unmuted, this);\r\n  }\r\n\r\n  protected get needsReAcquisition(): boolean {\r\n    return (\r\n      this._mediaStreamTrack.readyState !== 'live' ||\r\n      this._mediaStreamTrack.muted ||\r\n      !this._mediaStreamTrack.enabled ||\r\n      this.reacquireTrack\r\n    );\r\n  }\r\n\r\n  protected async handleAppVisibilityChanged() {\r\n    await super.handleAppVisibilityChanged();\r\n    if (!isMobile()) return;\r\n    log.debug(`visibility changed, is in Background: ${this.isInBackground}`);\r\n\r\n    if (!this.isInBackground && this.needsReAcquisition && !this.isUserProvided && !this.isMuted) {\r\n      log.debug(`track needs to be reaquired, restarting ${this.source}`);\r\n      await this.restart();\r\n      this.reacquireTrack = false;\r\n    }\r\n  }\r\n\r\n  private handleEnded = () => {\r\n    if (this.isInBackground) {\r\n      this.reacquireTrack = true;\r\n    }\r\n    this.emit(TrackEvent.Ended, this);\r\n  };\r\n\r\n  async pauseUpstream(emitMuteEvent: boolean = true) {\r\n    const unlock = await this.pauseUpstreamLock.lock();\r\n    try {\r\n      if (this._isUpstreamPaused === true) {\r\n        return;\r\n      }\r\n      if (!this.sender) {\r\n        log.warn('unable to pause upstream for an unpublished track');\r\n        return;\r\n      }\r\n\r\n      this._isUpstreamPaused = true;\r\n      this.emit(TrackEvent.UpstreamPaused, this);\r\n      if (emitMuteEvent) {\r\n        this.emit(TrackEvent.Muted, this);\r\n      }\r\n      const emptyTrack =\r\n        this.kind === Track.Kind.Audio ? getEmptyAudioStreamTrack() : getEmptyVideoStreamTrack();\r\n      await this.sender.replaceTrack(emptyTrack);\r\n    } finally {\r\n      unlock();\r\n    }\r\n  }\r\n\r\n  async resumeUpstream() {\r\n    const unlock = await this.pauseUpstreamLock.lock();\r\n    try {\r\n      if (this._isUpstreamPaused === false) {\r\n        return;\r\n      }\r\n      if (!this.sender) {\r\n        log.warn('unable to resume upstream for an unpublished track');\r\n        return;\r\n      }\r\n      this._isUpstreamPaused = false;\r\n      this.emit(TrackEvent.UpstreamResumed, this);\r\n\r\n      await this.sender.replaceTrack(this._mediaStreamTrack);\r\n    } finally {\r\n      unlock();\r\n    }\r\n  }\r\n\r\n  protected abstract monitorSender(): void;\r\n}\r\n","import log from '../../logger';\r\nimport { TrackEvent } from '../events';\r\nimport { AudioSenderStats, computeBitrate, monitorFrequency } from '../stats';\r\nimport { isWeb } from '../utils';\r\nimport LocalTrack from './LocalTrack';\r\nimport { Track } from './Track';\r\nimport type { AudioCaptureOptions } from './options';\r\nimport { constraintsForOptions, detectSilence } from './utils';\r\n\r\nexport default class LocalAudioTrack extends LocalTrack {\r\n  /** @internal */\r\n  stopOnMute: boolean = false;\r\n\r\n  private prevStats?: AudioSenderStats;\r\n\r\n  /**\r\n   *\r\n   * @param mediaTrack\r\n   * @param constraints MediaTrackConstraints that are being used when restarting or reacquiring tracks\r\n   * @param userProvidedTrack Signals to the SDK whether or not the mediaTrack should be managed (i.e. released and reacquired) internally by the SDK\r\n   */\r\n  constructor(\r\n    mediaTrack: MediaStreamTrack,\r\n    constraints?: MediaTrackConstraints,\r\n    userProvidedTrack = true,\r\n  ) {\r\n    super(mediaTrack, Track.Kind.Audio, constraints, userProvidedTrack);\r\n    this.checkForSilence();\r\n  }\r\n\r\n  async setDeviceId(deviceId: ConstrainDOMString) {\r\n    if (this.constraints.deviceId === deviceId) {\r\n      return;\r\n    }\r\n    this.constraints.deviceId = deviceId;\r\n    if (!this.isMuted) {\r\n      await this.restartTrack();\r\n    }\r\n  }\r\n\r\n  async mute(): Promise<LocalAudioTrack> {\r\n    const unlock = await this.muteLock.lock();\r\n    try {\r\n      // disabled special handling as it will cause BT headsets to switch communication modes\r\n      if (this.source === Track.Source.Microphone && this.stopOnMute && !this.isUserProvided) {\r\n        log.debug('stopping mic track');\r\n        // also stop the track, so that microphone indicator is turned off\r\n        this._mediaStreamTrack.stop();\r\n      }\r\n      await super.mute();\r\n      return this;\r\n    } finally {\r\n      unlock();\r\n    }\r\n  }\r\n\r\n  async unmute(): Promise<LocalAudioTrack> {\r\n    const unlock = await this.muteLock.lock();\r\n    try {\r\n      if (\r\n        this.source === Track.Source.Microphone &&\r\n        (this.stopOnMute || this._mediaStreamTrack.readyState === 'ended') &&\r\n        !this.isUserProvided\r\n      ) {\r\n        log.debug('reacquiring mic track');\r\n        await this.restartTrack();\r\n      }\r\n      await super.unmute();\r\n\r\n      return this;\r\n    } finally {\r\n      unlock();\r\n    }\r\n  }\r\n\r\n  async restartTrack(options?: AudioCaptureOptions) {\r\n    let constraints: MediaTrackConstraints | undefined;\r\n    if (options) {\r\n      const streamConstraints = constraintsForOptions({ audio: options });\r\n      if (typeof streamConstraints.audio !== 'boolean') {\r\n        constraints = streamConstraints.audio;\r\n      }\r\n    }\r\n    await this.restart(constraints);\r\n  }\r\n\r\n  protected async restart(constraints?: MediaTrackConstraints): Promise<LocalTrack> {\r\n    const track = await super.restart(constraints);\r\n    this.checkForSilence();\r\n    return track;\r\n  }\r\n\r\n  /* @internal */\r\n  startMonitor() {\r\n    if (!isWeb()) {\r\n      return;\r\n    }\r\n    if (this.monitorInterval) {\r\n      return;\r\n    }\r\n    this.monitorInterval = setInterval(() => {\r\n      this.monitorSender();\r\n    }, monitorFrequency);\r\n  }\r\n\r\n  protected monitorSender = async () => {\r\n    if (!this.sender) {\r\n      this._currentBitrate = 0;\r\n      return;\r\n    }\r\n\r\n    let stats: AudioSenderStats | undefined;\r\n    try {\r\n      stats = await this.getSenderStats();\r\n    } catch (e) {\r\n      log.error('could not get audio sender stats', { error: e });\r\n      return;\r\n    }\r\n\r\n    if (stats && this.prevStats) {\r\n      this._currentBitrate = computeBitrate(stats, this.prevStats);\r\n    }\r\n\r\n    this.prevStats = stats;\r\n  };\r\n\r\n  async getSenderStats(): Promise<AudioSenderStats | undefined> {\r\n    if (!this.sender?.getStats) {\r\n      return undefined;\r\n    }\r\n\r\n    const stats = await this.sender.getStats();\r\n    let audioStats: AudioSenderStats | undefined;\r\n    stats.forEach((v) => {\r\n      if (v.type === 'outbound-rtp') {\r\n        audioStats = {\r\n          type: 'audio',\r\n          streamId: v.id,\r\n          packetsSent: v.packetsSent,\r\n          packetsLost: v.packetsLost,\r\n          bytesSent: v.bytesSent,\r\n          timestamp: v.timestamp,\r\n          roundTripTime: v.roundTripTime,\r\n          jitter: v.jitter,\r\n        };\r\n      }\r\n    });\r\n\r\n    return audioStats;\r\n  }\r\n\r\n  async checkForSilence() {\r\n    const trackIsSilent = await detectSilence(this);\r\n    if (trackIsSilent) {\r\n      if (!this.isMuted) {\r\n        log.warn('silence detected on local audio track');\r\n      }\r\n      this.emit(TrackEvent.AudioSilenceDetected);\r\n    }\r\n    return trackIsSilent;\r\n  }\r\n}\r\n","import type { SignalClient } from '../../api/SignalClient';\r\nimport log from '../../logger';\r\nimport { VideoLayer, VideoQuality } from '../../proto/livekit_models';\r\nimport type { SubscribedCodec, SubscribedQuality } from '../../proto/livekit_rtc';\r\nimport { VideoSenderStats, computeBitrate, monitorFrequency } from '../stats';\r\nimport { Mutex, isFireFox, isMobile, isWeb } from '../utils';\r\nimport LocalTrack from './LocalTrack';\r\nimport { Track } from './Track';\r\nimport type { VideoCaptureOptions, VideoCodec } from './options';\r\nimport { constraintsForOptions } from './utils';\r\n\r\nexport class SimulcastTrackInfo {\r\n  codec: VideoCodec;\r\n\r\n  mediaStreamTrack: MediaStreamTrack;\r\n\r\n  sender?: RTCRtpSender;\r\n\r\n  encodings?: RTCRtpEncodingParameters[];\r\n\r\n  constructor(codec: VideoCodec, mediaStreamTrack: MediaStreamTrack) {\r\n    this.codec = codec;\r\n    this.mediaStreamTrack = mediaStreamTrack;\r\n  }\r\n}\r\n\r\nconst refreshSubscribedCodecAfterNewCodec = 5000;\r\n\r\nexport default class LocalVideoTrack extends LocalTrack {\r\n  /* @internal */\r\n  signalClient?: SignalClient;\r\n\r\n  private prevStats?: Map<string, VideoSenderStats>;\r\n\r\n  private encodings?: RTCRtpEncodingParameters[];\r\n\r\n  /* @internal */\r\n  simulcastCodecs: Map<VideoCodec, SimulcastTrackInfo> = new Map<VideoCodec, SimulcastTrackInfo>();\r\n\r\n  private subscribedCodecs?: SubscribedCodec[];\r\n\r\n  // prevents concurrent manipulations to track sender\r\n  // if multiple get/setParameter are called concurrently, certain timing of events\r\n  // could lead to the browser throwing an exception in `setParameter`, due to\r\n  // a missing `getParameter` call.\r\n  private senderLock: Mutex;\r\n\r\n  /**\r\n   *\r\n   * @param mediaTrack\r\n   * @param constraints MediaTrackConstraints that are being used when restarting or reacquiring tracks\r\n   * @param userProvidedTrack Signals to the SDK whether or not the mediaTrack should be managed (i.e. released and reacquired) internally by the SDK\r\n   */\r\n  constructor(\r\n    mediaTrack: MediaStreamTrack,\r\n    constraints?: MediaTrackConstraints,\r\n    userProvidedTrack = true,\r\n  ) {\r\n    super(mediaTrack, Track.Kind.Video, constraints, userProvidedTrack);\r\n    this.senderLock = new Mutex();\r\n  }\r\n\r\n  get isSimulcast(): boolean {\r\n    if (this.sender && this.sender.getParameters().encodings.length > 1) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /* @internal */\r\n  startMonitor(signalClient: SignalClient) {\r\n    this.signalClient = signalClient;\r\n    if (!isWeb()) {\r\n      return;\r\n    }\r\n    // save original encodings\r\n    // TODO : merge simulcast tracks stats\r\n    const params = this.sender?.getParameters();\r\n    if (params) {\r\n      this.encodings = params.encodings;\r\n    }\r\n\r\n    if (this.monitorInterval) {\r\n      return;\r\n    }\r\n    this.monitorInterval = setInterval(() => {\r\n      this.monitorSender();\r\n    }, monitorFrequency);\r\n  }\r\n\r\n  stop() {\r\n    this._mediaStreamTrack.getConstraints();\r\n    this.simulcastCodecs.forEach((trackInfo) => {\r\n      trackInfo.mediaStreamTrack.stop();\r\n    });\r\n    super.stop();\r\n  }\r\n\r\n  async mute(): Promise<LocalVideoTrack> {\r\n    const unlock = await this.muteLock.lock();\r\n    try {\r\n      if (this.source === Track.Source.Camera && !this.isUserProvided) {\r\n        log.debug('stopping camera track');\r\n        // also stop the track, so that camera indicator is turned off\r\n        this._mediaStreamTrack.stop();\r\n      }\r\n      await super.mute();\r\n      return this;\r\n    } finally {\r\n      unlock();\r\n    }\r\n  }\r\n\r\n  async unmute(): Promise<LocalVideoTrack> {\r\n    const unlock = await this.muteLock.lock();\r\n    try {\r\n      if (this.source === Track.Source.Camera && !this.isUserProvided) {\r\n        log.debug('reacquiring camera track');\r\n        await this.restartTrack();\r\n      }\r\n      await super.unmute();\r\n      return this;\r\n    } finally {\r\n      unlock();\r\n    }\r\n  }\r\n\r\n  async getSenderStats(): Promise<VideoSenderStats[]> {\r\n    if (!this.sender?.getStats) {\r\n      return [];\r\n    }\r\n\r\n    const items: VideoSenderStats[] = [];\r\n\r\n    const stats = await this.sender.getStats();\r\n    stats.forEach((v) => {\r\n      if (v.type === 'outbound-rtp') {\r\n        const vs: VideoSenderStats = {\r\n          type: 'video',\r\n          streamId: v.id,\r\n          frameHeight: v.frameHeight,\r\n          frameWidth: v.frameWidth,\r\n          firCount: v.firCount,\r\n          pliCount: v.pliCount,\r\n          nackCount: v.nackCount,\r\n          packetsSent: v.packetsSent,\r\n          bytesSent: v.bytesSent,\r\n          framesSent: v.framesSent,\r\n          timestamp: v.timestamp,\r\n          rid: v.rid ?? v.id,\r\n          retransmittedPacketsSent: v.retransmittedPacketsSent,\r\n          qualityLimitationReason: v.qualityLimitationReason,\r\n          qualityLimitationResolutionChanges: v.qualityLimitationResolutionChanges,\r\n        };\r\n\r\n        // locate the appropriate remote-inbound-rtp item\r\n        const r = stats.get(v.remoteId);\r\n        if (r) {\r\n          vs.jitter = r.jitter;\r\n          vs.packetsLost = r.packetsLost;\r\n          vs.roundTripTime = r.roundTripTime;\r\n        }\r\n\r\n        items.push(vs);\r\n      }\r\n    });\r\n\r\n    return items;\r\n  }\r\n\r\n  setPublishingQuality(maxQuality: VideoQuality) {\r\n    const qualities: SubscribedQuality[] = [];\r\n    for (let q = VideoQuality.LOW; q <= VideoQuality.HIGH; q += 1) {\r\n      qualities.push({\r\n        quality: q,\r\n        enabled: q <= maxQuality,\r\n      });\r\n    }\r\n    log.debug(`setting publishing quality. max quality ${maxQuality}`);\r\n    this.setPublishingLayers(qualities);\r\n  }\r\n\r\n  async setDeviceId(deviceId: ConstrainDOMString) {\r\n    if (this.constraints.deviceId === deviceId) {\r\n      return;\r\n    }\r\n    this.constraints.deviceId = deviceId;\r\n    // when video is muted, underlying media stream track is stopped and\r\n    // will be restarted later\r\n    if (!this.isMuted) {\r\n      await this.restartTrack();\r\n    }\r\n  }\r\n\r\n  async restartTrack(options?: VideoCaptureOptions) {\r\n    let constraints: MediaTrackConstraints | undefined;\r\n    if (options) {\r\n      const streamConstraints = constraintsForOptions({ video: options });\r\n      if (typeof streamConstraints.video !== 'boolean') {\r\n        constraints = streamConstraints.video;\r\n      }\r\n    }\r\n    await this.restart(constraints);\r\n  }\r\n\r\n  addSimulcastTrack(codec: VideoCodec, encodings?: RTCRtpEncodingParameters[]): SimulcastTrackInfo {\r\n    if (this.simulcastCodecs.has(codec)) {\r\n      throw new Error(`${codec} already added`);\r\n    }\r\n    const simulcastCodecInfo: SimulcastTrackInfo = {\r\n      codec,\r\n      mediaStreamTrack: this.mediaStreamTrack.clone(),\r\n      sender: undefined,\r\n      encodings,\r\n    };\r\n    this.simulcastCodecs.set(codec, simulcastCodecInfo);\r\n    return simulcastCodecInfo;\r\n  }\r\n\r\n  setSimulcastTrackSender(codec: VideoCodec, sender: RTCRtpSender) {\r\n    const simulcastCodecInfo = this.simulcastCodecs.get(codec);\r\n    if (!simulcastCodecInfo) {\r\n      return;\r\n    }\r\n    simulcastCodecInfo.sender = sender;\r\n\r\n    // browser will reenable disabled codec/layers after new codec has been published,\r\n    // so refresh subscribedCodecs after publish a new codec\r\n    setTimeout(() => {\r\n      if (this.subscribedCodecs) {\r\n        this.setPublishingCodecs(this.subscribedCodecs);\r\n      }\r\n    }, refreshSubscribedCodecAfterNewCodec);\r\n  }\r\n\r\n  /**\r\n   * @internal\r\n   * Sets codecs that should be publishing\r\n   */\r\n  async setPublishingCodecs(codecs: SubscribedCodec[]): Promise<VideoCodec[]> {\r\n    log.debug('setting publishing codecs', {\r\n      codecs,\r\n      currentCodec: this.codec,\r\n    });\r\n    // only enable simulcast codec for preference codec setted\r\n    if (!this.codec && codecs.length > 0) {\r\n      await this.setPublishingLayers(codecs[0].qualities);\r\n      return [];\r\n    }\r\n\r\n    this.subscribedCodecs = codecs;\r\n\r\n    const newCodecs: VideoCodec[] = [];\r\n    for await (const codec of codecs) {\r\n      if (!this.codec || this.codec === codec.codec) {\r\n        await this.setPublishingLayers(codec.qualities);\r\n      } else {\r\n        const simulcastCodecInfo = this.simulcastCodecs.get(codec.codec as VideoCodec);\r\n        log.debug(`try setPublishingCodec for ${codec.codec}`, simulcastCodecInfo);\r\n        if (!simulcastCodecInfo || !simulcastCodecInfo.sender) {\r\n          for (const q of codec.qualities) {\r\n            if (q.enabled) {\r\n              newCodecs.push(codec.codec as VideoCodec);\r\n              break;\r\n            }\r\n          }\r\n        } else if (simulcastCodecInfo.encodings) {\r\n          log.debug(`try setPublishingLayersForSender ${codec.codec}`);\r\n          await setPublishingLayersForSender(\r\n            simulcastCodecInfo.sender,\r\n            simulcastCodecInfo.encodings!,\r\n            codec.qualities,\r\n            this.senderLock,\r\n          );\r\n        }\r\n      }\r\n    }\r\n    return newCodecs;\r\n  }\r\n\r\n  /**\r\n   * @internal\r\n   * Sets layers that should be publishing\r\n   */\r\n  async setPublishingLayers(qualities: SubscribedQuality[]) {\r\n    log.debug('setting publishing layers', qualities);\r\n    if (!this.sender || !this.encodings) {\r\n      return;\r\n    }\r\n\r\n    await setPublishingLayersForSender(this.sender, this.encodings, qualities, this.senderLock);\r\n  }\r\n\r\n  protected monitorSender = async () => {\r\n    if (!this.sender) {\r\n      this._currentBitrate = 0;\r\n      return;\r\n    }\r\n\r\n    let stats: VideoSenderStats[] | undefined;\r\n    try {\r\n      stats = await this.getSenderStats();\r\n    } catch (e) {\r\n      log.error('could not get audio sender stats', { error: e });\r\n      return;\r\n    }\r\n    const statsMap = new Map<string, VideoSenderStats>(stats.map((s) => [s.rid, s]));\r\n\r\n    if (this.prevStats) {\r\n      let totalBitrate = 0;\r\n      statsMap.forEach((s, key) => {\r\n        const prev = this.prevStats?.get(key);\r\n        totalBitrate += computeBitrate(s, prev);\r\n      });\r\n      this._currentBitrate = totalBitrate;\r\n    }\r\n\r\n    this.prevStats = statsMap;\r\n  };\r\n\r\n  protected async handleAppVisibilityChanged() {\r\n    await super.handleAppVisibilityChanged();\r\n    if (!isMobile()) return;\r\n    if (this.isInBackground && this.source === Track.Source.Camera) {\r\n      this._mediaStreamTrack.enabled = false;\r\n    }\r\n  }\r\n}\r\n\r\nasync function setPublishingLayersForSender(\r\n  sender: RTCRtpSender,\r\n  senderEncodings: RTCRtpEncodingParameters[],\r\n  qualities: SubscribedQuality[],\r\n  senderLock: Mutex,\r\n) {\r\n  const unlock = await senderLock.lock();\r\n  log.debug('setPublishingLayersForSender', { sender, qualities, senderEncodings });\r\n  try {\r\n    const params = sender.getParameters();\r\n    const { encodings } = params;\r\n    if (!encodings) {\r\n      return;\r\n    }\r\n\r\n    if (encodings.length !== senderEncodings.length) {\r\n      log.warn('cannot set publishing layers, encodings mismatch');\r\n      return;\r\n    }\r\n\r\n    let hasChanged = false;\r\n    encodings.forEach((encoding, idx) => {\r\n      let rid = encoding.rid ?? '';\r\n      if (rid === '') {\r\n        rid = 'q';\r\n      }\r\n      const quality = videoQualityForRid(rid);\r\n      const subscribedQuality = qualities.find((q) => q.quality === quality);\r\n      if (!subscribedQuality) {\r\n        return;\r\n      }\r\n      if (encoding.active !== subscribedQuality.enabled) {\r\n        hasChanged = true;\r\n        encoding.active = subscribedQuality.enabled;\r\n        log.debug(\r\n          `setting layer ${subscribedQuality.quality} to ${\r\n            encoding.active ? 'enabled' : 'disabled'\r\n          }`,\r\n        );\r\n\r\n        // FireFox does not support setting encoding.active to false, so we\r\n        // have a workaround of lowering its bitrate and resolution to the min.\r\n        if (isFireFox()) {\r\n          if (subscribedQuality.enabled) {\r\n            encoding.scaleResolutionDownBy = senderEncodings[idx].scaleResolutionDownBy;\r\n            encoding.maxBitrate = senderEncodings[idx].maxBitrate;\r\n            /* @ts-ignore */\r\n            encoding.maxFrameRate = senderEncodings[idx].maxFrameRate;\r\n          } else {\r\n            encoding.scaleResolutionDownBy = 4;\r\n            encoding.maxBitrate = 10;\r\n            /* @ts-ignore */\r\n            encoding.maxFrameRate = 2;\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    if (hasChanged) {\r\n      params.encodings = encodings;\r\n      await sender.setParameters(params);\r\n    }\r\n  } finally {\r\n    unlock();\r\n  }\r\n}\r\n\r\nexport function videoQualityForRid(rid: string): VideoQuality {\r\n  switch (rid) {\r\n    case 'f':\r\n      return VideoQuality.HIGH;\r\n    case 'h':\r\n      return VideoQuality.MEDIUM;\r\n    case 'q':\r\n      return VideoQuality.LOW;\r\n    default:\r\n      return VideoQuality.UNRECOGNIZED;\r\n  }\r\n}\r\n\r\nexport function videoLayersFromEncodings(\r\n  width: number,\r\n  height: number,\r\n  encodings?: RTCRtpEncodingParameters[],\r\n): VideoLayer[] {\r\n  // default to a single layer, HQ\r\n  if (!encodings) {\r\n    return [\r\n      {\r\n        quality: VideoQuality.HIGH,\r\n        width,\r\n        height,\r\n        bitrate: 0,\r\n        ssrc: 0,\r\n      },\r\n    ];\r\n  }\r\n  return encodings.map((encoding) => {\r\n    const scale = encoding.scaleResolutionDownBy ?? 1;\r\n    let quality = videoQualityForRid(encoding.rid ?? '');\r\n    if (quality === VideoQuality.UNRECOGNIZED && encodings.length === 1) {\r\n      quality = VideoQuality.HIGH;\r\n    }\r\n    return {\r\n      quality,\r\n      width: width / scale,\r\n      height: height / scale,\r\n      bitrate: encoding.maxBitrate ?? 0,\r\n      ssrc: 0,\r\n    };\r\n  });\r\n}\r\n","import { TrackEvent } from '../events';\r\nimport { monitorFrequency } from '../stats';\r\nimport { Track } from './Track';\r\n\r\nexport default abstract class RemoteTrack extends Track {\r\n  /** @internal */\r\n  receiver?: RTCRtpReceiver;\r\n\r\n  constructor(\r\n    mediaTrack: MediaStreamTrack,\r\n    sid: string,\r\n    kind: Track.Kind,\r\n    receiver?: RTCRtpReceiver,\r\n  ) {\r\n    super(mediaTrack, kind);\r\n    this.sid = sid;\r\n    this.receiver = receiver;\r\n  }\r\n\r\n  /** @internal */\r\n  setMuted(muted: boolean) {\r\n    if (this.isMuted !== muted) {\r\n      this.isMuted = muted;\r\n      this._mediaStreamTrack.enabled = !muted;\r\n      this.emit(muted ? TrackEvent.Muted : TrackEvent.Unmuted, this);\r\n    }\r\n  }\r\n\r\n  /** @internal */\r\n  setMediaStream(stream: MediaStream) {\r\n    // this is needed to determine when the track is finished\r\n    // we send each track down in its own MediaStream, so we can assume the\r\n    // current track is the only one that can be removed.\r\n    this.mediaStream = stream;\r\n    stream.onremovetrack = () => {\r\n      this.receiver = undefined;\r\n      this._currentBitrate = 0;\r\n      this.emit(TrackEvent.Ended, this);\r\n    };\r\n  }\r\n\r\n  start() {\r\n    this.startMonitor();\r\n    // use `enabled` of track to enable re-use of transceiver\r\n    super.enable();\r\n  }\r\n\r\n  stop() {\r\n    this.stopMonitor();\r\n    // use `enabled` of track to enable re-use of transceiver\r\n    super.disable();\r\n  }\r\n\r\n  /* @internal */\r\n  startMonitor() {\r\n    if (!this.monitorInterval) {\r\n      this.monitorInterval = setInterval(() => this.monitorReceiver(), monitorFrequency);\r\n    }\r\n  }\r\n\r\n  protected abstract monitorReceiver(): void;\r\n}\r\n","import log from '../../logger';\r\nimport { TrackEvent } from '../events';\r\nimport { AudioReceiverStats, computeBitrate } from '../stats';\r\nimport { supportsSetSinkId } from '../utils';\r\nimport RemoteTrack from './RemoteTrack';\r\nimport { Track } from './Track';\r\nimport type { AudioOutputOptions } from './options';\r\n\r\nexport default class RemoteAudioTrack extends RemoteTrack {\r\n  private prevStats?: AudioReceiverStats;\r\n\r\n  private elementVolume: number | undefined;\r\n\r\n  private audioContext?: AudioContext;\r\n\r\n  private gainNode?: GainNode;\r\n\r\n  private sourceNode?: MediaStreamAudioSourceNode;\r\n\r\n  private webAudioPluginNodes: AudioNode[];\r\n\r\n  private sinkId?: string;\r\n\r\n  constructor(\r\n    mediaTrack: MediaStreamTrack,\r\n    sid: string,\r\n    receiver?: RTCRtpReceiver,\r\n    audioContext?: AudioContext,\r\n    audioOutput?: AudioOutputOptions,\r\n  ) {\r\n    super(mediaTrack, sid, Track.Kind.Audio, receiver);\r\n    this.audioContext = audioContext;\r\n    this.webAudioPluginNodes = [];\r\n    if (audioOutput) {\r\n      this.sinkId = audioOutput.deviceId;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * sets the volume for all attached audio elements\r\n   */\r\n  setVolume(volume: number) {\r\n    for (const el of this.attachedElements) {\r\n      if (this.audioContext) {\r\n        this.gainNode?.gain.setTargetAtTime(volume, 0, 0.1);\r\n      } else {\r\n        el.volume = volume;\r\n      }\r\n    }\r\n    this.elementVolume = volume;\r\n  }\r\n\r\n  /**\r\n   * gets the volume of attached audio elements (loudest)\r\n   */\r\n  getVolume(): number {\r\n    if (this.elementVolume) {\r\n      return this.elementVolume;\r\n    }\r\n    let highestVolume = 0;\r\n    this.attachedElements.forEach((element) => {\r\n      if (element.volume > highestVolume) {\r\n        highestVolume = element.volume;\r\n      }\r\n    });\r\n    return highestVolume;\r\n  }\r\n\r\n  /**\r\n   * calls setSinkId on all attached elements, if supported\r\n   * @param deviceId audio output device\r\n   */\r\n  async setSinkId(deviceId: string) {\r\n    this.sinkId = deviceId;\r\n    await Promise.all(\r\n      this.attachedElements.map((elm) => {\r\n        if (!supportsSetSinkId(elm)) {\r\n          return;\r\n        }\r\n        /* @ts-ignore */\r\n        return elm.setSinkId(deviceId) as Promise<void>;\r\n      }),\r\n    );\r\n  }\r\n\r\n  attach(): HTMLMediaElement;\r\n  attach(element: HTMLMediaElement): HTMLMediaElement;\r\n  attach(element?: HTMLMediaElement): HTMLMediaElement {\r\n    const needsNewWebAudioConnection = this.attachedElements.length === 0;\r\n    if (!element) {\r\n      element = super.attach();\r\n    } else {\r\n      super.attach(element);\r\n    }\r\n    if (this.elementVolume) {\r\n      element.volume = this.elementVolume;\r\n    }\r\n    if (this.sinkId && supportsSetSinkId(element)) {\r\n      /* @ts-ignore */\r\n      element.setSinkId(this.sinkId);\r\n    }\r\n    if (this.audioContext && needsNewWebAudioConnection) {\r\n      log.debug('using audio context mapping');\r\n      this.connectWebAudio(this.audioContext, element);\r\n      element.volume = 0;\r\n      element.muted = true;\r\n    }\r\n    return element;\r\n  }\r\n\r\n  /**\r\n   * Detaches from all attached elements\r\n   */\r\n  detach(): HTMLMediaElement[];\r\n\r\n  /**\r\n   * Detach from a single element\r\n   * @param element\r\n   */\r\n  detach(element: HTMLMediaElement): HTMLMediaElement;\r\n  detach(element?: HTMLMediaElement): HTMLMediaElement | HTMLMediaElement[] {\r\n    let detached: HTMLMediaElement | HTMLMediaElement[];\r\n    if (!element) {\r\n      detached = super.detach();\r\n      this.disconnectWebAudio();\r\n    } else {\r\n      detached = super.detach(element);\r\n      // if there are still any attached elements after detaching, connect webaudio to the first element that's left\r\n      // disconnect webaudio otherwise\r\n      if (this.audioContext) {\r\n        if (this.attachedElements.length > 0) {\r\n          this.connectWebAudio(this.audioContext, this.attachedElements[0]);\r\n        } else {\r\n          this.disconnectWebAudio();\r\n        }\r\n      }\r\n    }\r\n    return detached;\r\n  }\r\n\r\n  /**\r\n   * @internal\r\n   * @experimental\r\n   */\r\n  setAudioContext(audioContext: AudioContext | undefined) {\r\n    this.audioContext = audioContext;\r\n    if (audioContext && this.attachedElements.length > 0) {\r\n      this.connectWebAudio(audioContext, this.attachedElements[0]);\r\n    } else if (!audioContext) {\r\n      this.disconnectWebAudio();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @internal\r\n   * @experimental\r\n   * @param {AudioNode[]} nodes - An array of WebAudio nodes. These nodes should not be connected to each other when passed, as the sdk will take care of connecting them in the order of the array.\r\n   */\r\n  setWebAudioPlugins(nodes: AudioNode[]) {\r\n    this.webAudioPluginNodes = nodes;\r\n    if (this.attachedElements.length > 0 && this.audioContext) {\r\n      this.connectWebAudio(this.audioContext, this.attachedElements[0]);\r\n    }\r\n  }\r\n\r\n  private connectWebAudio(context: AudioContext, element: HTMLMediaElement) {\r\n    this.disconnectWebAudio();\r\n    // @ts-ignore attached elements always have a srcObject set\r\n    this.sourceNode = context.createMediaStreamSource(element.srcObject);\r\n    let lastNode: AudioNode = this.sourceNode;\r\n    this.webAudioPluginNodes.forEach((node) => {\r\n      lastNode.connect(node);\r\n      lastNode = node;\r\n    });\r\n    this.gainNode = context.createGain();\r\n    lastNode.connect(this.gainNode);\r\n    this.gainNode.connect(context.destination);\r\n\r\n    if (this.elementVolume) {\r\n      this.gainNode.gain.setTargetAtTime(this.elementVolume, 0, 0.1);\r\n    }\r\n\r\n    // try to resume the context if it isn't running already\r\n    if (context.state !== 'running') {\r\n      context\r\n        .resume()\r\n        .then(() => {\r\n          if (context.state !== 'running') {\r\n            this.emit(\r\n              TrackEvent.AudioPlaybackFailed,\r\n              new Error(\"Audio Context couldn't be started automatically\"),\r\n            );\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          this.emit(TrackEvent.AudioPlaybackFailed, e);\r\n        });\r\n    }\r\n  }\r\n\r\n  private disconnectWebAudio() {\r\n    this.gainNode?.disconnect();\r\n    this.sourceNode?.disconnect();\r\n    this.gainNode = undefined;\r\n    this.sourceNode = undefined;\r\n  }\r\n\r\n  protected monitorReceiver = async () => {\r\n    if (!this.receiver) {\r\n      this._currentBitrate = 0;\r\n      return;\r\n    }\r\n    const stats = await this.getReceiverStats();\r\n\r\n    if (stats && this.prevStats && this.receiver) {\r\n      this._currentBitrate = computeBitrate(stats, this.prevStats);\r\n    }\r\n\r\n    this.prevStats = stats;\r\n  };\r\n\r\n  protected async getReceiverStats(): Promise<AudioReceiverStats | undefined> {\r\n    if (!this.receiver || !this.receiver.getStats) {\r\n      return;\r\n    }\r\n\r\n    const stats = await this.receiver.getStats();\r\n    let receiverStats: AudioReceiverStats | undefined;\r\n    stats.forEach((v) => {\r\n      if (v.type === 'inbound-rtp') {\r\n        receiverStats = {\r\n          type: 'audio',\r\n          timestamp: v.timestamp,\r\n          jitter: v.jitter,\r\n          bytesReceived: v.bytesReceived,\r\n          concealedSamples: v.concealedSamples,\r\n          concealmentEvents: v.concealmentEvents,\r\n          silentConcealedSamples: v.silentConcealedSamples,\r\n          silentConcealmentEvents: v.silentConcealmentEvents,\r\n          totalAudioEnergy: v.totalAudioEnergy,\r\n          totalSamplesDuration: v.totalSamplesDuration,\r\n        };\r\n      }\r\n    });\r\n    return receiverStats;\r\n  }\r\n}\r\n","import { debounce } from 'ts-debounce';\r\nimport log from '../../logger';\r\nimport { TrackEvent } from '../events';\r\nimport { VideoReceiverStats, computeBitrate } from '../stats';\r\nimport CriticalTimers from '../timers';\r\nimport {\r\n  ObservableMediaElement,\r\n  getDevicePixelRatio,\r\n  getIntersectionObserver,\r\n  getResizeObserver,\r\n  isWeb,\r\n} from '../utils';\r\nimport RemoteTrack from './RemoteTrack';\r\nimport { Track, attachToElement, detachTrack } from './Track';\r\nimport type { AdaptiveStreamSettings } from './types';\r\n\r\nconst REACTION_DELAY = 100;\r\n\r\nexport default class RemoteVideoTrack extends RemoteTrack {\r\n  private prevStats?: VideoReceiverStats;\r\n\r\n  private elementInfos: ElementInfo[] = [];\r\n\r\n  private adaptiveStreamSettings?: AdaptiveStreamSettings;\r\n\r\n  private lastVisible?: boolean;\r\n\r\n  private lastDimensions?: Track.Dimensions;\r\n\r\n  private isObserved: boolean = false;\r\n\r\n  constructor(\r\n    mediaTrack: MediaStreamTrack,\r\n    sid: string,\r\n    receiver?: RTCRtpReceiver,\r\n    adaptiveStreamSettings?: AdaptiveStreamSettings,\r\n  ) {\r\n    super(mediaTrack, sid, Track.Kind.Video, receiver);\r\n    this.adaptiveStreamSettings = adaptiveStreamSettings;\r\n  }\r\n\r\n  get isAdaptiveStream(): boolean {\r\n    return this.adaptiveStreamSettings !== undefined;\r\n  }\r\n\r\n  get mediaStreamTrack() {\r\n    if (this.isAdaptiveStream && !this.isObserved) {\r\n      log.warn(\r\n        'When using adaptiveStream, you need to use remoteVideoTrack.attach() to add the track to a HTMLVideoElement, otherwise your video tracks might never start',\r\n      );\r\n    }\r\n    return this._mediaStreamTrack;\r\n  }\r\n\r\n  /** @internal */\r\n  setMuted(muted: boolean) {\r\n    super.setMuted(muted);\r\n\r\n    this.attachedElements.forEach((element) => {\r\n      // detach or attach\r\n      if (muted) {\r\n        detachTrack(this._mediaStreamTrack, element);\r\n      } else {\r\n        attachToElement(this._mediaStreamTrack, element);\r\n      }\r\n    });\r\n  }\r\n\r\n  attach(): HTMLMediaElement;\r\n  attach(element: HTMLMediaElement): HTMLMediaElement;\r\n  attach(element?: HTMLMediaElement): HTMLMediaElement {\r\n    if (!element) {\r\n      element = super.attach();\r\n    } else {\r\n      super.attach(element);\r\n    }\r\n\r\n    // It's possible attach is called multiple times on an element. When that's\r\n    // the case, we'd want to avoid adding duplicate elementInfos\r\n    if (\r\n      this.adaptiveStreamSettings &&\r\n      this.elementInfos.find((info) => info.element === element) === undefined\r\n    ) {\r\n      const elementInfo = new HTMLElementInfo(element);\r\n      this.observeElementInfo(elementInfo);\r\n    }\r\n    return element;\r\n  }\r\n\r\n  /**\r\n   * Observe an ElementInfo for changes when adaptive streaming.\r\n   * @param elementInfo\r\n   * @internal\r\n   */\r\n  observeElementInfo(elementInfo: ElementInfo) {\r\n    if (\r\n      this.adaptiveStreamSettings &&\r\n      this.elementInfos.find((info) => info === elementInfo) === undefined\r\n    ) {\r\n      elementInfo.handleResize = () => {\r\n        this.debouncedHandleResize();\r\n      };\r\n      elementInfo.handleVisibilityChanged = () => {\r\n        this.updateVisibility();\r\n      };\r\n      this.elementInfos.push(elementInfo);\r\n      elementInfo.observe();\r\n      // trigger the first resize update cycle\r\n      // if the tab is backgrounded, the initial resize event does not fire until\r\n      // the tab comes into focus for the first time.\r\n      this.debouncedHandleResize();\r\n      this.updateVisibility();\r\n      this.isObserved = true;\r\n    } else {\r\n      log.warn('visibility resize observer not triggered');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Stop observing an ElementInfo for changes.\r\n   * @param elementInfo\r\n   * @internal\r\n   */\r\n  stopObservingElementInfo(elementInfo: ElementInfo) {\r\n    if (!this.isAdaptiveStream) {\r\n      log.warn('stopObservingElementInfo ignored');\r\n      return;\r\n    }\r\n    const stopElementInfos = this.elementInfos.filter((info) => info === elementInfo);\r\n    for (const info of stopElementInfos) {\r\n      info.stopObserving();\r\n    }\r\n    this.elementInfos = this.elementInfos.filter((info) => info !== elementInfo);\r\n    this.updateVisibility();\r\n  }\r\n\r\n  detach(): HTMLMediaElement[];\r\n  detach(element: HTMLMediaElement): HTMLMediaElement;\r\n  detach(element?: HTMLMediaElement): HTMLMediaElement | HTMLMediaElement[] {\r\n    let detachedElements: HTMLMediaElement[] = [];\r\n    if (element) {\r\n      this.stopObservingElement(element);\r\n      return super.detach(element);\r\n    }\r\n    detachedElements = super.detach();\r\n\r\n    for (const e of detachedElements) {\r\n      this.stopObservingElement(e);\r\n    }\r\n\r\n    return detachedElements;\r\n  }\r\n\r\n  /** @internal */\r\n  getDecoderImplementation(): string | undefined {\r\n    return this.prevStats?.decoderImplementation;\r\n  }\r\n\r\n  protected monitorReceiver = async () => {\r\n    if (!this.receiver) {\r\n      this._currentBitrate = 0;\r\n      return;\r\n    }\r\n    const stats = await this.getReceiverStats();\r\n\r\n    if (stats && this.prevStats && this.receiver) {\r\n      this._currentBitrate = computeBitrate(stats, this.prevStats);\r\n    }\r\n\r\n    this.prevStats = stats;\r\n  };\r\n\r\n  private async getReceiverStats(): Promise<VideoReceiverStats | undefined> {\r\n    if (!this.receiver || !this.receiver.getStats) {\r\n      return;\r\n    }\r\n\r\n    const stats = await this.receiver.getStats();\r\n    let receiverStats: VideoReceiverStats | undefined;\r\n    stats.forEach((v) => {\r\n      if (v.type === 'inbound-rtp') {\r\n        receiverStats = {\r\n          type: 'video',\r\n          framesDecoded: v.framesDecoded,\r\n          framesDropped: v.framesDropped,\r\n          framesReceived: v.framesReceived,\r\n          packetsReceived: v.packetsReceived,\r\n          packetsLost: v.packetsLost,\r\n          frameWidth: v.frameWidth,\r\n          frameHeight: v.frameHeight,\r\n          pliCount: v.pliCount,\r\n          firCount: v.firCount,\r\n          nackCount: v.nackCount,\r\n          jitter: v.jitter,\r\n          timestamp: v.timestamp,\r\n          bytesReceived: v.bytesReceived,\r\n          decoderImplementation: v.decoderImplementation,\r\n        };\r\n      }\r\n    });\r\n    return receiverStats;\r\n  }\r\n\r\n  private stopObservingElement(element: HTMLMediaElement) {\r\n    const stopElementInfos = this.elementInfos.filter((info) => info.element === element);\r\n    for (const info of stopElementInfos) {\r\n      info.stopObserving();\r\n    }\r\n    this.elementInfos = this.elementInfos.filter((info) => info.element !== element);\r\n  }\r\n\r\n  protected async handleAppVisibilityChanged() {\r\n    await super.handleAppVisibilityChanged();\r\n    if (!this.isAdaptiveStream) return;\r\n    this.updateVisibility();\r\n  }\r\n\r\n  private readonly debouncedHandleResize = debounce(() => {\r\n    this.updateDimensions();\r\n  }, REACTION_DELAY);\r\n\r\n  private updateVisibility() {\r\n    const lastVisibilityChange = this.elementInfos.reduce(\r\n      (prev, info) => Math.max(prev, info.visibilityChangedAt || 0),\r\n      0,\r\n    );\r\n\r\n    const backgroundPause =\r\n      this.adaptiveStreamSettings?.pauseVideoInBackground ?? true // default to true\r\n        ? this.isInBackground\r\n        : false;\r\n    const isPiPMode = this.elementInfos.some((info) => info.pictureInPicture);\r\n    const isVisible =\r\n      (this.elementInfos.some((info) => info.visible) && !backgroundPause) || isPiPMode;\r\n\r\n    if (this.lastVisible === isVisible) {\r\n      return;\r\n    }\r\n\r\n    if (!isVisible && Date.now() - lastVisibilityChange < REACTION_DELAY) {\r\n      // delay hidden events\r\n      CriticalTimers.setTimeout(() => {\r\n        this.updateVisibility();\r\n      }, REACTION_DELAY);\r\n      return;\r\n    }\r\n\r\n    this.lastVisible = isVisible;\r\n    this.emit(TrackEvent.VisibilityChanged, isVisible, this);\r\n  }\r\n\r\n  private updateDimensions() {\r\n    let maxWidth = 0;\r\n    let maxHeight = 0;\r\n    for (const info of this.elementInfos) {\r\n      const pixelDensity = this.adaptiveStreamSettings?.pixelDensity ?? 1;\r\n      const pixelDensityValue = pixelDensity === 'screen' ? getDevicePixelRatio() : pixelDensity;\r\n      const currentElementWidth = info.width() * pixelDensityValue;\r\n      const currentElementHeight = info.height() * pixelDensityValue;\r\n      if (currentElementWidth + currentElementHeight > maxWidth + maxHeight) {\r\n        maxWidth = currentElementWidth;\r\n        maxHeight = currentElementHeight;\r\n      }\r\n    }\r\n\r\n    if (this.lastDimensions?.width === maxWidth && this.lastDimensions?.height === maxHeight) {\r\n      return;\r\n    }\r\n\r\n    this.lastDimensions = {\r\n      width: maxWidth,\r\n      height: maxHeight,\r\n    };\r\n\r\n    this.emit(TrackEvent.VideoDimensionsChanged, this.lastDimensions, this);\r\n  }\r\n}\r\n\r\nexport interface ElementInfo {\r\n  element: object;\r\n  width(): number;\r\n  height(): number;\r\n  visible: boolean;\r\n  pictureInPicture: boolean;\r\n  visibilityChangedAt: number | undefined;\r\n\r\n  handleResize?: () => void;\r\n  handleVisibilityChanged?: () => void;\r\n  observe(): void;\r\n  stopObserving(): void;\r\n}\r\n\r\nclass HTMLElementInfo implements ElementInfo {\r\n  element: HTMLMediaElement;\r\n\r\n  get visible(): boolean {\r\n    return this.isPiP || this.isIntersecting;\r\n  }\r\n\r\n  get pictureInPicture(): boolean {\r\n    return this.isPiP;\r\n  }\r\n\r\n  visibilityChangedAt: number | undefined;\r\n\r\n  handleResize?: () => void;\r\n\r\n  handleVisibilityChanged?: () => void;\r\n\r\n  private isPiP: boolean;\r\n\r\n  private isIntersecting: boolean;\r\n\r\n  constructor(element: HTMLMediaElement, visible?: boolean) {\r\n    this.element = element;\r\n    this.isIntersecting = visible ?? isElementInViewport(element);\r\n    this.isPiP = isWeb() && document.pictureInPictureElement === element;\r\n    this.visibilityChangedAt = 0;\r\n  }\r\n\r\n  width(): number {\r\n    return this.element.clientWidth;\r\n  }\r\n\r\n  height(): number {\r\n    return this.element.clientHeight;\r\n  }\r\n\r\n  observe() {\r\n    // make sure we update the current visible state once we start to observe\r\n    this.isIntersecting = isElementInViewport(this.element);\r\n    this.isPiP = document.pictureInPictureElement === this.element;\r\n\r\n    (this.element as ObservableMediaElement).handleResize = () => {\r\n      this.handleResize?.();\r\n    };\r\n    (this.element as ObservableMediaElement).handleVisibilityChanged = this.onVisibilityChanged;\r\n\r\n    getIntersectionObserver().observe(this.element);\r\n    getResizeObserver().observe(this.element);\r\n    (this.element as HTMLVideoElement).addEventListener('enterpictureinpicture', this.onEnterPiP);\r\n    (this.element as HTMLVideoElement).addEventListener('leavepictureinpicture', this.onLeavePiP);\r\n  }\r\n\r\n  private onVisibilityChanged = (entry: IntersectionObserverEntry) => {\r\n    const { target, isIntersecting } = entry;\r\n    if (target === this.element) {\r\n      this.isIntersecting = isIntersecting;\r\n      this.visibilityChangedAt = Date.now();\r\n      this.handleVisibilityChanged?.();\r\n    }\r\n  };\r\n\r\n  private onEnterPiP = () => {\r\n    this.isPiP = true;\r\n    this.handleVisibilityChanged?.();\r\n  };\r\n\r\n  private onLeavePiP = () => {\r\n    this.isPiP = false;\r\n    this.handleVisibilityChanged?.();\r\n  };\r\n\r\n  stopObserving() {\r\n    getIntersectionObserver()?.unobserve(this.element);\r\n    getResizeObserver()?.unobserve(this.element);\r\n    (this.element as HTMLVideoElement).removeEventListener(\r\n      'enterpictureinpicture',\r\n      this.onEnterPiP,\r\n    );\r\n    (this.element as HTMLVideoElement).removeEventListener(\r\n      'leavepictureinpicture',\r\n      this.onLeavePiP,\r\n    );\r\n  }\r\n}\r\n\r\n// does not account for occlusion by other elements\r\nfunction isElementInViewport(el: HTMLElement) {\r\n  let top = el.offsetTop;\r\n  let left = el.offsetLeft;\r\n  const width = el.offsetWidth;\r\n  const height = el.offsetHeight;\r\n  const { hidden } = el;\r\n  const { opacity, display } = getComputedStyle(el);\r\n\r\n  while (el.offsetParent) {\r\n    el = el.offsetParent as HTMLElement;\r\n    top += el.offsetTop;\r\n    left += el.offsetLeft;\r\n  }\r\n\r\n  return (\r\n    top < window.pageYOffset + window.innerHeight &&\r\n    left < window.pageXOffset + window.innerWidth &&\r\n    top + height > window.pageYOffset &&\r\n    left + width > window.pageXOffset &&\r\n    !hidden &&\r\n    (opacity !== '' ? parseFloat(opacity) > 0 : true) &&\r\n    display !== 'none'\r\n  );\r\n}\r\n","import { EventEmitter } from 'events';\r\nimport type TypedEventEmitter from 'typed-emitter';\r\nimport log from '../../logger';\r\nimport type { TrackInfo } from '../../proto/livekit_models';\r\nimport type { UpdateSubscription, UpdateTrackSettings } from '../../proto/livekit_rtc';\r\nimport { TrackEvent } from '../events';\r\nimport LocalAudioTrack from './LocalAudioTrack';\r\nimport LocalVideoTrack from './LocalVideoTrack';\r\nimport RemoteAudioTrack from './RemoteAudioTrack';\r\nimport type RemoteTrack from './RemoteTrack';\r\nimport RemoteVideoTrack from './RemoteVideoTrack';\r\nimport { Track } from './Track';\r\n\r\nexport class TrackPublication extends (EventEmitter as new () => TypedEventEmitter<PublicationEventCallbacks>) {\r\n  kind: Track.Kind;\r\n\r\n  trackName: string;\r\n\r\n  trackSid: Track.SID;\r\n\r\n  track?: Track;\r\n\r\n  source: Track.Source;\r\n\r\n  /** MimeType of the published track */\r\n  mimeType?: string;\r\n\r\n  /** dimension of the original published stream, video-only */\r\n  dimensions?: Track.Dimensions;\r\n\r\n  /** true if track was simulcasted to server, video-only */\r\n  simulcasted?: boolean;\r\n\r\n  /** @internal */\r\n  trackInfo?: TrackInfo;\r\n\r\n  protected metadataMuted: boolean = false;\r\n\r\n  constructor(kind: Track.Kind, id: string, name: string) {\r\n    super();\r\n    this.setMaxListeners(100);\r\n    this.kind = kind;\r\n    this.trackSid = id;\r\n    this.trackName = name;\r\n    this.source = Track.Source.Unknown;\r\n  }\r\n\r\n  /** @internal */\r\n  setTrack(track?: Track) {\r\n    if (this.track) {\r\n      this.track.off(TrackEvent.Muted, this.handleMuted);\r\n      this.track.off(TrackEvent.Unmuted, this.handleUnmuted);\r\n    }\r\n\r\n    this.track = track;\r\n\r\n    if (track) {\r\n      // forward events\r\n      track.on(TrackEvent.Muted, this.handleMuted);\r\n      track.on(TrackEvent.Unmuted, this.handleUnmuted);\r\n    }\r\n  }\r\n\r\n  get isMuted(): boolean {\r\n    return this.metadataMuted;\r\n  }\r\n\r\n  get isEnabled(): boolean {\r\n    return true;\r\n  }\r\n\r\n  get isSubscribed(): boolean {\r\n    return this.track !== undefined;\r\n  }\r\n\r\n  /**\r\n   * an [AudioTrack] if this publication holds an audio track\r\n   */\r\n  get audioTrack(): LocalAudioTrack | RemoteAudioTrack | undefined {\r\n    if (this.track instanceof LocalAudioTrack || this.track instanceof RemoteAudioTrack) {\r\n      return this.track;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * an [VideoTrack] if this publication holds a video track\r\n   */\r\n  get videoTrack(): LocalVideoTrack | RemoteVideoTrack | undefined {\r\n    if (this.track instanceof LocalVideoTrack || this.track instanceof RemoteVideoTrack) {\r\n      return this.track;\r\n    }\r\n  }\r\n\r\n  handleMuted = () => {\r\n    this.emit(TrackEvent.Muted);\r\n  };\r\n\r\n  handleUnmuted = () => {\r\n    this.emit(TrackEvent.Unmuted);\r\n  };\r\n\r\n  /** @internal */\r\n  updateInfo(info: TrackInfo) {\r\n    this.trackSid = info.sid;\r\n    this.trackName = info.name;\r\n    this.source = Track.sourceFromProto(info.source);\r\n    this.mimeType = info.mimeType;\r\n    if (this.kind === Track.Kind.Video && info.width > 0) {\r\n      this.dimensions = {\r\n        width: info.width,\r\n        height: info.height,\r\n      };\r\n      this.simulcasted = info.simulcast;\r\n    }\r\n    this.trackInfo = info;\r\n    log.trace('update publication info', { info });\r\n  }\r\n}\r\n\r\nexport namespace TrackPublication {\r\n  export enum SubscriptionStatus {\r\n    Desired = 'desired',\r\n    Subscribed = 'subscribed',\r\n    Unsubscribed = 'unsubscribed',\r\n  }\r\n\r\n  export enum PermissionStatus {\r\n    Allowed = 'allowed',\r\n    NotAllowed = 'not_allowed',\r\n  }\r\n}\r\n\r\nexport type PublicationEventCallbacks = {\r\n  muted: () => void;\r\n  unmuted: () => void;\r\n  ended: (track?: Track) => void;\r\n  updateSettings: (settings: UpdateTrackSettings) => void;\r\n  subscriptionPermissionChanged: (\r\n    status: TrackPublication.PermissionStatus,\r\n    prevStatus: TrackPublication.PermissionStatus,\r\n  ) => void;\r\n  updateSubscription: (sub: UpdateSubscription) => void;\r\n  subscribed: (track: RemoteTrack) => void;\r\n  unsubscribed: (track: RemoteTrack) => void;\r\n  subscriptionStatusChanged: (\r\n    status: TrackPublication.SubscriptionStatus,\r\n    prevStatus: TrackPublication.SubscriptionStatus,\r\n  ) => void;\r\n};\r\n","import type { TrackInfo } from '../../proto/livekit_models';\r\nimport { TrackEvent } from '../events';\r\nimport type LocalAudioTrack from './LocalAudioTrack';\r\nimport type LocalTrack from './LocalTrack';\r\nimport type LocalVideoTrack from './LocalVideoTrack';\r\nimport type { Track } from './Track';\r\nimport { TrackPublication } from './TrackPublication';\r\nimport type { TrackPublishOptions } from './options';\r\n\r\nexport default class LocalTrackPublication extends TrackPublication {\r\n  track?: LocalTrack = undefined;\r\n\r\n  options?: TrackPublishOptions;\r\n\r\n  get isUpstreamPaused() {\r\n    return this.track?.isUpstreamPaused;\r\n  }\r\n\r\n  constructor(kind: Track.Kind, ti: TrackInfo, track?: LocalTrack) {\r\n    super(kind, ti.sid, ti.name);\r\n\r\n    this.updateInfo(ti);\r\n    this.setTrack(track);\r\n  }\r\n\r\n  setTrack(track?: Track) {\r\n    if (this.track) {\r\n      this.track.off(TrackEvent.Ended, this.handleTrackEnded);\r\n    }\r\n\r\n    super.setTrack(track);\r\n\r\n    if (track) {\r\n      track.on(TrackEvent.Ended, this.handleTrackEnded);\r\n    }\r\n  }\r\n\r\n  get isMuted(): boolean {\r\n    if (this.track) {\r\n      return this.track.isMuted;\r\n    }\r\n    return super.isMuted;\r\n  }\r\n\r\n  get audioTrack(): LocalAudioTrack | undefined {\r\n    return super.audioTrack as LocalAudioTrack | undefined;\r\n  }\r\n\r\n  get videoTrack(): LocalVideoTrack | undefined {\r\n    return super.videoTrack as LocalVideoTrack | undefined;\r\n  }\r\n\r\n  /**\r\n   * Mute the track associated with this publication\r\n   */\r\n  async mute() {\r\n    return this.track?.mute();\r\n  }\r\n\r\n  /**\r\n   * Unmute track associated with this publication\r\n   */\r\n  async unmute() {\r\n    return this.track?.unmute();\r\n  }\r\n\r\n  /**\r\n   * Pauses the media stream track associated with this publication from being sent to the server\r\n   * and signals \"muted\" event to other participants (unless \"emitMuteEvent\" is set to false)\r\n   * Useful if you want to pause the stream without pausing the local media stream track\r\n   */\r\n  async pauseUpstream(emitMuteEvent: boolean = true) {\r\n    await this.track?.pauseUpstream(emitMuteEvent);\r\n  }\r\n\r\n  /**\r\n   * Resumes sending the media stream track associated with this publication to the server after a call to [[pauseUpstream()]]\r\n   * and signals \"unmuted\" event to other participants (unless the track is explicitly muted)\r\n   */\r\n  async resumeUpstream() {\r\n    await this.track?.resumeUpstream();\r\n  }\r\n\r\n  handleTrackEnded = () => {\r\n    this.emit(TrackEvent.Ended);\r\n  };\r\n}\r\n","import { EventEmitter } from 'events';\r\nimport type TypedEmitter from 'typed-emitter';\r\nimport log from '../../logger';\r\nimport {\r\n  DataPacket_Kind,\r\n  ParticipantInfo,\r\n  ParticipantPermission,\r\n  ConnectionQuality as ProtoQuality,\r\n} from '../../proto/livekit_models';\r\nimport { ParticipantEvent, TrackEvent } from '../events';\r\nimport type LocalTrackPublication from '../track/LocalTrackPublication';\r\nimport type RemoteTrack from '../track/RemoteTrack';\r\nimport type RemoteTrackPublication from '../track/RemoteTrackPublication';\r\nimport { Track } from '../track/Track';\r\nimport type { TrackPublication } from '../track/TrackPublication';\r\n\r\nexport enum ConnectionQuality {\r\n  Excellent = 'excellent',\r\n  Good = 'good',\r\n  Poor = 'poor',\r\n  Unknown = 'unknown',\r\n}\r\n\r\nfunction qualityFromProto(q: ProtoQuality): ConnectionQuality {\r\n  switch (q) {\r\n    case ProtoQuality.EXCELLENT:\r\n      return ConnectionQuality.Excellent;\r\n    case ProtoQuality.GOOD:\r\n      return ConnectionQuality.Good;\r\n    case ProtoQuality.POOR:\r\n      return ConnectionQuality.Poor;\r\n    default:\r\n      return ConnectionQuality.Unknown;\r\n  }\r\n}\r\n\r\nexport default class Participant extends (EventEmitter as new () => TypedEmitter<ParticipantEventCallbacks>) {\r\n  protected participantInfo?: ParticipantInfo;\r\n\r\n  audioTracks: Map<string, TrackPublication>;\r\n\r\n  videoTracks: Map<string, TrackPublication>;\r\n\r\n  /** map of track sid => all published tracks */\r\n  tracks: Map<string, TrackPublication>;\r\n\r\n  /** audio level between 0-1.0, 1 being loudest, 0 being softest */\r\n  audioLevel: number = 0;\r\n\r\n  /** if participant is currently speaking */\r\n  isSpeaking: boolean = false;\r\n\r\n  /** server assigned unique id */\r\n  sid: string;\r\n\r\n  /** client assigned identity, encoded in JWT token */\r\n  identity: string;\r\n\r\n  /** client assigned display name, encoded in JWT token */\r\n  name?: string;\r\n\r\n  /** client metadata, opaque to livekit */\r\n  metadata?: string;\r\n\r\n  lastSpokeAt?: Date | undefined;\r\n\r\n  permissions?: ParticipantPermission;\r\n\r\n  private _connectionQuality: ConnectionQuality = ConnectionQuality.Unknown;\r\n\r\n  /** @internal */\r\n  constructor(sid: string, identity: string, name?: string, metadata?: string) {\r\n    super();\r\n    this.setMaxListeners(100);\r\n    this.sid = sid;\r\n    this.identity = identity;\r\n    this.name = name;\r\n    this.metadata = metadata;\r\n    this.audioTracks = new Map();\r\n    this.videoTracks = new Map();\r\n    this.tracks = new Map();\r\n  }\r\n\r\n  getTracks(): TrackPublication[] {\r\n    return Array.from(this.tracks.values());\r\n  }\r\n\r\n  /**\r\n   * Finds the first track that matches the source filter, for example, getting\r\n   * the user's camera track with getTrackBySource(Track.Source.Camera).\r\n   * @param source\r\n   * @returns\r\n   */\r\n  getTrack(source: Track.Source): TrackPublication | undefined {\r\n    for (const [, pub] of this.tracks) {\r\n      if (pub.source === source) {\r\n        return pub;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Finds the first track that matches the track's name.\r\n   * @param name\r\n   * @returns\r\n   */\r\n  getTrackByName(name: string): TrackPublication | undefined {\r\n    for (const [, pub] of this.tracks) {\r\n      if (pub.trackName === name) {\r\n        return pub;\r\n      }\r\n    }\r\n  }\r\n\r\n  get connectionQuality(): ConnectionQuality {\r\n    return this._connectionQuality;\r\n  }\r\n\r\n  get isCameraEnabled(): boolean {\r\n    const track = this.getTrack(Track.Source.Camera);\r\n    return !(track?.isMuted ?? true);\r\n  }\r\n\r\n  get isMicrophoneEnabled(): boolean {\r\n    const track = this.getTrack(Track.Source.Microphone);\r\n    return !(track?.isMuted ?? true);\r\n  }\r\n\r\n  get isScreenShareEnabled(): boolean {\r\n    const track = this.getTrack(Track.Source.ScreenShare);\r\n    return !!track;\r\n  }\r\n\r\n  get isLocal(): boolean {\r\n    return false;\r\n  }\r\n\r\n  /** when participant joined the room */\r\n  get joinedAt(): Date | undefined {\r\n    if (this.participantInfo) {\r\n      return new Date(this.participantInfo.joinedAt * 1000);\r\n    }\r\n    return new Date();\r\n  }\r\n\r\n  /** @internal */\r\n  updateInfo(info: ParticipantInfo): boolean {\r\n    // it's possible the update could be applied out of order due to await\r\n    // during reconnect sequences. when that happens, it's possible for server\r\n    // to have sent more recent version of participant info while JS is waiting\r\n    // to process the existing payload.\r\n    // when the participant sid remains the same, and we already have a later version\r\n    // of the payload, they can be safely skipped\r\n    if (\r\n      this.participantInfo &&\r\n      this.participantInfo.sid === info.sid &&\r\n      this.participantInfo.version > info.version\r\n    ) {\r\n      return false;\r\n    }\r\n    this.identity = info.identity;\r\n    this.sid = info.sid;\r\n    this.setName(info.name);\r\n    this.setMetadata(info.metadata);\r\n    if (info.permission) {\r\n      this.setPermissions(info.permission);\r\n    }\r\n    // set this last so setMetadata can detect changes\r\n    this.participantInfo = info;\r\n    log.trace('update participant info', { info });\r\n    return true;\r\n  }\r\n\r\n  /** @internal */\r\n  setMetadata(md: string) {\r\n    const changed = this.metadata !== md;\r\n    const prevMetadata = this.metadata;\r\n    this.metadata = md;\r\n\r\n    if (changed) {\r\n      this.emit(ParticipantEvent.ParticipantMetadataChanged, prevMetadata);\r\n    }\r\n  }\r\n\r\n  protected setName(name: string) {\r\n    const changed = this.name !== name;\r\n    this.name = name;\r\n\r\n    if (changed) {\r\n      this.emit(ParticipantEvent.ParticipantNameChanged, name);\r\n    }\r\n  }\r\n\r\n  /** @internal */\r\n  setPermissions(permissions: ParticipantPermission): boolean {\r\n    const prevPermissions = this.permissions;\r\n    const changed =\r\n      permissions.canPublish !== this.permissions?.canPublish ||\r\n      permissions.canSubscribe !== this.permissions?.canSubscribe ||\r\n      permissions.canPublishData !== this.permissions?.canPublishData ||\r\n      permissions.hidden !== this.permissions?.hidden ||\r\n      permissions.recorder !== this.permissions?.recorder ||\r\n      permissions.canPublishSources.length !== this.permissions.canPublishSources.length ||\r\n      permissions.canPublishSources.some(\r\n        (value, index) => value !== this.permissions?.canPublishSources[index],\r\n      );\r\n    this.permissions = permissions;\r\n\r\n    if (changed) {\r\n      this.emit(ParticipantEvent.ParticipantPermissionsChanged, prevPermissions);\r\n    }\r\n    return changed;\r\n  }\r\n\r\n  /** @internal */\r\n  setIsSpeaking(speaking: boolean) {\r\n    if (speaking === this.isSpeaking) {\r\n      return;\r\n    }\r\n    this.isSpeaking = speaking;\r\n    if (speaking) {\r\n      this.lastSpokeAt = new Date();\r\n    }\r\n    this.emit(ParticipantEvent.IsSpeakingChanged, speaking);\r\n  }\r\n\r\n  /** @internal */\r\n  setConnectionQuality(q: ProtoQuality) {\r\n    const prevQuality = this._connectionQuality;\r\n    this._connectionQuality = qualityFromProto(q);\r\n    if (prevQuality !== this._connectionQuality) {\r\n      this.emit(ParticipantEvent.ConnectionQualityChanged, this._connectionQuality);\r\n    }\r\n  }\r\n\r\n  protected addTrackPublication(publication: TrackPublication) {\r\n    // forward publication driven events\r\n    publication.on(TrackEvent.Muted, () => {\r\n      this.emit(ParticipantEvent.TrackMuted, publication);\r\n    });\r\n\r\n    publication.on(TrackEvent.Unmuted, () => {\r\n      this.emit(ParticipantEvent.TrackUnmuted, publication);\r\n    });\r\n\r\n    const pub = publication;\r\n    if (pub.track) {\r\n      pub.track.sid = publication.trackSid;\r\n    }\r\n\r\n    this.tracks.set(publication.trackSid, publication);\r\n    switch (publication.kind) {\r\n      case Track.Kind.Audio:\r\n        this.audioTracks.set(publication.trackSid, publication);\r\n        break;\r\n      case Track.Kind.Video:\r\n        this.videoTracks.set(publication.trackSid, publication);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\nexport type ParticipantEventCallbacks = {\r\n  trackPublished: (publication: RemoteTrackPublication) => void;\r\n  trackSubscribed: (track: RemoteTrack, publication: RemoteTrackPublication) => void;\r\n  trackSubscriptionFailed: (trackSid: string) => void;\r\n  trackUnpublished: (publication: RemoteTrackPublication) => void;\r\n  trackUnsubscribed: (track: RemoteTrack, publication: RemoteTrackPublication) => void;\r\n  trackMuted: (publication: TrackPublication) => void;\r\n  trackUnmuted: (publication: TrackPublication) => void;\r\n  localTrackPublished: (publication: LocalTrackPublication) => void;\r\n  localTrackUnpublished: (publication: LocalTrackPublication) => void;\r\n  participantMetadataChanged: (prevMetadata: string | undefined, participant?: any) => void;\r\n  participantNameChanged: (name: string) => void;\r\n  dataReceived: (payload: Uint8Array, kind: DataPacket_Kind) => void;\r\n  isSpeakingChanged: (speaking: boolean) => void;\r\n  connectionQualityChanged: (connectionQuality: ConnectionQuality) => void;\r\n  trackStreamStateChanged: (\r\n    publication: RemoteTrackPublication,\r\n    streamState: Track.StreamState,\r\n  ) => void;\r\n  trackSubscriptionPermissionChanged: (\r\n    publication: RemoteTrackPublication,\r\n    status: TrackPublication.PermissionStatus,\r\n  ) => void;\r\n  mediaDevicesError: (error: Error) => void;\r\n  participantPermissionsChanged: (prevPermissions?: ParticipantPermission) => void;\r\n  trackSubscriptionStatusChanged: (\r\n    publication: RemoteTrackPublication,\r\n    status: TrackPublication.SubscriptionStatus,\r\n  ) => void;\r\n};\r\n","import type { TrackPermission } from '../../proto/livekit_rtc';\r\n\r\nexport interface ParticipantTrackPermission {\r\n  /**\r\n   * The participant identity this permission applies to.\r\n   * You can either provide this or `participantSid`\r\n   */\r\n  participantIdentity?: string;\r\n\r\n  /**\r\n   * The participant server id this permission applies to.\r\n   * You can either provide this or `participantIdentity`\r\n   */\r\n  participantSid?: string;\r\n\r\n  /**\r\n   * Grant permission to all all tracks. Takes precedence over allowedTrackSids.\r\n   * false if unset.\r\n   */\r\n  allowAll?: boolean;\r\n\r\n  /**\r\n   * The list of track ids that the target participant can subscribe to.\r\n   * When unset, it'll allow all tracks to be subscribed by the participant.\r\n   * When empty, this participant is disallowed from subscribing to any tracks.\r\n   */\r\n  allowedTrackSids?: string[];\r\n}\r\n\r\nexport function trackPermissionToProto(perms: ParticipantTrackPermission): TrackPermission {\r\n  if (!perms.participantSid && !perms.participantIdentity) {\r\n    throw new Error(\r\n      'Invalid track permission, must provide at least one of participantIdentity and participantSid',\r\n    );\r\n  }\r\n  return {\r\n    participantIdentity: perms.participantIdentity ?? '',\r\n    participantSid: perms.participantSid ?? '',\r\n    allTracks: perms.allowAll ?? false,\r\n    trackSids: perms.allowedTrackSids || [],\r\n  };\r\n}\r\n","import log from '../../logger';\r\nimport { TrackInfo, VideoQuality } from '../../proto/livekit_models';\r\nimport { UpdateSubscription, UpdateTrackSettings } from '../../proto/livekit_rtc';\r\nimport { TrackEvent } from '../events';\r\nimport type RemoteTrack from './RemoteTrack';\r\nimport RemoteVideoTrack from './RemoteVideoTrack';\r\nimport { Track } from './Track';\r\nimport { TrackPublication } from './TrackPublication';\r\n\r\nexport default class RemoteTrackPublication extends TrackPublication {\r\n  track?: RemoteTrack = undefined;\r\n\r\n  /** @internal */\r\n  protected allowed = true;\r\n\r\n  // keeps track of client's desire to subscribe to a track, also true if autoSubscribe is active\r\n  protected subscribed?: boolean;\r\n\r\n  protected disabled: boolean = false;\r\n\r\n  protected currentVideoQuality?: VideoQuality = VideoQuality.HIGH;\r\n\r\n  protected videoDimensions?: Track.Dimensions;\r\n\r\n  protected fps?: number;\r\n\r\n  constructor(kind: Track.Kind, ti: TrackInfo, autoSubscribe: boolean | undefined) {\r\n    super(kind, ti.sid, ti.name);\r\n    this.subscribed = autoSubscribe;\r\n    this.updateInfo(ti);\r\n  }\r\n\r\n  /**\r\n   * Subscribe or unsubscribe to this remote track\r\n   * @param subscribed true to subscribe to a track, false to unsubscribe\r\n   */\r\n  setSubscribed(subscribed: boolean) {\r\n    const prevStatus = this.subscriptionStatus;\r\n    const prevPermission = this.permissionStatus;\r\n    this.subscribed = subscribed;\r\n    // reset allowed status when desired subscription state changes\r\n    // server will notify client via signal message if it's not allowed\r\n    if (subscribed) {\r\n      this.allowed = true;\r\n    }\r\n\r\n    const sub: UpdateSubscription = {\r\n      trackSids: [this.trackSid],\r\n      subscribe: this.subscribed,\r\n      participantTracks: [\r\n        {\r\n          // sending an empty participant id since TrackPublication doesn't keep it\r\n          // this is filled in by the participant that receives this message\r\n          participantSid: '',\r\n          trackSids: [this.trackSid],\r\n        },\r\n      ],\r\n    };\r\n    this.emit(TrackEvent.UpdateSubscription, sub);\r\n    this.emitSubscriptionUpdateIfChanged(prevStatus);\r\n    this.emitPermissionUpdateIfChanged(prevPermission);\r\n  }\r\n\r\n  get subscriptionStatus(): TrackPublication.SubscriptionStatus {\r\n    if (this.subscribed === false) {\r\n      return TrackPublication.SubscriptionStatus.Unsubscribed;\r\n    }\r\n    if (!super.isSubscribed) {\r\n      return TrackPublication.SubscriptionStatus.Desired;\r\n    }\r\n    return TrackPublication.SubscriptionStatus.Subscribed;\r\n  }\r\n\r\n  get permissionStatus(): TrackPublication.PermissionStatus {\r\n    return this.allowed\r\n      ? TrackPublication.PermissionStatus.Allowed\r\n      : TrackPublication.PermissionStatus.NotAllowed;\r\n  }\r\n\r\n  /**\r\n   * Returns true if track is subscribed, and ready for playback\r\n   */\r\n  get isSubscribed(): boolean {\r\n    if (this.subscribed === false) {\r\n      return false;\r\n    }\r\n    return super.isSubscribed;\r\n  }\r\n\r\n  // returns client's desire to subscribe to a track, also true if autoSubscribe is enabled\r\n  get isDesired(): boolean {\r\n    return this.subscribed !== false;\r\n  }\r\n\r\n  get isEnabled(): boolean {\r\n    return !this.disabled;\r\n  }\r\n\r\n  /**\r\n   * disable server from sending down data for this track. this is useful when\r\n   * the participant is off screen, you may disable streaming down their video\r\n   * to reduce bandwidth requirements\r\n   * @param enabled\r\n   */\r\n  setEnabled(enabled: boolean) {\r\n    if (!this.isManualOperationAllowed() || this.disabled === !enabled) {\r\n      return;\r\n    }\r\n    this.disabled = !enabled;\r\n\r\n    this.emitTrackUpdate();\r\n  }\r\n\r\n  /**\r\n   * for tracks that support simulcasting, adjust subscribed quality\r\n   *\r\n   * This indicates the highest quality the client can accept. if network\r\n   * bandwidth does not allow, server will automatically reduce quality to\r\n   * optimize for uninterrupted video\r\n   */\r\n  setVideoQuality(quality: VideoQuality) {\r\n    if (!this.isManualOperationAllowed() || this.currentVideoQuality === quality) {\r\n      return;\r\n    }\r\n    this.currentVideoQuality = quality;\r\n    this.videoDimensions = undefined;\r\n\r\n    this.emitTrackUpdate();\r\n  }\r\n\r\n  setVideoDimensions(dimensions: Track.Dimensions) {\r\n    if (!this.isManualOperationAllowed()) {\r\n      return;\r\n    }\r\n    if (\r\n      this.videoDimensions?.width === dimensions.width &&\r\n      this.videoDimensions?.height === dimensions.height\r\n    ) {\r\n      return;\r\n    }\r\n    if (this.track instanceof RemoteVideoTrack) {\r\n      this.videoDimensions = dimensions;\r\n    }\r\n    this.currentVideoQuality = undefined;\r\n\r\n    this.emitTrackUpdate();\r\n  }\r\n\r\n  setVideoFPS(fps: number) {\r\n    if (!this.isManualOperationAllowed()) {\r\n      return;\r\n    }\r\n\r\n    if (!(this.track instanceof RemoteVideoTrack)) {\r\n      return;\r\n    }\r\n\r\n    if (this.fps === fps) {\r\n      return;\r\n    }\r\n\r\n    this.fps = fps;\r\n    this.emitTrackUpdate();\r\n  }\r\n\r\n  get videoQuality(): VideoQuality | undefined {\r\n    return this.currentVideoQuality;\r\n  }\r\n\r\n  /** @internal */\r\n  setTrack(track?: RemoteTrack) {\r\n    const prevStatus = this.subscriptionStatus;\r\n    const prevPermission = this.permissionStatus;\r\n    const prevTrack = this.track;\r\n    if (prevTrack === track) {\r\n      return;\r\n    }\r\n    if (prevTrack) {\r\n      // unregister listener\r\n      prevTrack.off(TrackEvent.VideoDimensionsChanged, this.handleVideoDimensionsChange);\r\n      prevTrack.off(TrackEvent.VisibilityChanged, this.handleVisibilityChange);\r\n      prevTrack.off(TrackEvent.Ended, this.handleEnded);\r\n      prevTrack.detach();\r\n      prevTrack.stopMonitor();\r\n      this.emit(TrackEvent.Unsubscribed, prevTrack);\r\n    }\r\n    super.setTrack(track);\r\n    if (track) {\r\n      track.sid = this.trackSid;\r\n      track.on(TrackEvent.VideoDimensionsChanged, this.handleVideoDimensionsChange);\r\n      track.on(TrackEvent.VisibilityChanged, this.handleVisibilityChange);\r\n      track.on(TrackEvent.Ended, this.handleEnded);\r\n      this.emit(TrackEvent.Subscribed, track);\r\n    }\r\n    this.emitPermissionUpdateIfChanged(prevPermission);\r\n    this.emitSubscriptionUpdateIfChanged(prevStatus);\r\n  }\r\n\r\n  /** @internal */\r\n  setAllowed(allowed: boolean) {\r\n    const prevStatus = this.subscriptionStatus;\r\n    const prevPermission = this.permissionStatus;\r\n    this.allowed = allowed;\r\n    this.emitPermissionUpdateIfChanged(prevPermission);\r\n    this.emitSubscriptionUpdateIfChanged(prevStatus);\r\n  }\r\n\r\n  /** @internal */\r\n  updateInfo(info: TrackInfo) {\r\n    super.updateInfo(info);\r\n    const prevMetadataMuted = this.metadataMuted;\r\n    this.metadataMuted = info.muted;\r\n    if (this.track) {\r\n      this.track.setMuted(info.muted);\r\n    } else if (prevMetadataMuted !== info.muted) {\r\n      this.emit(info.muted ? TrackEvent.Muted : TrackEvent.Unmuted);\r\n    }\r\n  }\r\n\r\n  private emitSubscriptionUpdateIfChanged(previousStatus: TrackPublication.SubscriptionStatus) {\r\n    const currentStatus = this.subscriptionStatus;\r\n    if (previousStatus === currentStatus) {\r\n      return;\r\n    }\r\n    this.emit(TrackEvent.SubscriptionStatusChanged, currentStatus, previousStatus);\r\n  }\r\n\r\n  private emitPermissionUpdateIfChanged(\r\n    previousPermissionStatus: TrackPublication.PermissionStatus,\r\n  ) {\r\n    const currentPermissionStatus = this.permissionStatus;\r\n    if (currentPermissionStatus !== previousPermissionStatus) {\r\n      this.emit(\r\n        TrackEvent.SubscriptionPermissionChanged,\r\n        this.permissionStatus,\r\n        previousPermissionStatus,\r\n      );\r\n    }\r\n  }\r\n\r\n  private isManualOperationAllowed(): boolean {\r\n    if (this.kind === Track.Kind.Video && this.isAdaptiveStream) {\r\n      log.warn('adaptive stream is enabled, cannot change video track settings', {\r\n        trackSid: this.trackSid,\r\n      });\r\n      return false;\r\n    }\r\n    if (!this.isDesired) {\r\n      log.warn('cannot update track settings when not subscribed', { trackSid: this.trackSid });\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  protected handleEnded = (track: RemoteTrack) => {\r\n    this.setTrack(undefined);\r\n    this.emit(TrackEvent.Ended, track);\r\n  };\r\n\r\n  protected get isAdaptiveStream(): boolean {\r\n    return this.track instanceof RemoteVideoTrack && this.track.isAdaptiveStream;\r\n  }\r\n\r\n  protected handleVisibilityChange = (visible: boolean) => {\r\n    log.debug(`adaptivestream video visibility ${this.trackSid}, visible=${visible}`, {\r\n      trackSid: this.trackSid,\r\n    });\r\n    this.disabled = !visible;\r\n    this.emitTrackUpdate();\r\n  };\r\n\r\n  protected handleVideoDimensionsChange = (dimensions: Track.Dimensions) => {\r\n    log.debug(`adaptivestream video dimensions ${dimensions.width}x${dimensions.height}`, {\r\n      trackSid: this.trackSid,\r\n    });\r\n    this.videoDimensions = dimensions;\r\n    this.emitTrackUpdate();\r\n  };\r\n\r\n  /* @internal */\r\n  emitTrackUpdate() {\r\n    const settings: UpdateTrackSettings = UpdateTrackSettings.fromPartial({\r\n      trackSids: [this.trackSid],\r\n      disabled: this.disabled,\r\n      fps: this.fps,\r\n    });\r\n    if (this.videoDimensions) {\r\n      settings.width = this.videoDimensions.width;\r\n      settings.height = this.videoDimensions.height;\r\n    } else if (this.currentVideoQuality !== undefined) {\r\n      settings.quality = this.currentVideoQuality;\r\n    } else {\r\n      // defaults to high quality\r\n      settings.quality = VideoQuality.HIGH;\r\n    }\r\n\r\n    this.emit(TrackEvent.UpdateSettings, settings);\r\n  }\r\n}\r\n","import type { SignalClient } from '../../api/SignalClient';\r\nimport log from '../../logger';\r\nimport type { ParticipantInfo } from '../../proto/livekit_models';\r\nimport type { UpdateSubscription, UpdateTrackSettings } from '../../proto/livekit_rtc';\r\nimport { ParticipantEvent, TrackEvent } from '../events';\r\nimport RemoteAudioTrack from '../track/RemoteAudioTrack';\r\nimport type RemoteTrack from '../track/RemoteTrack';\r\nimport RemoteTrackPublication from '../track/RemoteTrackPublication';\r\nimport RemoteVideoTrack from '../track/RemoteVideoTrack';\r\nimport { Track } from '../track/Track';\r\nimport type { TrackPublication } from '../track/TrackPublication';\r\nimport type { AudioOutputOptions } from '../track/options';\r\nimport type { AdaptiveStreamSettings } from '../track/types';\r\nimport Participant, { ParticipantEventCallbacks } from './Participant';\r\n\r\nexport default class RemoteParticipant extends Participant {\r\n  audioTracks: Map<string, RemoteTrackPublication>;\r\n\r\n  videoTracks: Map<string, RemoteTrackPublication>;\r\n\r\n  tracks: Map<string, RemoteTrackPublication>;\r\n\r\n  signalClient: SignalClient;\r\n\r\n  private volume?: number;\r\n\r\n  private audioContext?: AudioContext;\r\n\r\n  private audioOutput?: AudioOutputOptions;\r\n\r\n  /** @internal */\r\n  static fromParticipantInfo(signalClient: SignalClient, pi: ParticipantInfo): RemoteParticipant {\r\n    return new RemoteParticipant(signalClient, pi.sid, pi.identity, pi.name, pi.metadata);\r\n  }\r\n\r\n  /** @internal */\r\n  constructor(\r\n    signalClient: SignalClient,\r\n    sid: string,\r\n    identity?: string,\r\n    name?: string,\r\n    metadata?: string,\r\n  ) {\r\n    super(sid, identity || '', name, metadata);\r\n    this.signalClient = signalClient;\r\n    this.tracks = new Map();\r\n    this.audioTracks = new Map();\r\n    this.videoTracks = new Map();\r\n  }\r\n\r\n  protected addTrackPublication(publication: RemoteTrackPublication) {\r\n    super.addTrackPublication(publication);\r\n\r\n    // register action events\r\n    publication.on(TrackEvent.UpdateSettings, (settings: UpdateTrackSettings) => {\r\n      log.debug('send update settings', settings);\r\n      this.signalClient.sendUpdateTrackSettings(settings);\r\n    });\r\n    publication.on(TrackEvent.UpdateSubscription, (sub: UpdateSubscription) => {\r\n      sub.participantTracks.forEach((pt) => {\r\n        pt.participantSid = this.sid;\r\n      });\r\n      this.signalClient.sendUpdateSubscription(sub);\r\n    });\r\n    publication.on(\r\n      TrackEvent.SubscriptionPermissionChanged,\r\n      (status: TrackPublication.PermissionStatus) => {\r\n        this.emit(ParticipantEvent.TrackSubscriptionPermissionChanged, publication, status);\r\n      },\r\n    );\r\n    publication.on(\r\n      TrackEvent.SubscriptionStatusChanged,\r\n      (status: TrackPublication.SubscriptionStatus) => {\r\n        this.emit(ParticipantEvent.TrackSubscriptionStatusChanged, publication, status);\r\n      },\r\n    );\r\n    publication.on(TrackEvent.Subscribed, (track: RemoteTrack) => {\r\n      this.emit(ParticipantEvent.TrackSubscribed, track, publication);\r\n    });\r\n    publication.on(TrackEvent.Unsubscribed, (previousTrack: RemoteTrack) => {\r\n      this.emit(ParticipantEvent.TrackUnsubscribed, previousTrack, publication);\r\n    });\r\n  }\r\n\r\n  getTrack(source: Track.Source): RemoteTrackPublication | undefined {\r\n    const track = super.getTrack(source);\r\n    if (track) {\r\n      return track as RemoteTrackPublication;\r\n    }\r\n  }\r\n\r\n  getTrackByName(name: string): RemoteTrackPublication | undefined {\r\n    const track = super.getTrackByName(name);\r\n    if (track) {\r\n      return track as RemoteTrackPublication;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * sets the volume on the participant's microphone track\r\n   * if no track exists the volume will be applied when the microphone track is added\r\n   */\r\n  setVolume(volume: number) {\r\n    this.volume = volume;\r\n    const audioPublication = this.getTrack(Track.Source.Microphone);\r\n    if (audioPublication && audioPublication.track) {\r\n      (audioPublication.track as RemoteAudioTrack).setVolume(volume);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * gets the volume on the participant's microphone track\r\n   */\r\n  getVolume() {\r\n    const audioPublication = this.getTrack(Track.Source.Microphone);\r\n    if (audioPublication && audioPublication.track) {\r\n      return (audioPublication.track as RemoteAudioTrack).getVolume();\r\n    }\r\n    return this.volume;\r\n  }\r\n\r\n  /** @internal */\r\n  addSubscribedMediaTrack(\r\n    mediaTrack: MediaStreamTrack,\r\n    sid: Track.SID,\r\n    mediaStream: MediaStream,\r\n    receiver?: RTCRtpReceiver,\r\n    adaptiveStreamSettings?: AdaptiveStreamSettings,\r\n    triesLeft?: number,\r\n  ) {\r\n    // find the track publication\r\n    // it's possible for the media track to arrive before participant info\r\n    let publication = this.getTrackPublication(sid);\r\n\r\n    // it's also possible that the browser didn't honor our original track id\r\n    // FireFox would use its own local uuid instead of server track id\r\n    if (!publication) {\r\n      if (!sid.startsWith('TR')) {\r\n        // find the first track that matches type\r\n        this.tracks.forEach((p) => {\r\n          if (!publication && mediaTrack.kind === p.kind.toString()) {\r\n            publication = p;\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    // when we couldn't locate the track, it's possible that the metadata hasn't\r\n    // yet arrived. Wait a bit longer for it to arrive, or fire an error\r\n    if (!publication) {\r\n      if (triesLeft === 0) {\r\n        log.error('could not find published track', { participant: this.sid, trackSid: sid });\r\n        this.emit(ParticipantEvent.TrackSubscriptionFailed, sid);\r\n        return;\r\n      }\r\n\r\n      if (triesLeft === undefined) triesLeft = 20;\r\n      setTimeout(() => {\r\n        this.addSubscribedMediaTrack(\r\n          mediaTrack,\r\n          sid,\r\n          mediaStream,\r\n          receiver,\r\n          adaptiveStreamSettings,\r\n          triesLeft! - 1,\r\n        );\r\n      }, 150);\r\n      return;\r\n    }\r\n\r\n    if (mediaTrack.readyState === 'ended') {\r\n      log.error(\r\n        'unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()',\r\n        { participant: this.sid, trackSid: sid },\r\n      );\r\n      this.emit(ParticipantEvent.TrackSubscriptionFailed, sid);\r\n      return;\r\n    }\r\n\r\n    const isVideo = mediaTrack.kind === 'video';\r\n    let track: RemoteTrack;\r\n    if (isVideo) {\r\n      track = new RemoteVideoTrack(mediaTrack, sid, receiver, adaptiveStreamSettings);\r\n    } else {\r\n      track = new RemoteAudioTrack(mediaTrack, sid, receiver, this.audioContext, this.audioOutput);\r\n    }\r\n\r\n    // set track info\r\n    track.source = publication.source;\r\n    // keep publication's muted status\r\n    track.isMuted = publication.isMuted;\r\n    track.setMediaStream(mediaStream);\r\n    track.start();\r\n\r\n    publication.setTrack(track);\r\n    // set participant volume on new microphone tracks\r\n    if (\r\n      this.volume !== undefined &&\r\n      track instanceof RemoteAudioTrack &&\r\n      track.source === Track.Source.Microphone\r\n    ) {\r\n      track.setVolume(this.volume);\r\n    }\r\n\r\n    return publication;\r\n  }\r\n\r\n  /** @internal */\r\n  get hasMetadata(): boolean {\r\n    return !!this.participantInfo;\r\n  }\r\n\r\n  getTrackPublication(sid: Track.SID): RemoteTrackPublication | undefined {\r\n    return this.tracks.get(sid);\r\n  }\r\n\r\n  /** @internal */\r\n  updateInfo(info: ParticipantInfo): boolean {\r\n    if (!super.updateInfo(info)) {\r\n      return false;\r\n    }\r\n\r\n    // we are getting a list of all available tracks, reconcile in here\r\n    // and send out events for changes\r\n\r\n    // reconcile track publications, publish events only if metadata is already there\r\n    // i.e. changes since the local participant has joined\r\n    const validTracks = new Map<string, RemoteTrackPublication>();\r\n    const newTracks = new Map<string, RemoteTrackPublication>();\r\n\r\n    info.tracks.forEach((ti) => {\r\n      let publication = this.getTrackPublication(ti.sid);\r\n      if (!publication) {\r\n        // new publication\r\n        const kind = Track.kindFromProto(ti.type);\r\n        if (!kind) {\r\n          return;\r\n        }\r\n        publication = new RemoteTrackPublication(\r\n          kind,\r\n          ti,\r\n          this.signalClient.connectOptions?.autoSubscribe,\r\n        );\r\n        publication.updateInfo(ti);\r\n        newTracks.set(ti.sid, publication);\r\n        const existingTrackOfSource = Array.from(this.tracks.values()).find(\r\n          (publishedTrack) => publishedTrack.source === publication?.source,\r\n        );\r\n        if (existingTrackOfSource && publication.source !== Track.Source.Unknown) {\r\n          log.debug(\r\n            `received a second track publication for ${this.identity} with the same source: ${publication.source}`,\r\n            {\r\n              oldTrack: existingTrackOfSource,\r\n              newTrack: publication,\r\n              participant: this,\r\n              participantInfo: info,\r\n            },\r\n          );\r\n        }\r\n        this.addTrackPublication(publication);\r\n      } else {\r\n        publication.updateInfo(ti);\r\n      }\r\n      validTracks.set(ti.sid, publication);\r\n    });\r\n\r\n    // detect removed tracks\r\n    this.tracks.forEach((publication) => {\r\n      if (!validTracks.has(publication.trackSid)) {\r\n        log.trace('detected removed track on remote participant, unpublishing', {\r\n          publication,\r\n          participantSid: this.sid,\r\n        });\r\n        this.unpublishTrack(publication.trackSid, true);\r\n      }\r\n    });\r\n\r\n    // always emit events for new publications, Room will not forward them unless it's ready\r\n    newTracks.forEach((publication) => {\r\n      this.emit(ParticipantEvent.TrackPublished, publication);\r\n    });\r\n    return true;\r\n  }\r\n\r\n  /** @internal */\r\n  unpublishTrack(sid: Track.SID, sendUnpublish?: boolean) {\r\n    const publication = <RemoteTrackPublication>this.tracks.get(sid);\r\n    if (!publication) {\r\n      return;\r\n    }\r\n\r\n    this.tracks.delete(sid);\r\n\r\n    // remove from the right type map\r\n    switch (publication.kind) {\r\n      case Track.Kind.Audio:\r\n        this.audioTracks.delete(sid);\r\n        break;\r\n      case Track.Kind.Video:\r\n        this.videoTracks.delete(sid);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    // also send unsubscribe, if track is actively subscribed\r\n    const { track } = publication;\r\n    if (track) {\r\n      track.stop();\r\n      publication.setTrack(undefined);\r\n    }\r\n    if (sendUnpublish) {\r\n      this.emit(ParticipantEvent.TrackUnpublished, publication);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @internal\r\n   */\r\n  setAudioContext(ctx: AudioContext | undefined) {\r\n    this.audioContext = ctx;\r\n    this.audioTracks.forEach(\r\n      (track) => track.track instanceof RemoteAudioTrack && track.track.setAudioContext(ctx),\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @internal\r\n   */\r\n  async setAudioOutput(output: AudioOutputOptions) {\r\n    this.audioOutput = output;\r\n    const promises: Promise<void>[] = [];\r\n    this.audioTracks.forEach((pub) => {\r\n      if (pub.track instanceof RemoteAudioTrack) {\r\n        promises.push(pub.track.setSinkId(output.deviceId ?? 'default'));\r\n      }\r\n    });\r\n    await Promise.all(promises);\r\n  }\r\n\r\n  /** @internal */\r\n  emit<E extends keyof ParticipantEventCallbacks>(\r\n    event: E,\r\n    ...args: Parameters<ParticipantEventCallbacks[E]>\r\n  ): boolean {\r\n    log.trace('participant event', { participant: this.sid, event, args });\r\n    return super.emit(event, ...args);\r\n  }\r\n}\r\n","import log from '../../logger';\r\nimport { TrackInvalidError } from '../errors';\r\nimport LocalAudioTrack from '../track/LocalAudioTrack';\r\nimport LocalVideoTrack from '../track/LocalVideoTrack';\r\nimport { Track } from '../track/Track';\r\nimport {\r\n  BackupVideoCodec,\r\n  ScreenSharePresets,\r\n  TrackPublishOptions,\r\n  VideoCodec,\r\n  VideoEncoding,\r\n  VideoPreset,\r\n  VideoPresets,\r\n  VideoPresets43,\r\n} from '../track/options';\r\nimport { isSVCCodec } from '../utils';\r\n\r\n/** @internal */\r\nexport function mediaTrackToLocalTrack(\r\n  mediaStreamTrack: MediaStreamTrack,\r\n  constraints?: MediaTrackConstraints,\r\n): LocalVideoTrack | LocalAudioTrack {\r\n  switch (mediaStreamTrack.kind) {\r\n    case 'audio':\r\n      return new LocalAudioTrack(mediaStreamTrack, constraints, false);\r\n    case 'video':\r\n      return new LocalVideoTrack(mediaStreamTrack, constraints, false);\r\n    default:\r\n      throw new TrackInvalidError(`unsupported track type: ${mediaStreamTrack.kind}`);\r\n  }\r\n}\r\n\r\n/* @internal */\r\nexport const presets169 = Object.values(VideoPresets);\r\n\r\n/* @internal */\r\nexport const presets43 = Object.values(VideoPresets43);\r\n\r\n/* @internal */\r\nexport const presetsScreenShare = Object.values(ScreenSharePresets);\r\n\r\n/* @internal */\r\nexport const defaultSimulcastPresets169 = [VideoPresets.h180, VideoPresets.h360];\r\n\r\n/* @internal */\r\nexport const defaultSimulcastPresets43 = [VideoPresets43.h180, VideoPresets43.h360];\r\n\r\n/* @internal */\r\nexport const computeDefaultScreenShareSimulcastPresets = (fromPreset: VideoPreset) => {\r\n  const layers = [{ scaleResolutionDownBy: 2, fps: 3 }];\r\n  return layers.map(\r\n    (t) =>\r\n      new VideoPreset(\r\n        Math.floor(fromPreset.width / t.scaleResolutionDownBy),\r\n        Math.floor(fromPreset.height / t.scaleResolutionDownBy),\r\n        Math.max(\r\n          150_000,\r\n          Math.floor(\r\n            fromPreset.encoding.maxBitrate /\r\n              (t.scaleResolutionDownBy ** 2 * ((fromPreset.encoding.maxFramerate ?? 30) / t.fps)),\r\n          ),\r\n        ),\r\n        t.fps,\r\n      ),\r\n  );\r\n};\r\n\r\n// /**\r\n//  *\r\n//  * @internal\r\n//  * @experimental\r\n//  */\r\n// const computeDefaultMultiCodecSimulcastEncodings = (width: number, height: number) => {\r\n//   // use vp8 as a default\r\n//   const vp8 = determineAppropriateEncoding(false, width, height);\r\n//   const vp9 = { ...vp8, maxBitrate: vp8.maxBitrate * 0.9 };\r\n//   const h264 = { ...vp8, maxBitrate: vp8.maxBitrate * 1.1 };\r\n//   const av1 = { ...vp8, maxBitrate: vp8.maxBitrate * 0.7 };\r\n//   return {\r\n//     vp8,\r\n//     vp9,\r\n//     h264,\r\n//     av1,\r\n//   };\r\n// };\r\n\r\nconst videoRids = ['q', 'h', 'f'];\r\n\r\n/* @internal */\r\nexport function computeVideoEncodings(\r\n  isScreenShare: boolean,\r\n  width?: number,\r\n  height?: number,\r\n  options?: TrackPublishOptions,\r\n): RTCRtpEncodingParameters[] {\r\n  let videoEncoding: VideoEncoding | undefined = options?.videoEncoding;\r\n\r\n  if (isScreenShare) {\r\n    videoEncoding = options?.screenShareEncoding;\r\n  }\r\n\r\n  const useSimulcast = options?.simulcast;\r\n  const scalabilityMode = options?.scalabilityMode;\r\n  const videoCodec = options?.videoCodec;\r\n\r\n  if ((!videoEncoding && !useSimulcast && !scalabilityMode) || !width || !height) {\r\n    // when we aren't simulcasting or svc, will need to return a single encoding without\r\n    // capping bandwidth. we always require a encoding for dynacast\r\n    return [{}];\r\n  }\r\n\r\n  if (!videoEncoding) {\r\n    // find the right encoding based on width/height\r\n    videoEncoding = determineAppropriateEncoding(isScreenShare, width, height, videoCodec);\r\n    log.debug('using video encoding', videoEncoding);\r\n  }\r\n\r\n  const original = new VideoPreset(\r\n    width,\r\n    height,\r\n    videoEncoding.maxBitrate,\r\n    videoEncoding.maxFramerate,\r\n  );\r\n\r\n  if (scalabilityMode && isSVCCodec(videoCodec)) {\r\n    log.debug(`using svc with scalabilityMode ${scalabilityMode}`);\r\n\r\n    const encodings: RTCRtpEncodingParameters[] = [];\r\n\r\n    // svc use first encoding as the original, so we sort encoding from high to low\r\n    switch (scalabilityMode) {\r\n      case 'L3T3':\r\n        for (let i = 0; i < 3; i += 1) {\r\n          encodings.push({\r\n            rid: videoRids[2 - i],\r\n            scaleResolutionDownBy: 2 ** i,\r\n            maxBitrate: videoEncoding.maxBitrate / 3 ** i,\r\n            /* @ts-ignore */\r\n            maxFramerate: original.encoding.maxFramerate,\r\n            /* @ts-ignore */\r\n            scalabilityMode: 'L3T3',\r\n          });\r\n        }\r\n        log.debug('encodings', encodings);\r\n        return encodings;\r\n\r\n      default:\r\n        // TODO : support other scalability modes\r\n        throw new Error(`unsupported scalabilityMode: ${scalabilityMode}`);\r\n    }\r\n  }\r\n\r\n  if (!useSimulcast) {\r\n    return [videoEncoding];\r\n  }\r\n\r\n  let presets: Array<VideoPreset> = [];\r\n  if (isScreenShare) {\r\n    presets =\r\n      sortPresets(options?.screenShareSimulcastLayers) ??\r\n      defaultSimulcastLayers(isScreenShare, original);\r\n  } else {\r\n    presets =\r\n      sortPresets(options?.videoSimulcastLayers) ?? defaultSimulcastLayers(isScreenShare, original);\r\n  }\r\n  let midPreset: VideoPreset | undefined;\r\n  if (presets.length > 0) {\r\n    const lowPreset = presets[0];\r\n    if (presets.length > 1) {\r\n      [, midPreset] = presets;\r\n    }\r\n\r\n    // NOTE:\r\n    //   1. Ordering of these encodings is important. Chrome seems\r\n    //      to use the index into encodings to decide which layer\r\n    //      to disable when CPU constrained.\r\n    //      So encodings should be ordered in increasing spatial\r\n    //      resolution order.\r\n    //   2. ion-sfu translates rids into layers. So, all encodings\r\n    //      should have the base layer `q` and then more added\r\n    //      based on other conditions.\r\n    const size = Math.max(width, height);\r\n    if (size >= 960 && midPreset) {\r\n      return encodingsFromPresets(width, height, [lowPreset, midPreset, original]);\r\n    }\r\n    if (size >= 480) {\r\n      return encodingsFromPresets(width, height, [lowPreset, original]);\r\n    }\r\n  }\r\n  return encodingsFromPresets(width, height, [original]);\r\n}\r\n\r\nexport function computeTrackBackupEncodings(\r\n  track: LocalVideoTrack,\r\n  videoCodec: BackupVideoCodec,\r\n  opts: TrackPublishOptions,\r\n) {\r\n  if (!opts.backupCodec || opts.backupCodec.codec === opts.videoCodec) {\r\n    // backup codec publishing is disabled\r\n    return;\r\n  }\r\n  if (videoCodec !== opts.backupCodec.codec) {\r\n    log.warn('requested a different codec than specified as backup', {\r\n      serverRequested: videoCodec,\r\n      backup: opts.backupCodec.codec,\r\n    });\r\n  }\r\n\r\n  opts.videoCodec = videoCodec;\r\n  // use backup encoding setting as videoEncoding for backup codec publishing\r\n  opts.videoEncoding = opts.backupCodec.encoding;\r\n\r\n  const settings = track.mediaStreamTrack.getSettings();\r\n  const width = settings.width ?? track.dimensions?.width;\r\n  const height = settings.height ?? track.dimensions?.height;\r\n\r\n  const encodings = computeVideoEncodings(\r\n    track.source === Track.Source.ScreenShare,\r\n    width,\r\n    height,\r\n    opts,\r\n  );\r\n  return encodings;\r\n}\r\n\r\n/* @internal */\r\nexport function determineAppropriateEncoding(\r\n  isScreenShare: boolean,\r\n  width: number,\r\n  height: number,\r\n  codec?: VideoCodec,\r\n): VideoEncoding {\r\n  const presets = presetsForResolution(isScreenShare, width, height);\r\n  let { encoding } = presets[0];\r\n\r\n  // handle portrait by swapping dimensions\r\n  const size = Math.max(width, height);\r\n\r\n  for (let i = 0; i < presets.length; i += 1) {\r\n    const preset = presets[i];\r\n    encoding = preset.encoding;\r\n    if (preset.width >= size) {\r\n      break;\r\n    }\r\n  }\r\n  // presets are based on the assumption of vp8 as a codec\r\n  // for other codecs we adjust the maxBitrate if no specific videoEncoding has been provided\r\n  // TODO make the bitrate multipliers configurable per codec\r\n  if (codec) {\r\n    switch (codec) {\r\n      case 'av1':\r\n        encoding = { ...encoding };\r\n        encoding.maxBitrate = encoding.maxBitrate * 0.7;\r\n        break;\r\n      case 'vp9':\r\n        encoding = { ...encoding };\r\n        encoding.maxBitrate = encoding.maxBitrate * 0.85;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  return encoding;\r\n}\r\n\r\n/* @internal */\r\nexport function presetsForResolution(\r\n  isScreenShare: boolean,\r\n  width: number,\r\n  height: number,\r\n): VideoPreset[] {\r\n  if (isScreenShare) {\r\n    return presetsScreenShare;\r\n  }\r\n  const aspect = width > height ? width / height : height / width;\r\n  if (Math.abs(aspect - 16.0 / 9) < Math.abs(aspect - 4.0 / 3)) {\r\n    return presets169;\r\n  }\r\n  return presets43;\r\n}\r\n\r\n/* @internal */\r\nexport function defaultSimulcastLayers(\r\n  isScreenShare: boolean,\r\n  original: VideoPreset,\r\n): VideoPreset[] {\r\n  if (isScreenShare) {\r\n    return computeDefaultScreenShareSimulcastPresets(original);\r\n  }\r\n  const { width, height } = original;\r\n  const aspect = width > height ? width / height : height / width;\r\n  if (Math.abs(aspect - 16.0 / 9) < Math.abs(aspect - 4.0 / 3)) {\r\n    return defaultSimulcastPresets169;\r\n  }\r\n  return defaultSimulcastPresets43;\r\n}\r\n\r\n// presets should be ordered by low, medium, high\r\nfunction encodingsFromPresets(\r\n  width: number,\r\n  height: number,\r\n  presets: VideoPreset[],\r\n): RTCRtpEncodingParameters[] {\r\n  const encodings: RTCRtpEncodingParameters[] = [];\r\n  presets.forEach((preset, idx) => {\r\n    if (idx >= videoRids.length) {\r\n      return;\r\n    }\r\n    const size = Math.min(width, height);\r\n    const rid = videoRids[idx];\r\n    const encoding: RTCRtpEncodingParameters = {\r\n      rid,\r\n      scaleResolutionDownBy: Math.max(1, size / Math.min(preset.width, preset.height)),\r\n      maxBitrate: preset.encoding.maxBitrate,\r\n    };\r\n    if (preset.encoding.maxFramerate) {\r\n      encoding.maxFramerate = preset.encoding.maxFramerate;\r\n    }\r\n    encodings.push(encoding);\r\n  });\r\n  return encodings;\r\n}\r\n\r\n/** @internal */\r\nexport function sortPresets(presets: Array<VideoPreset> | undefined) {\r\n  if (!presets) return;\r\n  return presets.sort((a, b) => {\r\n    const { encoding: aEnc } = a;\r\n    const { encoding: bEnc } = b;\r\n\r\n    if (aEnc.maxBitrate > bEnc.maxBitrate) {\r\n      return 1;\r\n    }\r\n    if (aEnc.maxBitrate < bEnc.maxBitrate) return -1;\r\n    if (aEnc.maxBitrate === bEnc.maxBitrate && aEnc.maxFramerate && bEnc.maxFramerate) {\r\n      return aEnc.maxFramerate > bEnc.maxFramerate ? 1 : -1;\r\n    }\r\n    return 0;\r\n  });\r\n}\r\n","import 'webrtc-adapter';\r\nimport log from '../../logger';\r\nimport type { InternalRoomOptions } from '../../options';\r\nimport { DataPacket, DataPacket_Kind, ParticipantInfo } from '../../proto/livekit_models';\r\nimport {\r\n  AddTrackRequest,\r\n  DataChannelInfo,\r\n  SignalTarget,\r\n  SubscribedQualityUpdate,\r\n  TrackPublishedResponse,\r\n  TrackUnpublishedResponse,\r\n} from '../../proto/livekit_rtc';\r\nimport type RTCEngine from '../RTCEngine';\r\nimport { DeviceUnsupportedError, TrackInvalidError, UnexpectedConnectionState } from '../errors';\r\nimport { EngineEvent, ParticipantEvent, TrackEvent } from '../events';\r\nimport LocalAudioTrack from '../track/LocalAudioTrack';\r\nimport LocalTrack from '../track/LocalTrack';\r\nimport LocalTrackPublication from '../track/LocalTrackPublication';\r\nimport LocalVideoTrack, { videoLayersFromEncodings } from '../track/LocalVideoTrack';\r\nimport { Track } from '../track/Track';\r\nimport {\r\n  AudioCaptureOptions,\r\n  BackupVideoCodec,\r\n  CreateLocalTracksOptions,\r\n  ScreenShareCaptureOptions,\r\n  ScreenSharePresets,\r\n  TrackPublishOptions,\r\n  VideoCaptureOptions,\r\n  isBackupCodec,\r\n  isCodecEqual,\r\n} from '../track/options';\r\nimport { constraintsForOptions, mergeDefaultOptions } from '../track/utils';\r\nimport type { DataPublishOptions } from '../types';\r\nimport { Future, isFireFox, isSVCCodec, isSafari, isWeb, supportsAV1, supportsVP9 } from '../utils';\r\nimport Participant from './Participant';\r\nimport { ParticipantTrackPermission, trackPermissionToProto } from './ParticipantTrackPermission';\r\nimport RemoteParticipant from './RemoteParticipant';\r\nimport {\r\n  computeTrackBackupEncodings,\r\n  computeVideoEncodings,\r\n  mediaTrackToLocalTrack,\r\n} from './publishUtils';\r\n\r\nexport default class LocalParticipant extends Participant {\r\n  audioTracks: Map<string, LocalTrackPublication>;\r\n\r\n  videoTracks: Map<string, LocalTrackPublication>;\r\n\r\n  /** map of track sid => all published tracks */\r\n  tracks: Map<string, LocalTrackPublication>;\r\n\r\n  /** @internal */\r\n  engine: RTCEngine;\r\n\r\n  private pendingPublishing = new Set<Track.Source>();\r\n\r\n  private pendingPublishPromises = new Map<LocalTrack, Promise<LocalTrackPublication>>();\r\n\r\n  private cameraError: Error | undefined;\r\n\r\n  private microphoneError: Error | undefined;\r\n\r\n  private participantTrackPermissions: Array<ParticipantTrackPermission> = [];\r\n\r\n  private allParticipantsAllowedToSubscribe: boolean = true;\r\n\r\n  // keep a pointer to room options\r\n  private roomOptions: InternalRoomOptions;\r\n\r\n  private reconnectFuture?: Future<void>;\r\n\r\n  /** @internal */\r\n  constructor(sid: string, identity: string, engine: RTCEngine, options: InternalRoomOptions) {\r\n    super(sid, identity);\r\n    this.audioTracks = new Map();\r\n    this.videoTracks = new Map();\r\n    this.tracks = new Map();\r\n    this.engine = engine;\r\n    this.roomOptions = options;\r\n    this.setupEngine(engine);\r\n  }\r\n\r\n  get lastCameraError(): Error | undefined {\r\n    return this.cameraError;\r\n  }\r\n\r\n  get lastMicrophoneError(): Error | undefined {\r\n    return this.microphoneError;\r\n  }\r\n\r\n  getTrack(source: Track.Source): LocalTrackPublication | undefined {\r\n    const track = super.getTrack(source);\r\n    if (track) {\r\n      return track as LocalTrackPublication;\r\n    }\r\n  }\r\n\r\n  getTrackByName(name: string): LocalTrackPublication | undefined {\r\n    const track = super.getTrackByName(name);\r\n    if (track) {\r\n      return track as LocalTrackPublication;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @internal\r\n   */\r\n  setupEngine(engine: RTCEngine) {\r\n    this.engine = engine;\r\n    this.engine.client.onRemoteMuteChanged = (trackSid: string, muted: boolean) => {\r\n      const pub = this.tracks.get(trackSid);\r\n      if (!pub || !pub.track) {\r\n        return;\r\n      }\r\n      if (muted) {\r\n        pub.mute();\r\n      } else {\r\n        pub.unmute();\r\n      }\r\n    };\r\n\r\n    this.engine.client.onSubscribedQualityUpdate = this.handleSubscribedQualityUpdate;\r\n\r\n    this.engine.client.onLocalTrackUnpublished = this.handleLocalTrackUnpublished;\r\n\r\n    this.engine\r\n      .on(EngineEvent.Connected, this.handleReconnected)\r\n      .on(EngineEvent.Restarted, this.handleReconnected)\r\n      .on(EngineEvent.Resumed, this.handleReconnected)\r\n      .on(EngineEvent.Restarting, this.handleReconnecting)\r\n      .on(EngineEvent.Resuming, this.handleReconnecting)\r\n      .on(EngineEvent.Disconnected, this.handleDisconnected);\r\n  }\r\n\r\n  private handleReconnecting = () => {\r\n    if (!this.reconnectFuture) {\r\n      this.reconnectFuture = new Future<void>();\r\n    }\r\n  };\r\n\r\n  private handleReconnected = () => {\r\n    this.reconnectFuture?.resolve?.();\r\n    this.reconnectFuture = undefined;\r\n    this.updateTrackSubscriptionPermissions();\r\n  };\r\n\r\n  private handleDisconnected = () => {\r\n    this.reconnectFuture?.reject?.('Got disconnected during publishing attempt');\r\n    this.reconnectFuture = undefined;\r\n  };\r\n\r\n  /**\r\n   * Sets and updates the metadata of the local participant.\r\n   * Note: this requires `CanUpdateOwnMetadata` permission encoded in the token.\r\n   * @param metadata\r\n   */\r\n  setMetadata(metadata: string): void {\r\n    super.setMetadata(metadata);\r\n    this.engine.client.sendUpdateLocalMetadata(metadata, this.name ?? '');\r\n  }\r\n\r\n  /**\r\n   * Sets and updates the name of the local participant.\r\n   * Note: this requires `CanUpdateOwnMetadata` permission encoded in the token.\r\n   * @param metadata\r\n   */\r\n  setName(name: string): void {\r\n    super.setName(name);\r\n    this.engine.client.sendUpdateLocalMetadata(this.metadata ?? '', name);\r\n  }\r\n\r\n  /**\r\n   * Enable or disable a participant's camera track.\r\n   *\r\n   * If a track has already published, it'll mute or unmute the track.\r\n   * Resolves with a `LocalTrackPublication` instance if successful and `undefined` otherwise\r\n   */\r\n  setCameraEnabled(\r\n    enabled: boolean,\r\n    options?: VideoCaptureOptions,\r\n    publishOptions?: TrackPublishOptions,\r\n  ): Promise<LocalTrackPublication | undefined> {\r\n    return this.setTrackEnabled(Track.Source.Camera, enabled, options, publishOptions);\r\n  }\r\n\r\n  /**\r\n   * Enable or disable a participant's microphone track.\r\n   *\r\n   * If a track has already published, it'll mute or unmute the track.\r\n   * Resolves with a `LocalTrackPublication` instance if successful and `undefined` otherwise\r\n   */\r\n  setMicrophoneEnabled(\r\n    enabled: boolean,\r\n    options?: AudioCaptureOptions,\r\n    publishOptions?: TrackPublishOptions,\r\n  ): Promise<LocalTrackPublication | undefined> {\r\n    return this.setTrackEnabled(Track.Source.Microphone, enabled, options, publishOptions);\r\n  }\r\n\r\n  /**\r\n   * Start or stop sharing a participant's screen\r\n   * Resolves with a `LocalTrackPublication` instance if successful and `undefined` otherwise\r\n   */\r\n  setScreenShareEnabled(\r\n    enabled: boolean,\r\n    options?: ScreenShareCaptureOptions,\r\n    publishOptions?: TrackPublishOptions,\r\n  ): Promise<LocalTrackPublication | undefined> {\r\n    return this.setTrackEnabled(Track.Source.ScreenShare, enabled, options, publishOptions);\r\n  }\r\n\r\n  /**\r\n   * Enable or disable publishing for a track by source. This serves as a simple\r\n   * way to manage the common tracks (camera, mic, or screen share).\r\n   * Resolves with LocalTrackPublication if successful and void otherwise\r\n   */\r\n  private async setTrackEnabled(\r\n    source: Extract<Track.Source, Track.Source.Camera>,\r\n    enabled: boolean,\r\n    options?: VideoCaptureOptions,\r\n    publishOptions?: TrackPublishOptions,\r\n  ): Promise<LocalTrackPublication | undefined>;\r\n  private async setTrackEnabled(\r\n    source: Extract<Track.Source, Track.Source.Microphone>,\r\n    enabled: boolean,\r\n    options?: AudioCaptureOptions,\r\n    publishOptions?: TrackPublishOptions,\r\n  ): Promise<LocalTrackPublication | undefined>;\r\n  private async setTrackEnabled(\r\n    source: Extract<Track.Source, Track.Source.ScreenShare>,\r\n    enabled: boolean,\r\n    options?: ScreenShareCaptureOptions,\r\n    publishOptions?: TrackPublishOptions,\r\n  ): Promise<LocalTrackPublication | undefined>;\r\n  private async setTrackEnabled(\r\n    source: Track.Source,\r\n    enabled: true,\r\n    options?: VideoCaptureOptions | AudioCaptureOptions | ScreenShareCaptureOptions,\r\n    publishOptions?: TrackPublishOptions,\r\n  ) {\r\n    log.debug('setTrackEnabled', { source, enabled });\r\n    let track = this.getTrack(source);\r\n    if (enabled) {\r\n      if (track) {\r\n        await track.unmute();\r\n      } else {\r\n        let localTracks: Array<LocalTrack> | undefined;\r\n        if (this.pendingPublishing.has(source)) {\r\n          log.info('skipping duplicate published source', { source });\r\n          // no-op it's already been requested\r\n          return;\r\n        }\r\n        this.pendingPublishing.add(source);\r\n        try {\r\n          switch (source) {\r\n            case Track.Source.Camera:\r\n              localTracks = await this.createTracks({\r\n                video: (options as VideoCaptureOptions | undefined) ?? true,\r\n              });\r\n\r\n              break;\r\n            case Track.Source.Microphone:\r\n              localTracks = await this.createTracks({\r\n                audio: (options as AudioCaptureOptions | undefined) ?? true,\r\n              });\r\n              break;\r\n            case Track.Source.ScreenShare:\r\n              localTracks = await this.createScreenTracks({\r\n                ...(options as ScreenShareCaptureOptions | undefined),\r\n              });\r\n              break;\r\n            default:\r\n              throw new TrackInvalidError(source);\r\n          }\r\n          const publishPromises: Array<Promise<LocalTrackPublication>> = [];\r\n          for (const localTrack of localTracks) {\r\n            log.info('publishing track', { localTrack });\r\n            publishPromises.push(this.publishTrack(localTrack, publishOptions));\r\n          }\r\n          const publishedTracks = await Promise.all(publishPromises);\r\n          // for screen share publications including audio, this will only return the screen share publication, not the screen share audio one\r\n          // revisit if we want to return an array of tracks instead for v2\r\n          [track] = publishedTracks;\r\n        } catch (e) {\r\n          if (e instanceof Error && !(e instanceof TrackInvalidError)) {\r\n            this.emit(ParticipantEvent.MediaDevicesError, e);\r\n          }\r\n          throw e;\r\n        } finally {\r\n          this.pendingPublishing.delete(source);\r\n        }\r\n      }\r\n    } else if (track && track.track) {\r\n      // screenshare cannot be muted, unpublish instead\r\n      if (source === Track.Source.ScreenShare) {\r\n        track = await this.unpublishTrack(track.track);\r\n        const screenAudioTrack = this.getTrack(Track.Source.ScreenShareAudio);\r\n        if (screenAudioTrack && screenAudioTrack.track) {\r\n          this.unpublishTrack(screenAudioTrack.track);\r\n        }\r\n      } else {\r\n        await track.mute();\r\n      }\r\n    }\r\n    return track;\r\n  }\r\n\r\n  /**\r\n   * Publish both camera and microphone at the same time. This is useful for\r\n   * displaying a single Permission Dialog box to the end user.\r\n   */\r\n  async enableCameraAndMicrophone() {\r\n    if (\r\n      this.pendingPublishing.has(Track.Source.Camera) ||\r\n      this.pendingPublishing.has(Track.Source.Microphone)\r\n    ) {\r\n      // no-op it's already been requested\r\n      return;\r\n    }\r\n\r\n    this.pendingPublishing.add(Track.Source.Camera);\r\n    this.pendingPublishing.add(Track.Source.Microphone);\r\n    try {\r\n      const tracks: LocalTrack[] = await this.createTracks({\r\n        audio: true,\r\n        video: true,\r\n      });\r\n\r\n      await Promise.all(tracks.map((track) => this.publishTrack(track)));\r\n    } finally {\r\n      this.pendingPublishing.delete(Track.Source.Camera);\r\n      this.pendingPublishing.delete(Track.Source.Microphone);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create local camera and/or microphone tracks\r\n   * @param options\r\n   * @returns\r\n   */\r\n  async createTracks(options?: CreateLocalTracksOptions): Promise<LocalTrack[]> {\r\n    const opts = mergeDefaultOptions(\r\n      options,\r\n      this.roomOptions?.audioCaptureDefaults,\r\n      this.roomOptions?.videoCaptureDefaults,\r\n    );\r\n\r\n    const constraints = constraintsForOptions(opts);\r\n    let stream: MediaStream | undefined;\r\n    try {\r\n      stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n    } catch (err) {\r\n      if (err instanceof Error) {\r\n        if (constraints.audio) {\r\n          this.microphoneError = err;\r\n        }\r\n        if (constraints.video) {\r\n          this.cameraError = err;\r\n        }\r\n      }\r\n\r\n      throw err;\r\n    }\r\n\r\n    if (constraints.audio) {\r\n      this.microphoneError = undefined;\r\n    }\r\n    if (constraints.video) {\r\n      this.cameraError = undefined;\r\n    }\r\n\r\n    return stream.getTracks().map((mediaStreamTrack) => {\r\n      const isAudio = mediaStreamTrack.kind === 'audio';\r\n      let trackOptions = isAudio ? options!.audio : options!.video;\r\n      if (typeof trackOptions === 'boolean' || !trackOptions) {\r\n        trackOptions = {};\r\n      }\r\n      let trackConstraints: MediaTrackConstraints | undefined;\r\n      const conOrBool = isAudio ? constraints.audio : constraints.video;\r\n      if (typeof conOrBool !== 'boolean') {\r\n        trackConstraints = conOrBool;\r\n      }\r\n      const track = mediaTrackToLocalTrack(mediaStreamTrack, trackConstraints);\r\n      if (track.kind === Track.Kind.Video) {\r\n        track.source = Track.Source.Camera;\r\n      } else if (track.kind === Track.Kind.Audio) {\r\n        track.source = Track.Source.Microphone;\r\n      }\r\n      track.mediaStream = stream;\r\n      return track;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Creates a screen capture tracks with getDisplayMedia().\r\n   * A LocalVideoTrack is always created and returned.\r\n   * If { audio: true }, and the browser supports audio capture, a LocalAudioTrack is also created.\r\n   */\r\n  async createScreenTracks(options?: ScreenShareCaptureOptions): Promise<Array<LocalTrack>> {\r\n    if (options === undefined) {\r\n      options = {};\r\n    }\r\n    if (options.resolution === undefined) {\r\n      options.resolution = ScreenSharePresets.h1080fps15.resolution;\r\n    }\r\n\r\n    let videoConstraints: MediaTrackConstraints | boolean = true;\r\n    if (options.resolution) {\r\n      if (isSafari()) {\r\n        videoConstraints = {\r\n          width: { max: options.resolution.width },\r\n          height: { max: options.resolution.height },\r\n          frameRate: options.resolution.frameRate,\r\n        };\r\n      } else {\r\n        videoConstraints = {\r\n          width: { ideal: options.resolution.width },\r\n          height: { ideal: options.resolution.height },\r\n          frameRate: options.resolution.frameRate,\r\n        };\r\n      }\r\n    }\r\n\r\n    if (navigator.mediaDevices.getDisplayMedia === undefined) {\r\n      throw new DeviceUnsupportedError('getDisplayMedia not supported');\r\n    }\r\n\r\n    const stream: MediaStream = await navigator.mediaDevices.getDisplayMedia({\r\n      audio: options.audio ?? false,\r\n      video: videoConstraints,\r\n      // @ts-expect-error support for experimental display media features\r\n      controller: options.controller,\r\n      selfBrowserSurface: options.selfBrowserSurface,\r\n      surfaceSwitching: options.surfaceSwitching,\r\n      systemAudio: options.systemAudio,\r\n    });\r\n\r\n    const tracks = stream.getVideoTracks();\r\n    if (tracks.length === 0) {\r\n      throw new TrackInvalidError('no video track found');\r\n    }\r\n    const screenVideo = new LocalVideoTrack(tracks[0], undefined, false);\r\n    screenVideo.source = Track.Source.ScreenShare;\r\n    const localTracks: Array<LocalTrack> = [screenVideo];\r\n    if (stream.getAudioTracks().length > 0) {\r\n      const screenAudio = new LocalAudioTrack(stream.getAudioTracks()[0], undefined, false);\r\n      screenAudio.source = Track.Source.ScreenShareAudio;\r\n      localTracks.push(screenAudio);\r\n    }\r\n    return localTracks;\r\n  }\r\n\r\n  /**\r\n   * Publish a new track to the room\r\n   * @param track\r\n   * @param options\r\n   */\r\n  async publishTrack(\r\n    track: LocalTrack | MediaStreamTrack,\r\n    options?: TrackPublishOptions,\r\n  ): Promise<LocalTrackPublication> {\r\n    await this.reconnectFuture?.promise;\r\n    if (track instanceof LocalTrack && this.pendingPublishPromises.has(track)) {\r\n      await this.pendingPublishPromises.get(track);\r\n    }\r\n    // convert raw media track into audio or video track\r\n    if (track instanceof MediaStreamTrack) {\r\n      switch (track.kind) {\r\n        case 'audio':\r\n          track = new LocalAudioTrack(track, undefined, true);\r\n          break;\r\n        case 'video':\r\n          track = new LocalVideoTrack(track, undefined, true);\r\n          break;\r\n        default:\r\n          throw new TrackInvalidError(`unsupported MediaStreamTrack kind ${track.kind}`);\r\n      }\r\n    }\r\n\r\n    // is it already published? if so skip\r\n    let existingPublication: LocalTrackPublication | undefined;\r\n    this.tracks.forEach((publication) => {\r\n      if (!publication.track) {\r\n        return;\r\n      }\r\n      if (publication.track === track) {\r\n        existingPublication = <LocalTrackPublication>publication;\r\n      }\r\n    });\r\n\r\n    if (existingPublication) {\r\n      log.warn('track has already been published, skipping');\r\n      return existingPublication;\r\n    }\r\n\r\n    const isStereo =\r\n      options?.forceStereo ||\r\n      ('channelCount' in track.mediaStreamTrack.getSettings() &&\r\n        // @ts-ignore `channelCount` on getSettings() is currently only available for Safari, but is generally the best way to determine a stereo track https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackSettings/channelCount\r\n        track.mediaStreamTrack.getSettings().channelCount === 2) ||\r\n      track.mediaStreamTrack.getConstraints().channelCount === 2;\r\n\r\n    // disable dtx for stereo track if not enabled explicitly\r\n    if (isStereo) {\r\n      if (!options) {\r\n        options = {};\r\n      }\r\n      if (options.dtx === undefined) {\r\n        log.info(\r\n          `Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.`,\r\n        );\r\n      }\r\n      if (options.red === undefined) {\r\n        log.info(\r\n          `Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work.`,\r\n        );\r\n      }\r\n      options.dtx ??= false;\r\n      options.red ??= false;\r\n    }\r\n    const opts: TrackPublishOptions = {\r\n      ...this.roomOptions.publishDefaults,\r\n      ...options,\r\n    };\r\n\r\n    if (opts.source) {\r\n      track.source = opts.source;\r\n    }\r\n    const publishPromise = this.publish(track, opts, options, isStereo);\r\n    this.pendingPublishPromises.set(track, publishPromise);\r\n    try {\r\n      const publication = await publishPromise;\r\n      return publication;\r\n    } catch (e) {\r\n      throw e;\r\n    } finally {\r\n      this.pendingPublishPromises.delete(track);\r\n    }\r\n  }\r\n\r\n  private async publish(\r\n    track: LocalTrack,\r\n    opts: TrackPublishOptions,\r\n    options: TrackPublishOptions | undefined,\r\n    isStereo: boolean,\r\n  ) {\r\n    const existingTrackOfSource = Array.from(this.tracks.values()).find(\r\n      (publishedTrack) => track instanceof LocalTrack && publishedTrack.source === track.source,\r\n    );\r\n    if (existingTrackOfSource && track.source !== Track.Source.Unknown) {\r\n      try {\r\n        // throw an Error in order to capture the stack trace\r\n        throw Error(`publishing a second track with the same source: ${track.source}`);\r\n      } catch (e: unknown) {\r\n        if (e instanceof Error) {\r\n          log.warn(e.message, {\r\n            oldTrack: existingTrackOfSource,\r\n            newTrack: track,\r\n            trace: e.stack,\r\n          });\r\n        }\r\n      }\r\n    }\r\n    if (opts.stopMicTrackOnMute && track instanceof LocalAudioTrack) {\r\n      track.stopOnMute = true;\r\n    }\r\n\r\n    if (track.source === Track.Source.ScreenShare && isFireFox()) {\r\n      // Firefox does not work well with simulcasted screen share\r\n      // we frequently get no data on layer 0 when enabled\r\n      opts.simulcast = false;\r\n    }\r\n\r\n    // require full AV1/VP9 SVC support prior to using it\r\n    if (opts.videoCodec === 'av1' && !supportsAV1()) {\r\n      opts.videoCodec = undefined;\r\n    }\r\n    if (opts.videoCodec === 'vp9' && !supportsVP9()) {\r\n      opts.videoCodec = undefined;\r\n    }\r\n\r\n    // handle track actions\r\n    track.on(TrackEvent.Muted, this.onTrackMuted);\r\n    track.on(TrackEvent.Unmuted, this.onTrackUnmuted);\r\n    track.on(TrackEvent.Ended, this.handleTrackEnded);\r\n    track.on(TrackEvent.UpstreamPaused, this.onTrackUpstreamPaused);\r\n    track.on(TrackEvent.UpstreamResumed, this.onTrackUpstreamResumed);\r\n\r\n    // create track publication from track\r\n    const req = AddTrackRequest.fromPartial({\r\n      // get local track id for use during publishing\r\n      cid: track.mediaStreamTrack.id,\r\n      name: options?.name,\r\n      type: Track.kindToProto(track.kind),\r\n      muted: track.isMuted,\r\n      source: Track.sourceToProto(track.source),\r\n      disableDtx: !(opts.dtx ?? true),\r\n      stereo: isStereo,\r\n      disableRed: !(opts.red ?? true),\r\n    });\r\n\r\n    // compute encodings and layers for video\r\n    let encodings: RTCRtpEncodingParameters[] | undefined;\r\n    let simEncodings: RTCRtpEncodingParameters[] | undefined;\r\n    if (track.kind === Track.Kind.Video) {\r\n      let dims: Track.Dimensions = {\r\n        width: 0,\r\n        height: 0,\r\n      };\r\n      try {\r\n        dims = await track.waitForDimensions();\r\n      } catch (e) {\r\n        // log failure\r\n        log.error('could not determine track dimensions');\r\n      }\r\n      // width and height should be defined for video\r\n      req.width = dims.width;\r\n      req.height = dims.height;\r\n      // for svc codecs, disable simulcast and use vp8 for backup codec\r\n      if (track instanceof LocalVideoTrack) {\r\n        if (isSVCCodec(opts.videoCodec)) {\r\n          // set scalabilityMode to 'L3T3' by default\r\n          opts.scalabilityMode = opts.scalabilityMode ?? 'L3T3';\r\n        }\r\n\r\n        // set up backup\r\n        if (opts.videoCodec && opts.backupCodec && opts.videoCodec !== opts.backupCodec.codec) {\r\n          const simOpts = { ...opts };\r\n          simOpts.simulcast = true;\r\n          simEncodings = computeTrackBackupEncodings(track, opts.backupCodec.codec, simOpts);\r\n\r\n          req.simulcastCodecs = [\r\n            {\r\n              codec: opts.videoCodec,\r\n              cid: track.mediaStreamTrack.id,\r\n              enableSimulcastLayers: true,\r\n            },\r\n            {\r\n              codec: opts.backupCodec.codec,\r\n              cid: '',\r\n              enableSimulcastLayers: true,\r\n            },\r\n          ];\r\n        }\r\n      }\r\n\r\n      encodings = computeVideoEncodings(\r\n        track.source === Track.Source.ScreenShare,\r\n        dims.width,\r\n        dims.height,\r\n        opts,\r\n      );\r\n      req.layers = videoLayersFromEncodings(req.width, req.height, simEncodings ?? encodings);\r\n    } else if (track.kind === Track.Kind.Audio && opts.audioBitrate) {\r\n      encodings = [\r\n        {\r\n          maxBitrate: opts.audioBitrate,\r\n        },\r\n      ];\r\n    }\r\n\r\n    if (!this.engine || this.engine.isClosed) {\r\n      throw new UnexpectedConnectionState('cannot publish track when not connected');\r\n    }\r\n\r\n    const ti = await this.engine.addTrack(req);\r\n    let primaryCodecSupported = false;\r\n    let backupCodecSupported = false;\r\n    ti.codecs.forEach((c) => {\r\n      if (isCodecEqual(c.mimeType, opts.videoCodec)) {\r\n        primaryCodecSupported = true;\r\n      } else if (opts.backupCodec && isCodecEqual(c.mimeType, opts.backupCodec.codec)) {\r\n        backupCodecSupported = true;\r\n      }\r\n    });\r\n\r\n    if (req.simulcastCodecs.length > 0) {\r\n      if (!primaryCodecSupported && !backupCodecSupported) {\r\n        throw Error('cannot publish track, codec not supported by server');\r\n      }\r\n\r\n      if (!primaryCodecSupported && opts.backupCodec) {\r\n        const backupCodec = opts.backupCodec;\r\n        opts = { ...opts };\r\n        log.debug(\r\n          `primary codec ${opts.videoCodec} not supported, fallback to ${backupCodec.codec}`,\r\n        );\r\n        opts.videoCodec = backupCodec.codec;\r\n        opts.videoEncoding = backupCodec.encoding;\r\n        encodings = simEncodings;\r\n      }\r\n    }\r\n\r\n    const publication = new LocalTrackPublication(track.kind, ti, track);\r\n    // save options for when it needs to be republished again\r\n    publication.options = opts;\r\n    track.sid = ti.sid;\r\n\r\n    if (!this.engine.publisher) {\r\n      throw new UnexpectedConnectionState('publisher is closed');\r\n    }\r\n    log.debug(`publishing ${track.kind} with encodings`, { encodings, trackInfo: ti });\r\n\r\n    // store RTPSender\r\n    track.sender = await this.engine.createSender(track, opts, encodings);\r\n\r\n    if (track.codec && isSVCCodec(track.codec) && encodings && encodings[0]?.maxBitrate) {\r\n      this.engine.publisher.setTrackCodecBitrate(\r\n        req.cid,\r\n        track.codec,\r\n        encodings[0].maxBitrate / 1000,\r\n      );\r\n    }\r\n\r\n    this.engine.negotiate();\r\n\r\n    if (track instanceof LocalVideoTrack) {\r\n      track.startMonitor(this.engine.client);\r\n    } else if (track instanceof LocalAudioTrack) {\r\n      track.startMonitor();\r\n    }\r\n\r\n    this.addTrackPublication(publication);\r\n\r\n    // send event for publication\r\n    this.emit(ParticipantEvent.LocalTrackPublished, publication);\r\n    return publication;\r\n  }\r\n\r\n  override get isLocal(): boolean {\r\n    return true;\r\n  }\r\n\r\n  /** @internal\r\n   * publish additional codec to existing track\r\n   */\r\n  async publishAdditionalCodecForTrack(\r\n    track: LocalTrack | MediaStreamTrack,\r\n    videoCodec: BackupVideoCodec,\r\n    options?: TrackPublishOptions,\r\n  ) {\r\n    // is it not published? if so skip\r\n    let existingPublication: LocalTrackPublication | undefined;\r\n    this.tracks.forEach((publication) => {\r\n      if (!publication.track) {\r\n        return;\r\n      }\r\n      if (publication.track === track) {\r\n        existingPublication = <LocalTrackPublication>publication;\r\n      }\r\n    });\r\n    if (!existingPublication) {\r\n      throw new TrackInvalidError('track is not published');\r\n    }\r\n\r\n    if (!(track instanceof LocalVideoTrack)) {\r\n      throw new TrackInvalidError('track is not a video track');\r\n    }\r\n\r\n    const opts: TrackPublishOptions = {\r\n      ...this.roomOptions?.publishDefaults,\r\n      ...options,\r\n    };\r\n\r\n    const encodings = computeTrackBackupEncodings(track, videoCodec, opts);\r\n    if (!encodings) {\r\n      log.info(\r\n        `backup codec has been disabled, ignoring request to add additional codec for track`,\r\n      );\r\n      return;\r\n    }\r\n    const simulcastTrack = track.addSimulcastTrack(videoCodec, encodings);\r\n    const req = AddTrackRequest.fromPartial({\r\n      cid: simulcastTrack.mediaStreamTrack.id,\r\n      type: Track.kindToProto(track.kind),\r\n      muted: track.isMuted,\r\n      source: Track.sourceToProto(track.source),\r\n      sid: track.sid,\r\n      simulcastCodecs: [\r\n        {\r\n          codec: opts.videoCodec,\r\n          cid: simulcastTrack.mediaStreamTrack.id,\r\n          enableSimulcastLayers: opts.simulcast,\r\n        },\r\n      ],\r\n    });\r\n    req.layers = videoLayersFromEncodings(req.width, req.height, encodings);\r\n\r\n    if (!this.engine || this.engine.isClosed) {\r\n      throw new UnexpectedConnectionState('cannot publish track when not connected');\r\n    }\r\n\r\n    const ti = await this.engine.addTrack(req);\r\n\r\n    const transceiverInit: RTCRtpTransceiverInit = { direction: 'sendonly' };\r\n    if (encodings) {\r\n      transceiverInit.sendEncodings = encodings;\r\n    }\r\n    await this.engine.createSimulcastSender(track, simulcastTrack, opts, encodings);\r\n\r\n    this.engine.negotiate();\r\n    log.debug(`published ${videoCodec} for track ${track.sid}`, { encodings, trackInfo: ti });\r\n  }\r\n\r\n  async unpublishTrack(\r\n    track: LocalTrack | MediaStreamTrack,\r\n    stopOnUnpublish?: boolean,\r\n  ): Promise<LocalTrackPublication | undefined> {\r\n    // look through all published tracks to find the right ones\r\n    const publication = this.getPublicationForTrack(track);\r\n\r\n    log.debug('unpublishing track', { track, method: 'unpublishTrack' });\r\n\r\n    if (!publication || !publication.track) {\r\n      log.warn('track was not unpublished because no publication was found', {\r\n        track,\r\n        method: 'unpublishTrack',\r\n      });\r\n      return undefined;\r\n    }\r\n\r\n    track = publication.track;\r\n    track.off(TrackEvent.Muted, this.onTrackMuted);\r\n    track.off(TrackEvent.Unmuted, this.onTrackUnmuted);\r\n    track.off(TrackEvent.Ended, this.handleTrackEnded);\r\n    track.off(TrackEvent.UpstreamPaused, this.onTrackUpstreamPaused);\r\n    track.off(TrackEvent.UpstreamResumed, this.onTrackUpstreamResumed);\r\n\r\n    if (stopOnUnpublish === undefined) {\r\n      stopOnUnpublish = this.roomOptions?.stopLocalTrackOnUnpublish ?? true;\r\n    }\r\n    if (stopOnUnpublish) {\r\n      track.stop();\r\n    }\r\n\r\n    let negotiationNeeded = false;\r\n    const trackSender = track.sender;\r\n    track.sender = undefined;\r\n    if (\r\n      this.engine.publisher &&\r\n      this.engine.publisher.pc.connectionState !== 'closed' &&\r\n      trackSender\r\n    ) {\r\n      try {\r\n        if (this.engine.removeTrack(trackSender)) {\r\n          negotiationNeeded = true;\r\n        }\r\n        if (track instanceof LocalVideoTrack) {\r\n          for (const [, trackInfo] of track.simulcastCodecs) {\r\n            if (trackInfo.sender) {\r\n              if (this.engine.removeTrack(trackInfo.sender)) {\r\n                negotiationNeeded = true;\r\n              }\r\n              trackInfo.sender = undefined;\r\n            }\r\n          }\r\n          track.simulcastCodecs.clear();\r\n        }\r\n      } catch (e) {\r\n        log.warn('failed to unpublish track', { error: e, method: 'unpublishTrack' });\r\n      }\r\n    }\r\n\r\n    // remove from our maps\r\n    this.tracks.delete(publication.trackSid);\r\n    switch (publication.kind) {\r\n      case Track.Kind.Audio:\r\n        this.audioTracks.delete(publication.trackSid);\r\n        break;\r\n      case Track.Kind.Video:\r\n        this.videoTracks.delete(publication.trackSid);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    this.emit(ParticipantEvent.LocalTrackUnpublished, publication);\r\n    publication.setTrack(undefined);\r\n\r\n    if (negotiationNeeded) {\r\n      await this.engine.negotiate();\r\n    }\r\n    return publication;\r\n  }\r\n\r\n  async unpublishTracks(\r\n    tracks: LocalTrack[] | MediaStreamTrack[],\r\n  ): Promise<LocalTrackPublication[]> {\r\n    const results = await Promise.all(tracks.map((track) => this.unpublishTrack(track)));\r\n    return results.filter(\r\n      (track) => track instanceof LocalTrackPublication,\r\n    ) as LocalTrackPublication[];\r\n  }\r\n\r\n  async republishAllTracks(options?: TrackPublishOptions) {\r\n    const localPubs: LocalTrackPublication[] = [];\r\n    this.tracks.forEach((pub) => {\r\n      if (pub.track) {\r\n        if (options) {\r\n          pub.options = { ...pub.options, ...options };\r\n        }\r\n        localPubs.push(pub);\r\n      }\r\n    });\r\n\r\n    await Promise.all(\r\n      localPubs.map(async (pub) => {\r\n        const track = pub.track!;\r\n        await this.unpublishTrack(track, false);\r\n        await this.publishTrack(track, pub.options);\r\n      }),\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Publish a new data payload to the room. Data will be forwarded to each\r\n   * participant in the room if the destination field in publishOptions is empty\r\n   *\r\n   * @param data Uint8Array of the payload. To send string data, use TextEncoder.encode\r\n   * @param kind whether to send this as reliable or lossy.\r\n   * For data that you need delivery guarantee (such as chat messages), use Reliable.\r\n   * For data that should arrive as quickly as possible, but you are ok with dropped\r\n   * packets, use Lossy.\r\n   * @param publishOptions optionally specify a `topic` and `destination`\r\n   */\r\n  async publishData(\r\n    data: Uint8Array,\r\n    kind: DataPacket_Kind,\r\n    publishOptions?: DataPublishOptions,\r\n  ): Promise<void>;\r\n  /**\r\n   * Publish a new data payload to the room. Data will be forwarded to each\r\n   * participant in the room if the destination argument is empty\r\n   *\r\n   * @param data Uint8Array of the payload. To send string data, use TextEncoder.encode\r\n   * @param kind whether to send this as reliable or lossy.\r\n   * For data that you need delivery guarantee (such as chat messages), use Reliable.\r\n   * For data that should arrive as quickly as possible, but you are ok with dropped\r\n   * packets, use Lossy.\r\n   * @param destination the participants who will receive the message\r\n   */\r\n  async publishData(\r\n    data: Uint8Array,\r\n    kind: DataPacket_Kind,\r\n    destination?: RemoteParticipant[] | string[],\r\n  ): Promise<void>;\r\n\r\n  async publishData(\r\n    data: Uint8Array,\r\n    kind: DataPacket_Kind,\r\n    publishOptions: DataPublishOptions | RemoteParticipant[] | string[] = {},\r\n  ) {\r\n    const destination = Array.isArray(publishOptions)\r\n      ? publishOptions\r\n      : publishOptions?.destination;\r\n    const destinationSids: string[] = [];\r\n\r\n    const topic = !Array.isArray(publishOptions) ? publishOptions.topic : undefined;\r\n\r\n    if (destination !== undefined) {\r\n      destination.forEach((val: any) => {\r\n        if (val instanceof RemoteParticipant) {\r\n          destinationSids.push(val.sid);\r\n        } else {\r\n          destinationSids.push(val);\r\n        }\r\n      });\r\n    }\r\n\r\n    const packet: DataPacket = {\r\n      kind,\r\n      value: {\r\n        $case: 'user',\r\n        user: {\r\n          participantSid: this.sid,\r\n          payload: data,\r\n          destinationSids: destinationSids,\r\n          topic,\r\n        },\r\n      },\r\n    };\r\n\r\n    await this.engine.sendDataPacket(packet, kind);\r\n  }\r\n\r\n  /**\r\n   * Control who can subscribe to LocalParticipant's published tracks.\r\n   *\r\n   * By default, all participants can subscribe. This allows fine-grained control over\r\n   * who is able to subscribe at a participant and track level.\r\n   *\r\n   * Note: if access is given at a track-level (i.e. both [allParticipantsAllowed] and\r\n   * [ParticipantTrackPermission.allTracksAllowed] are false), any newer published tracks\r\n   * will not grant permissions to any participants and will require a subsequent\r\n   * permissions update to allow subscription.\r\n   *\r\n   * @param allParticipantsAllowed Allows all participants to subscribe all tracks.\r\n   *  Takes precedence over [[participantTrackPermissions]] if set to true.\r\n   *  By default this is set to true.\r\n   * @param participantTrackPermissions Full list of individual permissions per\r\n   *  participant/track. Any omitted participants will not receive any permissions.\r\n   */\r\n  setTrackSubscriptionPermissions(\r\n    allParticipantsAllowed: boolean,\r\n    participantTrackPermissions: ParticipantTrackPermission[] = [],\r\n  ) {\r\n    this.participantTrackPermissions = participantTrackPermissions;\r\n    this.allParticipantsAllowedToSubscribe = allParticipantsAllowed;\r\n    if (this.engine.client.isConnected) {\r\n      this.updateTrackSubscriptionPermissions();\r\n    }\r\n  }\r\n\r\n  /** @internal */\r\n  updateInfo(info: ParticipantInfo): boolean {\r\n    if (info.sid !== this.sid) {\r\n      // drop updates that specify a wrong sid.\r\n      // the sid for local participant is only explicitly set on join and full reconnect\r\n      return false;\r\n    }\r\n    if (!super.updateInfo(info)) {\r\n      return false;\r\n    }\r\n\r\n    // reconcile track mute status.\r\n    // if server's track mute status doesn't match actual, we'll have to update\r\n    // the server's copy\r\n    info.tracks.forEach((ti) => {\r\n      const pub = this.tracks.get(ti.sid);\r\n\r\n      if (pub) {\r\n        const mutedOnServer = pub.isMuted || (pub.track?.isUpstreamPaused ?? false);\r\n        if (mutedOnServer !== ti.muted) {\r\n          log.debug('updating server mute state after reconcile', {\r\n            sid: ti.sid,\r\n            muted: mutedOnServer,\r\n          });\r\n          this.engine.client.sendMuteTrack(ti.sid, mutedOnServer);\r\n        }\r\n      }\r\n    });\r\n    return true;\r\n  }\r\n\r\n  private updateTrackSubscriptionPermissions = () => {\r\n    log.debug('updating track subscription permissions', {\r\n      allParticipantsAllowed: this.allParticipantsAllowedToSubscribe,\r\n      participantTrackPermissions: this.participantTrackPermissions,\r\n    });\r\n    this.engine.client.sendUpdateSubscriptionPermissions(\r\n      this.allParticipantsAllowedToSubscribe,\r\n      this.participantTrackPermissions.map((p) => trackPermissionToProto(p)),\r\n    );\r\n  };\r\n\r\n  /** @internal */\r\n  private onTrackUnmuted = (track: LocalTrack) => {\r\n    this.onTrackMuted(track, track.isUpstreamPaused);\r\n  };\r\n\r\n  // when the local track changes in mute status, we'll notify server as such\r\n  /** @internal */\r\n  private onTrackMuted = (track: LocalTrack, muted?: boolean) => {\r\n    if (muted === undefined) {\r\n      muted = true;\r\n    }\r\n\r\n    if (!track.sid) {\r\n      log.error('could not update mute status for unpublished track', track);\r\n      return;\r\n    }\r\n\r\n    this.engine.updateMuteStatus(track.sid, muted);\r\n  };\r\n\r\n  private onTrackUpstreamPaused = (track: LocalTrack) => {\r\n    log.debug('upstream paused', track);\r\n  };\r\n\r\n  private onTrackUpstreamResumed = (track: LocalTrack) => {\r\n    log.debug('upstream resumed');\r\n    this.onTrackMuted(track, track.isMuted);\r\n  };\r\n\r\n  private handleSubscribedQualityUpdate = async (update: SubscribedQualityUpdate) => {\r\n    if (!this.roomOptions?.dynacast) {\r\n      return;\r\n    }\r\n    const pub = this.videoTracks.get(update.trackSid);\r\n    if (!pub) {\r\n      log.warn('received subscribed quality update for unknown track', {\r\n        method: 'handleSubscribedQualityUpdate',\r\n        sid: update.trackSid,\r\n      });\r\n      return;\r\n    }\r\n    if (update.subscribedCodecs.length > 0) {\r\n      if (!pub.videoTrack) {\r\n        return;\r\n      }\r\n      const newCodecs = await pub.videoTrack.setPublishingCodecs(update.subscribedCodecs);\r\n      for await (const codec of newCodecs) {\r\n        if (isBackupCodec(codec)) {\r\n          log.debug(`publish ${codec} for ${pub.videoTrack.sid}`);\r\n          await this.publishAdditionalCodecForTrack(pub.videoTrack, codec, pub.options);\r\n        }\r\n      }\r\n    } else if (update.subscribedQualities.length > 0) {\r\n      await pub.videoTrack?.setPublishingLayers(update.subscribedQualities);\r\n    }\r\n  };\r\n\r\n  private handleLocalTrackUnpublished = (unpublished: TrackUnpublishedResponse) => {\r\n    const track = this.tracks.get(unpublished.trackSid);\r\n    if (!track) {\r\n      log.warn('received unpublished event for unknown track', {\r\n        method: 'handleLocalTrackUnpublished',\r\n        trackSid: unpublished.trackSid,\r\n      });\r\n      return;\r\n    }\r\n    this.unpublishTrack(track.track!);\r\n  };\r\n\r\n  private handleTrackEnded = async (track: LocalTrack) => {\r\n    if (\r\n      track.source === Track.Source.ScreenShare ||\r\n      track.source === Track.Source.ScreenShareAudio\r\n    ) {\r\n      log.debug('unpublishing local track due to TrackEnded', {\r\n        track: track.sid,\r\n      });\r\n      this.unpublishTrack(track);\r\n    } else if (track.isUserProvided) {\r\n      await track.mute();\r\n    } else if (track instanceof LocalAudioTrack || track instanceof LocalVideoTrack) {\r\n      try {\r\n        if (isWeb()) {\r\n          try {\r\n            const currentPermissions = await navigator?.permissions.query({\r\n              // the permission query for camera and microphone currently not supported in Safari and Firefox\r\n              // @ts-ignore\r\n              name: track.source === Track.Source.Camera ? 'camera' : 'microphone',\r\n            });\r\n            if (currentPermissions && currentPermissions.state === 'denied') {\r\n              log.warn(`user has revoked access to ${track.source}`);\r\n\r\n              // detect granted change after permissions were denied to try and resume then\r\n              currentPermissions.onchange = () => {\r\n                if (currentPermissions.state !== 'denied') {\r\n                  if (!track.isMuted) {\r\n                    track.restartTrack();\r\n                  }\r\n                  currentPermissions.onchange = null;\r\n                }\r\n              };\r\n              throw new Error('GetUserMedia Permission denied');\r\n            }\r\n          } catch (e: any) {\r\n            // permissions query fails for firefox, we continue and try to restart the track\r\n          }\r\n        }\r\n        if (!track.isMuted) {\r\n          log.debug('track ended, attempting to use a different device');\r\n          await track.restartTrack();\r\n        }\r\n      } catch (e) {\r\n        log.warn(`could not restart track, muting instead`);\r\n        await track.mute();\r\n      }\r\n    }\r\n  };\r\n\r\n  private getPublicationForTrack(\r\n    track: LocalTrack | MediaStreamTrack,\r\n  ): LocalTrackPublication | undefined {\r\n    let publication: LocalTrackPublication | undefined;\r\n    this.tracks.forEach((pub) => {\r\n      const localTrack = pub.track;\r\n      if (!localTrack) {\r\n        return;\r\n      }\r\n\r\n      // this looks overly complicated due to this object tree\r\n      if (track instanceof MediaStreamTrack) {\r\n        if (localTrack instanceof LocalAudioTrack || localTrack instanceof LocalVideoTrack) {\r\n          if (localTrack.mediaStreamTrack === track) {\r\n            publication = <LocalTrackPublication>pub;\r\n          }\r\n        }\r\n      } else if (track === localTrack) {\r\n        publication = <LocalTrackPublication>pub;\r\n      }\r\n    });\r\n    return publication;\r\n  }\r\n\r\n  /** @internal */\r\n  publishedTracksInfo(): TrackPublishedResponse[] {\r\n    const infos: TrackPublishedResponse[] = [];\r\n    this.tracks.forEach((track: LocalTrackPublication) => {\r\n      if (track.track !== undefined) {\r\n        infos.push({\r\n          cid: track.track.mediaStreamID,\r\n          track: track.trackInfo,\r\n        });\r\n      }\r\n    });\r\n    return infos;\r\n  }\r\n\r\n  /** @internal */\r\n  dataChannelsInfo(): DataChannelInfo[] {\r\n    const infos: DataChannelInfo[] = [];\r\n    const getInfo = (dc: RTCDataChannel | undefined, target: SignalTarget) => {\r\n      if (dc?.id !== undefined && dc.id !== null) {\r\n        infos.push({\r\n          label: dc.label,\r\n          id: dc.id,\r\n          target,\r\n        });\r\n      }\r\n    };\r\n    getInfo(this.engine.dataChannelForKind(DataPacket_Kind.LOSSY), SignalTarget.PUBLISHER);\r\n    getInfo(this.engine.dataChannelForKind(DataPacket_Kind.RELIABLE), SignalTarget.PUBLISHER);\r\n    getInfo(this.engine.dataChannelForKind(DataPacket_Kind.LOSSY, true), SignalTarget.SUBSCRIBER);\r\n    getInfo(\r\n      this.engine.dataChannelForKind(DataPacket_Kind.RELIABLE, true),\r\n      SignalTarget.SUBSCRIBER,\r\n    );\r\n    return infos;\r\n  }\r\n}\r\n","import { EventEmitter } from 'events';\r\nimport type TypedEmitter from 'typed-emitter';\r\nimport { toProtoSessionDescription } from '../api/SignalClient';\r\nimport log from '../logger';\r\nimport type {\r\n  InternalRoomConnectOptions,\r\n  InternalRoomOptions,\r\n  RoomConnectOptions,\r\n  RoomOptions,\r\n} from '../options';\r\nimport {\r\n  DataPacket_Kind,\r\n  DisconnectReason,\r\n  ParticipantInfo,\r\n  ParticipantInfo_State,\r\n  ParticipantPermission,\r\n  Room as RoomModel,\r\n  ServerInfo,\r\n  SpeakerInfo,\r\n  TrackInfo,\r\n  TrackSource,\r\n  TrackType,\r\n  UserPacket,\r\n} from '../proto/livekit_models';\r\nimport {\r\n  ConnectionQualityUpdate,\r\n  JoinResponse,\r\n  SimulateScenario,\r\n  StreamStateUpdate,\r\n  SubscriptionPermissionUpdate,\r\n} from '../proto/livekit_rtc';\r\nimport DeviceManager from './DeviceManager';\r\nimport RTCEngine from './RTCEngine';\r\nimport { RegionUrlProvider } from './RegionUrlProvider';\r\nimport {\r\n  audioDefaults,\r\n  publishDefaults,\r\n  roomConnectOptionDefaults,\r\n  roomOptionDefaults,\r\n  videoDefaults,\r\n} from './defaults';\r\nimport { ConnectionError, ConnectionErrorReason, UnsupportedServer } from './errors';\r\nimport { EngineEvent, ParticipantEvent, RoomEvent, TrackEvent } from './events';\r\nimport LocalParticipant from './participant/LocalParticipant';\r\nimport type Participant from './participant/Participant';\r\nimport type { ConnectionQuality } from './participant/Participant';\r\nimport RemoteParticipant from './participant/RemoteParticipant';\r\nimport LocalAudioTrack from './track/LocalAudioTrack';\r\nimport LocalTrackPublication from './track/LocalTrackPublication';\r\nimport LocalVideoTrack from './track/LocalVideoTrack';\r\nimport type RemoteTrack from './track/RemoteTrack';\r\nimport RemoteTrackPublication from './track/RemoteTrackPublication';\r\nimport { Track } from './track/Track';\r\nimport type { TrackPublication } from './track/TrackPublication';\r\nimport type { AdaptiveStreamSettings } from './track/types';\r\nimport { getNewAudioContext } from './track/utils';\r\nimport type { SimulationOptions, SimulationScenario } from './types';\r\nimport {\r\n  Future,\r\n  Mutex,\r\n  createDummyVideoStreamTrack,\r\n  getEmptyAudioStreamTrack,\r\n  isCloud,\r\n  isWeb,\r\n  supportsSetSinkId,\r\n  unpackStreamId,\r\n} from './utils';\r\n\r\nexport enum ConnectionState {\r\n  Disconnected = 'disconnected',\r\n  Connecting = 'connecting',\r\n  Connected = 'connected',\r\n  Reconnecting = 'reconnecting',\r\n}\r\n\r\n/** @deprecated RoomState has been renamed to [[ConnectionState]] */\r\nexport const RoomState = ConnectionState;\r\n\r\n/**\r\n * In LiveKit, a room is the logical grouping for a list of participants.\r\n * Participants in a room can publish tracks, and subscribe to others' tracks.\r\n *\r\n * a Room fires [[RoomEvent | RoomEvents]].\r\n *\r\n * @noInheritDoc\r\n */\r\nclass Room extends (EventEmitter as new () => TypedEmitter<RoomEventCallbacks>) {\r\n  state: ConnectionState = ConnectionState.Disconnected;\r\n\r\n  /** map of sid: [[RemoteParticipant]] */\r\n  participants: Map<string, RemoteParticipant>;\r\n\r\n  /**\r\n   * list of participants that are actively speaking. when this changes\r\n   * a [[RoomEvent.ActiveSpeakersChanged]] event is fired\r\n   */\r\n  activeSpeakers: Participant[] = [];\r\n\r\n  /** @internal */\r\n  engine!: RTCEngine;\r\n\r\n  /** the current participant */\r\n  localParticipant: LocalParticipant;\r\n\r\n  /** options of room */\r\n  options: InternalRoomOptions;\r\n\r\n  private roomInfo?: RoomModel;\r\n\r\n  private identityToSid: Map<string, string>;\r\n\r\n  /** connect options of room */\r\n  private connOptions?: InternalRoomConnectOptions;\r\n\r\n  private audioEnabled = true;\r\n\r\n  private audioContext?: AudioContext;\r\n\r\n  /** used for aborting pending connections to a LiveKit server */\r\n  private abortController?: AbortController;\r\n\r\n  /** future holding client initiated connection attempt */\r\n  private connectFuture?: Future<void>;\r\n\r\n  private disconnectLock: Mutex;\r\n\r\n  private cachedParticipantSids: Array<string>;\r\n\r\n  /**\r\n   * Creates a new Room, the primary construct for a LiveKit session.\r\n   * @param options\r\n   */\r\n  constructor(options?: RoomOptions) {\r\n    super();\r\n    this.setMaxListeners(100);\r\n    this.participants = new Map();\r\n    this.cachedParticipantSids = [];\r\n    this.identityToSid = new Map();\r\n    this.options = { ...roomOptionDefaults, ...options };\r\n\r\n    this.options.audioCaptureDefaults = {\r\n      ...audioDefaults,\r\n      ...options?.audioCaptureDefaults,\r\n    };\r\n    this.options.videoCaptureDefaults = {\r\n      ...videoDefaults,\r\n      ...options?.videoCaptureDefaults,\r\n    };\r\n    this.options.publishDefaults = {\r\n      ...publishDefaults,\r\n      ...options?.publishDefaults,\r\n    };\r\n\r\n    this.maybeCreateEngine();\r\n\r\n    this.disconnectLock = new Mutex();\r\n\r\n    this.localParticipant = new LocalParticipant('', '', this.engine, this.options);\r\n  }\r\n\r\n  /**\r\n   * if the current room has a participant with `recorder: true` in its JWT grant\r\n   **/\r\n  get isRecording(): boolean {\r\n    return this.roomInfo?.activeRecording ?? false;\r\n  }\r\n\r\n  /** server assigned unique room id */\r\n  get sid(): string {\r\n    return this.roomInfo?.sid ?? '';\r\n  }\r\n\r\n  /** user assigned name, derived from JWT token */\r\n  get name(): string {\r\n    return this.roomInfo?.name ?? '';\r\n  }\r\n\r\n  /** room metadata */\r\n  get metadata(): string | undefined {\r\n    return this.roomInfo?.metadata;\r\n  }\r\n\r\n  get numParticipants(): number {\r\n    return this.roomInfo?.numParticipants ?? 0;\r\n  }\r\n\r\n  get numPublishers(): number {\r\n    return this.roomInfo?.numPublishers ?? 0;\r\n  }\r\n\r\n  private maybeCreateEngine() {\r\n    if (this.engine) {\r\n      return;\r\n    }\r\n\r\n    this.engine = new RTCEngine(this.options);\r\n\r\n    this.engine.client.onParticipantUpdate = this.handleParticipantUpdates;\r\n    this.engine.client.onRoomUpdate = this.handleRoomUpdate;\r\n    this.engine.client.onSpeakersChanged = this.handleSpeakersChanged;\r\n    this.engine.client.onStreamStateUpdate = this.handleStreamStateUpdate;\r\n    this.engine.client.onSubscriptionPermissionUpdate = this.handleSubscriptionPermissionUpdate;\r\n    this.engine.client.onConnectionQuality = this.handleConnectionQualityUpdate;\r\n\r\n    this.engine\r\n      .on(\r\n        EngineEvent.MediaTrackAdded,\r\n        (mediaTrack: MediaStreamTrack, stream: MediaStream, receiver?: RTCRtpReceiver) => {\r\n          this.onTrackAdded(mediaTrack, stream, receiver);\r\n        },\r\n      )\r\n      .on(EngineEvent.Disconnected, (reason?: DisconnectReason) => {\r\n        this.handleDisconnect(this.options.stopLocalTrackOnUnpublish, reason);\r\n      })\r\n      .on(EngineEvent.ActiveSpeakersUpdate, this.handleActiveSpeakersUpdate)\r\n      .on(EngineEvent.DataPacketReceived, this.handleDataPacket)\r\n      .on(EngineEvent.Resuming, () => {\r\n        if (this.setAndEmitConnectionState(ConnectionState.Reconnecting)) {\r\n          this.emit(RoomEvent.Reconnecting);\r\n        }\r\n        this.cachedParticipantSids = Array.from(this.participants.keys());\r\n      })\r\n      .on(EngineEvent.Resumed, () => {\r\n        this.setAndEmitConnectionState(ConnectionState.Connected);\r\n        this.emit(RoomEvent.Reconnected);\r\n        this.updateSubscriptions();\r\n\r\n        // once reconnected, figure out if any participants connected during reconnect and emit events for it\r\n        const diffParticipants = Array.from(this.participants.values()).filter(\r\n          (p) => !this.cachedParticipantSids.includes(p.sid),\r\n        );\r\n        diffParticipants.forEach((p) => this.emit(RoomEvent.ParticipantConnected, p));\r\n        this.cachedParticipantSids = [];\r\n      })\r\n      .on(EngineEvent.SignalResumed, () => {\r\n        if (this.state === ConnectionState.Reconnecting) {\r\n          this.sendSyncState();\r\n        }\r\n      })\r\n      .on(EngineEvent.Restarting, this.handleRestarting)\r\n      .on(EngineEvent.SignalRestarted, this.handleSignalRestarted)\r\n      .on(EngineEvent.DCBufferStatusChanged, (status, kind) => {\r\n        this.emit(RoomEvent.DCBufferStatusChanged, status, kind);\r\n      });\r\n\r\n    if (this.localParticipant) {\r\n      this.localParticipant.setupEngine(this.engine);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * getLocalDevices abstracts navigator.mediaDevices.enumerateDevices.\r\n   * In particular, it handles Chrome's unique behavior of creating `default`\r\n   * devices. When encountered, it'll be removed from the list of devices.\r\n   * The actual default device will be placed at top.\r\n   * @param kind\r\n   * @returns a list of available local devices\r\n   */\r\n  static getLocalDevices(\r\n    kind?: MediaDeviceKind,\r\n    requestPermissions: boolean = true,\r\n  ): Promise<MediaDeviceInfo[]> {\r\n    return DeviceManager.getInstance().getDevices(kind, requestPermissions);\r\n  }\r\n\r\n  /**\r\n   * prepares the connection to the livekit server by sending a HEAD request in order to\r\n   * 1. speed up DNS resolution\r\n   * 2. speed up TLS setup\r\n   * on the actual connection request\r\n   * throws an error if server is not reachable after the request timeout\r\n   * @experimental\r\n   */\r\n  async prepareConnection(url: string) {\r\n    await fetch(`http${url.substring(2)}`, { method: 'HEAD' });\r\n  }\r\n\r\n  connect = async (url: string, token: string, opts?: RoomConnectOptions): Promise<void> => {\r\n    // In case a disconnect called happened right before the connect call, make sure the disconnect is completed first by awaiting its lock\r\n    const unlockDisconnect = await this.disconnectLock.lock();\r\n\r\n    if (this.state === ConnectionState.Connected) {\r\n      // when the state is reconnecting or connected, this function returns immediately\r\n      log.info(`already connected to room ${this.name}`);\r\n      unlockDisconnect();\r\n      return Promise.resolve();\r\n    }\r\n\r\n    if (this.connectFuture) {\r\n      unlockDisconnect();\r\n      return this.connectFuture.promise;\r\n    }\r\n\r\n    this.setAndEmitConnectionState(ConnectionState.Connecting);\r\n\r\n    const urlProvider = new RegionUrlProvider(url, token);\r\n\r\n    const connectFn = async (\r\n      resolve: () => void,\r\n      reject: (reason: any) => void,\r\n      regionUrl?: string,\r\n    ) => {\r\n      if (this.abortController) {\r\n        this.abortController.abort();\r\n      }\r\n      this.abortController = new AbortController();\r\n\r\n      // at this point the intention to connect has been signalled so we can allow cancelling of the connection via disconnect() again\r\n      unlockDisconnect?.();\r\n\r\n      try {\r\n        await this.attemptConnection(regionUrl ?? url, token, opts, this.abortController);\r\n        this.abortController = undefined;\r\n        resolve();\r\n      } catch (e) {\r\n        if (\r\n          isCloud(new URL(url)) &&\r\n          e instanceof ConnectionError &&\r\n          e.reason !== ConnectionErrorReason.Cancelled\r\n        ) {\r\n          let nextUrl: string | null = null;\r\n          try {\r\n            nextUrl = await urlProvider.getNextBestRegionUrl(this.abortController?.signal);\r\n          } catch (error) {\r\n            if (\r\n              error instanceof ConnectionError &&\r\n              (error.status === 401 || error.reason === ConnectionErrorReason.Cancelled)\r\n            ) {\r\n              reject(error);\r\n              return;\r\n            }\r\n          }\r\n          if (nextUrl) {\r\n            log.debug('initial connection failed, retrying with another region');\r\n            await connectFn(resolve, reject, nextUrl);\r\n          } else {\r\n            reject(e);\r\n          }\r\n        } else {\r\n          reject(e);\r\n        }\r\n      }\r\n    };\r\n    this.connectFuture = new Future(connectFn, () => {\r\n      this.clearConnectionFutures();\r\n    });\r\n\r\n    return this.connectFuture.promise;\r\n  };\r\n\r\n  private connectSignal = async (\r\n    url: string,\r\n    token: string,\r\n    engine: RTCEngine,\r\n    connectOptions: InternalRoomConnectOptions,\r\n    roomOptions: InternalRoomOptions,\r\n    abortController: AbortController,\r\n  ): Promise<JoinResponse> => {\r\n    const joinResponse = await engine.join(\r\n      url,\r\n      token,\r\n      {\r\n        autoSubscribe: connectOptions.autoSubscribe,\r\n        publishOnly: connectOptions.publishOnly,\r\n        adaptiveStream:\r\n          typeof roomOptions.adaptiveStream === 'object' ? true : roomOptions.adaptiveStream,\r\n        maxRetries: connectOptions.maxRetries,\r\n      },\r\n      abortController.signal,\r\n    );\r\n\r\n    let serverInfo: Partial<ServerInfo> | undefined = joinResponse.serverInfo;\r\n    if (!serverInfo) {\r\n      serverInfo = { version: joinResponse.serverVersion, region: joinResponse.serverRegion };\r\n    }\r\n\r\n    log.debug(\r\n      `connected to Livekit Server ${Object.entries(serverInfo)\r\n        .map(([key, value]) => `${key}: ${value}`)\r\n        .join(', ')}`,\r\n    );\r\n\r\n    if (!joinResponse.serverVersion) {\r\n      throw new UnsupportedServer('unknown server version');\r\n    }\r\n\r\n    if (joinResponse.serverVersion === '0.15.1' && this.options.dynacast) {\r\n      log.debug('disabling dynacast due to server version');\r\n      // dynacast has a bug in 0.15.1, so we cannot use it then\r\n      roomOptions.dynacast = false;\r\n    }\r\n\r\n    return joinResponse;\r\n  };\r\n\r\n  private applyJoinResponse = (joinResponse: JoinResponse) => {\r\n    const pi = joinResponse.participant!;\r\n\r\n    this.localParticipant.sid = pi.sid;\r\n    this.localParticipant.identity = pi.identity;\r\n\r\n    // populate remote participants, these should not trigger new events\r\n    this.handleParticipantUpdates([pi, ...joinResponse.otherParticipants]);\r\n\r\n    if (joinResponse.room) {\r\n      this.handleRoomUpdate(joinResponse.room);\r\n    }\r\n  };\r\n\r\n  private attemptConnection = async (\r\n    url: string,\r\n    token: string,\r\n    opts: RoomConnectOptions | undefined,\r\n    abortController: AbortController,\r\n  ) => {\r\n    if (this.state === ConnectionState.Reconnecting) {\r\n      log.info('Reconnection attempt replaced by new connection attempt');\r\n      // make sure we close and recreate the existing engine in order to get rid of any potentially ongoing reconnection attempts\r\n      this.recreateEngine();\r\n    } else {\r\n      // create engine if previously disconnected\r\n      this.maybeCreateEngine();\r\n    }\r\n\r\n    this.acquireAudioContext();\r\n\r\n    this.connOptions = { ...roomConnectOptionDefaults, ...opts } as InternalRoomConnectOptions;\r\n\r\n    if (this.connOptions.rtcConfig) {\r\n      this.engine.rtcConfig = this.connOptions.rtcConfig;\r\n    }\r\n    if (this.connOptions.peerConnectionTimeout) {\r\n      this.engine.peerConnectionTimeout = this.connOptions.peerConnectionTimeout;\r\n    }\r\n\r\n    try {\r\n      const joinResponse = await this.connectSignal(\r\n        url,\r\n        token,\r\n        this.engine,\r\n        this.connOptions,\r\n        this.options,\r\n        abortController,\r\n      );\r\n\r\n      this.applyJoinResponse(joinResponse);\r\n      // forward metadata changed for the local participant\r\n      this.setupLocalParticipantEvents();\r\n      this.emit(RoomEvent.SignalConnected);\r\n    } catch (err) {\r\n      this.recreateEngine();\r\n      this.handleDisconnect(this.options.stopLocalTrackOnUnpublish);\r\n      const resultingError = new ConnectionError(`could not establish signal connection`);\r\n      if (err instanceof Error) {\r\n        resultingError.message = `${resultingError.message}: ${err.message}`;\r\n      }\r\n      if (err instanceof ConnectionError) {\r\n        resultingError.reason = err.reason;\r\n        resultingError.status = err.status;\r\n      }\r\n      log.debug(`error trying to establish signal connection`, { error: err });\r\n      throw resultingError;\r\n    }\r\n\r\n    if (abortController.signal.aborted) {\r\n      this.recreateEngine();\r\n      this.handleDisconnect(this.options.stopLocalTrackOnUnpublish);\r\n      throw new ConnectionError(`Connection attempt aborted`);\r\n    }\r\n\r\n    try {\r\n      await this.engine.waitForPCInitialConnection(\r\n        this.connOptions.peerConnectionTimeout,\r\n        abortController,\r\n      );\r\n    } catch (e) {\r\n      this.recreateEngine();\r\n      this.handleDisconnect(this.options.stopLocalTrackOnUnpublish);\r\n      throw e;\r\n    }\r\n\r\n    // also hook unload event\r\n    if (isWeb() && this.options.disconnectOnPageLeave) {\r\n      // capturing both 'pagehide' and 'beforeunload' to capture broadest set of browser behaviors\r\n      window.addEventListener('pagehide', this.onPageLeave);\r\n      window.addEventListener('beforeunload', this.onPageLeave);\r\n      navigator.mediaDevices?.addEventListener('devicechange', this.handleDeviceChange);\r\n    }\r\n    this.setAndEmitConnectionState(ConnectionState.Connected);\r\n    this.emit(RoomEvent.Connected);\r\n  };\r\n\r\n  /**\r\n   * disconnects the room, emits [[RoomEvent.Disconnected]]\r\n   */\r\n  disconnect = async (stopTracks = true) => {\r\n    const unlock = await this.disconnectLock.lock();\r\n    try {\r\n      if (this.state === ConnectionState.Disconnected) {\r\n        log.debug('already disconnected');\r\n        return;\r\n      }\r\n      log.info('disconnect from room', { identity: this.localParticipant.identity });\r\n      if (\r\n        this.state === ConnectionState.Connecting ||\r\n        this.state === ConnectionState.Reconnecting\r\n      ) {\r\n        // try aborting pending connection attempt\r\n        log.warn('abort connection attempt');\r\n        this.abortController?.abort();\r\n        // in case the abort controller didn't manage to cancel the connection attempt, reject the connect promise explicitly\r\n        this.connectFuture?.reject?.(new ConnectionError('Client initiated disconnect'));\r\n        this.connectFuture = undefined;\r\n      }\r\n      // send leave\r\n      if (this.engine?.client.isConnected) {\r\n        await this.engine.client.sendLeave();\r\n      }\r\n      // close engine (also closes client)\r\n      if (this.engine) {\r\n        await this.engine.close();\r\n      }\r\n      this.handleDisconnect(stopTracks, DisconnectReason.CLIENT_INITIATED);\r\n      /* @ts-ignore */\r\n      this.engine = undefined;\r\n    } finally {\r\n      unlock();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * retrieves a participant by identity\r\n   * @param identity\r\n   * @returns\r\n   */\r\n  getParticipantByIdentity(identity: string): Participant | undefined {\r\n    if (this.localParticipant.identity === identity) {\r\n      return this.localParticipant;\r\n    }\r\n    const sid = this.identityToSid.get(identity);\r\n    if (sid) {\r\n      return this.participants.get(sid);\r\n    }\r\n  }\r\n\r\n  private clearConnectionFutures() {\r\n    this.connectFuture = undefined;\r\n  }\r\n\r\n  /**\r\n   * @internal for testing\r\n   */\r\n  async simulateScenario(scenario: SimulationScenario) {\r\n    let postAction = () => {};\r\n    let req: SimulateScenario | undefined;\r\n    switch (scenario) {\r\n      case 'signal-reconnect':\r\n        await this.engine.client.close();\r\n        if (this.engine.client.onClose) {\r\n          this.engine.client.onClose('simulate disconnect');\r\n        }\r\n        break;\r\n      case 'speaker':\r\n        req = SimulateScenario.fromPartial({\r\n          scenario: {\r\n            $case: 'speakerUpdate',\r\n            speakerUpdate: 3,\r\n          },\r\n        });\r\n        break;\r\n      case 'node-failure':\r\n        req = SimulateScenario.fromPartial({\r\n          scenario: {\r\n            $case: 'nodeFailure',\r\n            nodeFailure: true,\r\n          },\r\n        });\r\n        break;\r\n      case 'server-leave':\r\n        req = SimulateScenario.fromPartial({\r\n          scenario: {\r\n            $case: 'serverLeave',\r\n            serverLeave: true,\r\n          },\r\n        });\r\n        break;\r\n      case 'migration':\r\n        req = SimulateScenario.fromPartial({\r\n          scenario: {\r\n            $case: 'migration',\r\n            migration: true,\r\n          },\r\n        });\r\n        break;\r\n      case 'resume-reconnect':\r\n        this.engine.failNext();\r\n        await this.engine.client.close();\r\n        if (this.engine.client.onClose) {\r\n          this.engine.client.onClose('simulate resume-reconnect');\r\n        }\r\n        break;\r\n      case 'full-reconnect':\r\n        this.engine.fullReconnectOnNext = true;\r\n        await this.engine.client.close();\r\n        if (this.engine.client.onClose) {\r\n          this.engine.client.onClose('simulate full-reconnect');\r\n        }\r\n        break;\r\n      case 'force-tcp':\r\n      case 'force-tls':\r\n        req = SimulateScenario.fromPartial({\r\n          scenario: {\r\n            $case: 'switchCandidateProtocol',\r\n            switchCandidateProtocol: scenario === 'force-tls' ? 2 : 1,\r\n          },\r\n        });\r\n        postAction = async () => {\r\n          const onLeave = this.engine.client.onLeave;\r\n          if (onLeave) {\r\n            onLeave({\r\n              reason: DisconnectReason.CLIENT_INITIATED,\r\n              canReconnect: true,\r\n            });\r\n          }\r\n        };\r\n        break;\r\n      default:\r\n    }\r\n    if (req) {\r\n      this.engine.client.sendSimulateScenario(req);\r\n      postAction();\r\n    }\r\n  }\r\n\r\n  private onPageLeave = async () => {\r\n    await this.disconnect();\r\n  };\r\n\r\n  /**\r\n   * Browsers have different policies regarding audio playback. Most requiring\r\n   * some form of user interaction (click/tap/etc).\r\n   * In those cases, audio will be silent until a click/tap triggering one of the following\r\n   * - `startAudio`\r\n   * - `getUserMedia`\r\n   */\r\n  async startAudio() {\r\n    await this.acquireAudioContext();\r\n\r\n    const elements: Array<HTMLMediaElement> = [];\r\n    this.participants.forEach((p) => {\r\n      p.audioTracks.forEach((t) => {\r\n        if (t.track) {\r\n          t.track.attachedElements.forEach((e) => {\r\n            elements.push(e);\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n    try {\r\n      await Promise.all(\r\n        elements.map((e) => {\r\n          e.muted = false;\r\n          return e.play();\r\n        }),\r\n      );\r\n      this.handleAudioPlaybackStarted();\r\n    } catch (err) {\r\n      this.handleAudioPlaybackFailed(err);\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns true if audio playback is enabled\r\n   */\r\n  get canPlaybackAudio(): boolean {\r\n    return this.audioEnabled;\r\n  }\r\n\r\n  /**\r\n   * Returns the active audio output device used in this room.\r\n   *\r\n   * Note: to get the active `audioinput` or `videoinput` use [[LocalTrack.getDeviceId()]]\r\n   *\r\n   * @return the previously successfully set audio output device ID or an empty string if the default device is used.\r\n   */\r\n  getActiveAudioOutputDevice(): string {\r\n    return this.options.audioOutput?.deviceId ?? '';\r\n  }\r\n\r\n  /**\r\n   * Switches all active devices used in this room to the given device.\r\n   *\r\n   * Note: setting AudioOutput is not supported on some browsers. See [setSinkId](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId#browser_compatibility)\r\n   *\r\n   * @param kind use `videoinput` for camera track,\r\n   *  `audioinput` for microphone track,\r\n   *  `audiooutput` to set speaker for all incoming audio tracks\r\n   * @param deviceId\r\n   */\r\n  async switchActiveDevice(kind: MediaDeviceKind, deviceId: string, exact: boolean = false) {\r\n    const deviceConstraint = exact ? { exact: deviceId } : deviceId;\r\n    if (kind === 'audioinput') {\r\n      const prevDeviceId = this.options.audioCaptureDefaults!.deviceId;\r\n      this.options.audioCaptureDefaults!.deviceId = deviceConstraint;\r\n      const tracks = Array.from(this.localParticipant.audioTracks.values()).filter(\r\n        (track) => track.source === Track.Source.Microphone,\r\n      );\r\n      try {\r\n        await Promise.all(tracks.map((t) => t.audioTrack?.setDeviceId(deviceConstraint)));\r\n      } catch (e) {\r\n        this.options.audioCaptureDefaults!.deviceId = prevDeviceId;\r\n        throw e;\r\n      }\r\n    } else if (kind === 'videoinput') {\r\n      const prevDeviceId = this.options.videoCaptureDefaults!.deviceId;\r\n      this.options.videoCaptureDefaults!.deviceId = deviceConstraint;\r\n      const tracks = Array.from(this.localParticipant.videoTracks.values()).filter(\r\n        (track) => track.source === Track.Source.Camera,\r\n      );\r\n      try {\r\n        await Promise.all(tracks.map((t) => t.videoTrack?.setDeviceId(deviceConstraint)));\r\n      } catch (e) {\r\n        this.options.videoCaptureDefaults!.deviceId = prevDeviceId;\r\n        throw e;\r\n      }\r\n    } else if (kind === 'audiooutput') {\r\n      // TODO add support for webaudio mix once the API becomes available https://github.com/WebAudio/web-audio-api/pull/2498\r\n      if (!supportsSetSinkId()) {\r\n        throw new Error('cannot switch audio output, setSinkId not supported');\r\n      }\r\n      this.options.audioOutput ??= {};\r\n      const prevDeviceId = this.options.audioOutput.deviceId;\r\n      this.options.audioOutput.deviceId = deviceId;\r\n      try {\r\n        await Promise.all(\r\n          Array.from(this.participants.values()).map((p) => p.setAudioOutput({ deviceId })),\r\n        );\r\n      } catch (e) {\r\n        this.options.audioOutput.deviceId = prevDeviceId;\r\n        throw e;\r\n      }\r\n    }\r\n  }\r\n\r\n  private setupLocalParticipantEvents() {\r\n    this.localParticipant\r\n      .on(ParticipantEvent.ParticipantMetadataChanged, this.onLocalParticipantMetadataChanged)\r\n      .on(ParticipantEvent.ParticipantNameChanged, this.onLocalParticipantNameChanged)\r\n      .on(ParticipantEvent.TrackMuted, this.onLocalTrackMuted)\r\n      .on(ParticipantEvent.TrackUnmuted, this.onLocalTrackUnmuted)\r\n      .on(ParticipantEvent.LocalTrackPublished, this.onLocalTrackPublished)\r\n      .on(ParticipantEvent.LocalTrackUnpublished, this.onLocalTrackUnpublished)\r\n      .on(ParticipantEvent.ConnectionQualityChanged, this.onLocalConnectionQualityChanged)\r\n      .on(ParticipantEvent.MediaDevicesError, this.onMediaDevicesError)\r\n      .on(\r\n        ParticipantEvent.ParticipantPermissionsChanged,\r\n        this.onLocalParticipantPermissionsChanged,\r\n      );\r\n  }\r\n\r\n  private recreateEngine() {\r\n    this.engine?.close();\r\n    /* @ts-ignore */\r\n    this.engine = undefined;\r\n\r\n    // clear out existing remote participants, since they may have attached\r\n    // the old engine\r\n    this.participants.clear();\r\n    this.maybeCreateEngine();\r\n  }\r\n\r\n  private onTrackAdded(\r\n    mediaTrack: MediaStreamTrack,\r\n    stream: MediaStream,\r\n    receiver?: RTCRtpReceiver,\r\n  ) {\r\n    // don't fire onSubscribed when connecting\r\n    // WebRTC fires onTrack as soon as setRemoteDescription is called on the offer\r\n    // at that time, ICE connectivity has not been established so the track is not\r\n    // technically subscribed.\r\n    // We'll defer these events until when the room is connected or eventually disconnected.\r\n    if (this.state === ConnectionState.Connecting || this.state === ConnectionState.Reconnecting) {\r\n      const reconnectedHandler = () => {\r\n        this.onTrackAdded(mediaTrack, stream, receiver);\r\n        cleanup();\r\n      };\r\n      const cleanup = () => {\r\n        this.off(RoomEvent.Reconnected, reconnectedHandler);\r\n        this.off(RoomEvent.Connected, reconnectedHandler);\r\n        this.off(RoomEvent.Disconnected, cleanup);\r\n      };\r\n      this.once(RoomEvent.Reconnected, reconnectedHandler);\r\n      this.once(RoomEvent.Connected, reconnectedHandler);\r\n      this.once(RoomEvent.Disconnected, cleanup);\r\n      return;\r\n    }\r\n    if (this.state === ConnectionState.Disconnected) {\r\n      log.warn('skipping incoming track after Room disconnected');\r\n      return;\r\n    }\r\n    const parts = unpackStreamId(stream.id);\r\n    const participantId = parts[0];\r\n    let trackId = parts[1];\r\n    if (!trackId || trackId === '') trackId = mediaTrack.id;\r\n\r\n    if (participantId === this.localParticipant.sid) {\r\n      log.warn('tried to create RemoteParticipant for local participant');\r\n      return;\r\n    }\r\n    const participant = this.getOrCreateParticipant(participantId);\r\n\r\n    let adaptiveStreamSettings: AdaptiveStreamSettings | undefined;\r\n    if (this.options.adaptiveStream) {\r\n      if (typeof this.options.adaptiveStream === 'object') {\r\n        adaptiveStreamSettings = this.options.adaptiveStream;\r\n      } else {\r\n        adaptiveStreamSettings = {};\r\n      }\r\n    }\r\n    participant.addSubscribedMediaTrack(\r\n      mediaTrack,\r\n      trackId,\r\n      stream,\r\n      receiver,\r\n      adaptiveStreamSettings,\r\n    );\r\n  }\r\n\r\n  private handleRestarting = () => {\r\n    // also unwind existing participants & existing subscriptions\r\n    for (const p of this.participants.values()) {\r\n      this.handleParticipantDisconnected(p.sid, p);\r\n    }\r\n\r\n    if (this.setAndEmitConnectionState(ConnectionState.Reconnecting)) {\r\n      this.emit(RoomEvent.Reconnecting);\r\n    }\r\n  };\r\n\r\n  private handleSignalRestarted = async (joinResponse: JoinResponse) => {\r\n    log.debug(`signal reconnected to server`, {\r\n      region: joinResponse.serverRegion,\r\n    });\r\n\r\n    this.cachedParticipantSids = [];\r\n    this.applyJoinResponse(joinResponse);\r\n\r\n    try {\r\n      // unpublish & republish tracks\r\n      const localPubs: LocalTrackPublication[] = [];\r\n      this.localParticipant.tracks.forEach((pub) => {\r\n        if (pub.track) {\r\n          localPubs.push(pub);\r\n        }\r\n      });\r\n\r\n      await Promise.all(\r\n        localPubs.map(async (pub) => {\r\n          const track = pub.track!;\r\n          this.localParticipant.unpublishTrack(track, false);\r\n          if (!track.isMuted) {\r\n            if (\r\n              (track instanceof LocalAudioTrack || track instanceof LocalVideoTrack) &&\r\n              !track.isUserProvided\r\n            ) {\r\n              // we need to restart the track before publishing, often a full reconnect\r\n              // is necessary because computer had gone to sleep.\r\n              log.debug('restarting existing track', {\r\n                track: pub.trackSid,\r\n              });\r\n              await track.restartTrack();\r\n            }\r\n            log.debug('publishing new track', {\r\n              track: pub.trackSid,\r\n            });\r\n            await this.localParticipant.publishTrack(track, pub.options);\r\n          }\r\n        }),\r\n      );\r\n    } catch (error) {\r\n      log.error('error trying to re-publish tracks after reconnection', { error });\r\n    }\r\n\r\n    try {\r\n      await this.engine.waitForRestarted();\r\n      log.debug(`fully reconnected to server`, {\r\n        region: joinResponse.serverRegion,\r\n      });\r\n    } catch {\r\n      // reconnection failed, handleDisconnect is being invoked already, just return here\r\n      return;\r\n    }\r\n    this.setAndEmitConnectionState(ConnectionState.Connected);\r\n    this.emit(RoomEvent.Reconnected);\r\n\r\n    // emit participant connected events after connection has been re-established\r\n    this.participants.forEach((participant) => {\r\n      this.emit(RoomEvent.ParticipantConnected, participant);\r\n    });\r\n  };\r\n\r\n  private handleDisconnect(shouldStopTracks = true, reason?: DisconnectReason) {\r\n    if (this.state === ConnectionState.Disconnected) {\r\n      return;\r\n    }\r\n\r\n    this.participants.forEach((p) => {\r\n      p.tracks.forEach((pub) => {\r\n        p.unpublishTrack(pub.trackSid);\r\n      });\r\n    });\r\n\r\n    this.localParticipant.tracks.forEach((pub) => {\r\n      if (pub.track) {\r\n        this.localParticipant.unpublishTrack(pub.track, shouldStopTracks);\r\n      }\r\n      if (shouldStopTracks) {\r\n        pub.track?.detach();\r\n        pub.track?.stop();\r\n      }\r\n    });\r\n\r\n    this.localParticipant\r\n      .off(ParticipantEvent.ParticipantMetadataChanged, this.onLocalParticipantMetadataChanged)\r\n      .off(ParticipantEvent.ParticipantNameChanged, this.onLocalParticipantNameChanged)\r\n      .off(ParticipantEvent.TrackMuted, this.onLocalTrackMuted)\r\n      .off(ParticipantEvent.TrackUnmuted, this.onLocalTrackUnmuted)\r\n      .off(ParticipantEvent.LocalTrackPublished, this.onLocalTrackPublished)\r\n      .off(ParticipantEvent.LocalTrackUnpublished, this.onLocalTrackUnpublished)\r\n      .off(ParticipantEvent.ConnectionQualityChanged, this.onLocalConnectionQualityChanged)\r\n      .off(ParticipantEvent.MediaDevicesError, this.onMediaDevicesError)\r\n      .off(\r\n        ParticipantEvent.ParticipantPermissionsChanged,\r\n        this.onLocalParticipantPermissionsChanged,\r\n      );\r\n\r\n    this.localParticipant.tracks.clear();\r\n    this.localParticipant.videoTracks.clear();\r\n    this.localParticipant.audioTracks.clear();\r\n\r\n    this.participants.clear();\r\n    this.activeSpeakers = [];\r\n    if (this.audioContext && typeof this.options.expWebAudioMix === 'boolean') {\r\n      this.audioContext.close();\r\n      this.audioContext = undefined;\r\n    }\r\n    if (isWeb()) {\r\n      window.removeEventListener('beforeunload', this.onPageLeave);\r\n      window.removeEventListener('pagehide', this.onPageLeave);\r\n      navigator.mediaDevices?.removeEventListener('devicechange', this.handleDeviceChange);\r\n    }\r\n    this.setAndEmitConnectionState(ConnectionState.Disconnected);\r\n    this.emit(RoomEvent.Disconnected, reason);\r\n  }\r\n\r\n  private handleParticipantUpdates = (participantInfos: ParticipantInfo[]) => {\r\n    // handle changes to participant state, and send events\r\n    participantInfos.forEach((info) => {\r\n      if (info.identity === this.localParticipant.identity) {\r\n        this.localParticipant.updateInfo(info);\r\n        return;\r\n      }\r\n\r\n      // ensure identity <=> sid mapping\r\n      const sid = this.identityToSid.get(info.identity);\r\n      if (sid && sid !== info.sid) {\r\n        // sid had changed, need to remove previous participant\r\n        this.handleParticipantDisconnected(sid, this.participants.get(sid));\r\n      }\r\n\r\n      let remoteParticipant = this.participants.get(info.sid);\r\n      const isNewParticipant = !remoteParticipant;\r\n\r\n      // when it's disconnected, send updates\r\n      if (info.state === ParticipantInfo_State.DISCONNECTED) {\r\n        this.handleParticipantDisconnected(info.sid, remoteParticipant);\r\n      } else {\r\n        // create participant if doesn't exist\r\n        remoteParticipant = this.getOrCreateParticipant(info.sid, info);\r\n        if (!isNewParticipant) {\r\n          // just update, no events\r\n          remoteParticipant.updateInfo(info);\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  private handleParticipantDisconnected(sid: string, participant?: RemoteParticipant) {\r\n    // remove and send event\r\n    this.participants.delete(sid);\r\n    if (!participant) {\r\n      return;\r\n    }\r\n\r\n    this.identityToSid.delete(participant.identity);\r\n    participant.tracks.forEach((publication) => {\r\n      participant.unpublishTrack(publication.trackSid, true);\r\n    });\r\n    this.emit(RoomEvent.ParticipantDisconnected, participant);\r\n  }\r\n\r\n  // updates are sent only when there's a change to speaker ordering\r\n  private handleActiveSpeakersUpdate = (speakers: SpeakerInfo[]) => {\r\n    const activeSpeakers: Participant[] = [];\r\n    const seenSids: any = {};\r\n    speakers.forEach((speaker) => {\r\n      seenSids[speaker.sid] = true;\r\n      if (speaker.sid === this.localParticipant.sid) {\r\n        this.localParticipant.audioLevel = speaker.level;\r\n        this.localParticipant.setIsSpeaking(true);\r\n        activeSpeakers.push(this.localParticipant);\r\n      } else {\r\n        const p = this.participants.get(speaker.sid);\r\n        if (p) {\r\n          p.audioLevel = speaker.level;\r\n          p.setIsSpeaking(true);\r\n          activeSpeakers.push(p);\r\n        }\r\n      }\r\n    });\r\n\r\n    if (!seenSids[this.localParticipant.sid]) {\r\n      this.localParticipant.audioLevel = 0;\r\n      this.localParticipant.setIsSpeaking(false);\r\n    }\r\n    this.participants.forEach((p) => {\r\n      if (!seenSids[p.sid]) {\r\n        p.audioLevel = 0;\r\n        p.setIsSpeaking(false);\r\n      }\r\n    });\r\n\r\n    this.activeSpeakers = activeSpeakers;\r\n    this.emitWhenConnected(RoomEvent.ActiveSpeakersChanged, activeSpeakers);\r\n  };\r\n\r\n  // process list of changed speakers\r\n  private handleSpeakersChanged = (speakerUpdates: SpeakerInfo[]) => {\r\n    const lastSpeakers = new Map<string, Participant>();\r\n    this.activeSpeakers.forEach((p) => {\r\n      lastSpeakers.set(p.sid, p);\r\n    });\r\n    speakerUpdates.forEach((speaker) => {\r\n      let p: Participant | undefined = this.participants.get(speaker.sid);\r\n      if (speaker.sid === this.localParticipant.sid) {\r\n        p = this.localParticipant;\r\n      }\r\n      if (!p) {\r\n        return;\r\n      }\r\n      p.audioLevel = speaker.level;\r\n      p.setIsSpeaking(speaker.active);\r\n\r\n      if (speaker.active) {\r\n        lastSpeakers.set(speaker.sid, p);\r\n      } else {\r\n        lastSpeakers.delete(speaker.sid);\r\n      }\r\n    });\r\n    const activeSpeakers = Array.from(lastSpeakers.values());\r\n    activeSpeakers.sort((a, b) => b.audioLevel - a.audioLevel);\r\n    this.activeSpeakers = activeSpeakers;\r\n    this.emitWhenConnected(RoomEvent.ActiveSpeakersChanged, activeSpeakers);\r\n  };\r\n\r\n  private handleStreamStateUpdate = (streamStateUpdate: StreamStateUpdate) => {\r\n    streamStateUpdate.streamStates.forEach((streamState) => {\r\n      const participant = this.participants.get(streamState.participantSid);\r\n      if (!participant) {\r\n        return;\r\n      }\r\n      const pub = participant.getTrackPublication(streamState.trackSid);\r\n      if (!pub || !pub.track) {\r\n        return;\r\n      }\r\n      pub.track.streamState = Track.streamStateFromProto(streamState.state);\r\n      participant.emit(ParticipantEvent.TrackStreamStateChanged, pub, pub.track.streamState);\r\n      this.emitWhenConnected(\r\n        RoomEvent.TrackStreamStateChanged,\r\n        pub,\r\n        pub.track.streamState,\r\n        participant,\r\n      );\r\n    });\r\n  };\r\n\r\n  private handleSubscriptionPermissionUpdate = (update: SubscriptionPermissionUpdate) => {\r\n    const participant = this.participants.get(update.participantSid);\r\n    if (!participant) {\r\n      return;\r\n    }\r\n    const pub = participant.getTrackPublication(update.trackSid);\r\n    if (!pub) {\r\n      return;\r\n    }\r\n\r\n    pub.setAllowed(update.allowed);\r\n  };\r\n\r\n  private handleDataPacket = (userPacket: UserPacket, kind: DataPacket_Kind) => {\r\n    // find the participant\r\n    const participant = this.participants.get(userPacket.participantSid);\r\n\r\n    this.emit(RoomEvent.DataReceived, userPacket.payload, participant, kind, userPacket.topic);\r\n\r\n    // also emit on the participant\r\n    participant?.emit(ParticipantEvent.DataReceived, userPacket.payload, kind);\r\n  };\r\n\r\n  private handleAudioPlaybackStarted = () => {\r\n    if (this.canPlaybackAudio) {\r\n      return;\r\n    }\r\n    this.audioEnabled = true;\r\n    this.emit(RoomEvent.AudioPlaybackStatusChanged, true);\r\n  };\r\n\r\n  private handleAudioPlaybackFailed = (e: any) => {\r\n    log.warn('could not playback audio', e);\r\n    if (!this.canPlaybackAudio) {\r\n      return;\r\n    }\r\n    this.audioEnabled = false;\r\n    this.emit(RoomEvent.AudioPlaybackStatusChanged, false);\r\n  };\r\n\r\n  private handleDeviceChange = async () => {\r\n    this.emit(RoomEvent.MediaDevicesChanged);\r\n  };\r\n\r\n  private handleRoomUpdate = (room: RoomModel) => {\r\n    const oldRoom = this.roomInfo;\r\n    this.roomInfo = room;\r\n    if (oldRoom && oldRoom.metadata !== room.metadata) {\r\n      this.emitWhenConnected(RoomEvent.RoomMetadataChanged, room.metadata);\r\n    }\r\n    if (oldRoom?.activeRecording !== room.activeRecording) {\r\n      this.emitWhenConnected(RoomEvent.RecordingStatusChanged, room.activeRecording);\r\n    }\r\n  };\r\n\r\n  private handleConnectionQualityUpdate = (update: ConnectionQualityUpdate) => {\r\n    update.updates.forEach((info) => {\r\n      if (info.participantSid === this.localParticipant.sid) {\r\n        this.localParticipant.setConnectionQuality(info.quality);\r\n        return;\r\n      }\r\n      const participant = this.participants.get(info.participantSid);\r\n      if (participant) {\r\n        participant.setConnectionQuality(info.quality);\r\n      }\r\n    });\r\n  };\r\n\r\n  private async acquireAudioContext() {\r\n    if (\r\n      typeof this.options.expWebAudioMix !== 'boolean' &&\r\n      this.options.expWebAudioMix.audioContext\r\n    ) {\r\n      // override audio context with custom audio context if supplied by user\r\n      this.audioContext = this.options.expWebAudioMix.audioContext;\r\n      await this.audioContext.resume();\r\n    } else {\r\n      // by using an AudioContext, it reduces lag on audio elements\r\n      // https://stackoverflow.com/questions/9811429/html5-audio-tag-on-safari-has-a-delay/54119854#54119854\r\n      this.audioContext = getNewAudioContext() ?? undefined;\r\n    }\r\n\r\n    if (this.options.expWebAudioMix) {\r\n      this.participants.forEach((participant) => participant.setAudioContext(this.audioContext));\r\n    }\r\n\r\n    const newContextIsRunning = this.audioContext?.state === 'running';\r\n    if (newContextIsRunning !== this.canPlaybackAudio) {\r\n      this.audioEnabled = newContextIsRunning;\r\n      this.emit(RoomEvent.AudioPlaybackStatusChanged, newContextIsRunning);\r\n    }\r\n  }\r\n\r\n  private createParticipant(id: string, info?: ParticipantInfo): RemoteParticipant {\r\n    let participant: RemoteParticipant;\r\n    if (info) {\r\n      participant = RemoteParticipant.fromParticipantInfo(this.engine.client, info);\r\n    } else {\r\n      participant = new RemoteParticipant(this.engine.client, id, '', undefined, undefined);\r\n    }\r\n    if (this.options.expWebAudioMix) {\r\n      participant.setAudioContext(this.audioContext);\r\n    }\r\n    return participant;\r\n  }\r\n\r\n  private getOrCreateParticipant(id: string, info?: ParticipantInfo): RemoteParticipant {\r\n    if (this.participants.has(id)) {\r\n      return this.participants.get(id) as RemoteParticipant;\r\n    }\r\n    // it's possible for the RTC track to arrive before signaling data\r\n    // when this happens, we'll create the participant and make the track work\r\n    const participant = this.createParticipant(id, info);\r\n    this.participants.set(id, participant);\r\n    if (info) {\r\n      this.identityToSid.set(info.identity, info.sid);\r\n      // if we have valid info and the participant wasn't in the map before, we can assume the participant is new\r\n      // firing here to make sure that `ParticipantConnected` fires before the initial track events\r\n      this.emitWhenConnected(RoomEvent.ParticipantConnected, participant);\r\n    }\r\n\r\n    // also forward events\r\n    // trackPublished is only fired for tracks added after both local participant\r\n    // and remote participant joined the room\r\n    participant\r\n      .on(ParticipantEvent.TrackPublished, (trackPublication: RemoteTrackPublication) => {\r\n        this.emitWhenConnected(RoomEvent.TrackPublished, trackPublication, participant);\r\n      })\r\n      .on(\r\n        ParticipantEvent.TrackSubscribed,\r\n        (track: RemoteTrack, publication: RemoteTrackPublication) => {\r\n          // monitor playback status\r\n          if (track.kind === Track.Kind.Audio) {\r\n            track.on(TrackEvent.AudioPlaybackStarted, this.handleAudioPlaybackStarted);\r\n            track.on(TrackEvent.AudioPlaybackFailed, this.handleAudioPlaybackFailed);\r\n          }\r\n          this.emit(RoomEvent.TrackSubscribed, track, publication, participant);\r\n        },\r\n      )\r\n      .on(ParticipantEvent.TrackUnpublished, (publication: RemoteTrackPublication) => {\r\n        this.emit(RoomEvent.TrackUnpublished, publication, participant);\r\n      })\r\n      .on(\r\n        ParticipantEvent.TrackUnsubscribed,\r\n        (track: RemoteTrack, publication: RemoteTrackPublication) => {\r\n          this.emit(RoomEvent.TrackUnsubscribed, track, publication, participant);\r\n        },\r\n      )\r\n      .on(ParticipantEvent.TrackSubscriptionFailed, (sid: string) => {\r\n        this.emit(RoomEvent.TrackSubscriptionFailed, sid, participant);\r\n      })\r\n      .on(ParticipantEvent.TrackMuted, (pub: TrackPublication) => {\r\n        this.emitWhenConnected(RoomEvent.TrackMuted, pub, participant);\r\n      })\r\n      .on(ParticipantEvent.TrackUnmuted, (pub: TrackPublication) => {\r\n        this.emitWhenConnected(RoomEvent.TrackUnmuted, pub, participant);\r\n      })\r\n      .on(ParticipantEvent.ParticipantMetadataChanged, (metadata: string | undefined) => {\r\n        this.emitWhenConnected(RoomEvent.ParticipantMetadataChanged, metadata, participant);\r\n      })\r\n      .on(ParticipantEvent.ParticipantNameChanged, (name) => {\r\n        this.emitWhenConnected(RoomEvent.ParticipantNameChanged, name, participant);\r\n      })\r\n      .on(ParticipantEvent.ConnectionQualityChanged, (quality: ConnectionQuality) => {\r\n        this.emitWhenConnected(RoomEvent.ConnectionQualityChanged, quality, participant);\r\n      })\r\n      .on(\r\n        ParticipantEvent.ParticipantPermissionsChanged,\r\n        (prevPermissions?: ParticipantPermission) => {\r\n          this.emitWhenConnected(\r\n            RoomEvent.ParticipantPermissionsChanged,\r\n            prevPermissions,\r\n            participant,\r\n          );\r\n        },\r\n      )\r\n      .on(ParticipantEvent.TrackSubscriptionStatusChanged, (pub, status) => {\r\n        this.emitWhenConnected(RoomEvent.TrackSubscriptionStatusChanged, pub, status, participant);\r\n      })\r\n      .on(ParticipantEvent.TrackSubscriptionPermissionChanged, (pub, status) => {\r\n        this.emitWhenConnected(\r\n          RoomEvent.TrackSubscriptionPermissionChanged,\r\n          pub,\r\n          status,\r\n          participant,\r\n        );\r\n      });\r\n\r\n    // update info at the end after callbacks have been set up\r\n    if (info) {\r\n      participant.updateInfo(info);\r\n    }\r\n    return participant;\r\n  }\r\n\r\n  private sendSyncState() {\r\n    if (\r\n      this.engine.subscriber === undefined ||\r\n      this.engine.subscriber.pc.localDescription === null\r\n    ) {\r\n      return;\r\n    }\r\n    const previousAnswer = this.engine.subscriber.pc.localDescription;\r\n    const previousOffer = this.engine.subscriber.pc.remoteDescription;\r\n\r\n    /* 1. autosubscribe on, so subscribed tracks = all tracks - unsub tracks,\r\n          in this case, we send unsub tracks, so server add all tracks to this\r\n          subscribe pc and unsub special tracks from it.\r\n       2. autosubscribe off, we send subscribed tracks.\r\n    */\r\n    const autoSubscribe = this.connOptions?.autoSubscribe ?? true;\r\n    const trackSids = new Array<string>();\r\n    this.participants.forEach((participant) => {\r\n      participant.tracks.forEach((track) => {\r\n        if (track.isDesired !== autoSubscribe) {\r\n          trackSids.push(track.trackSid);\r\n        }\r\n      });\r\n    });\r\n\r\n    this.engine.client.sendSyncState({\r\n      answer: toProtoSessionDescription({\r\n        sdp: previousAnswer.sdp,\r\n        type: previousAnswer.type,\r\n      }),\r\n      offer: previousOffer\r\n        ? toProtoSessionDescription({\r\n            sdp: previousOffer.sdp,\r\n            type: previousOffer.type,\r\n          })\r\n        : undefined,\r\n      subscription: {\r\n        trackSids,\r\n        subscribe: !autoSubscribe,\r\n        participantTracks: [],\r\n      },\r\n      publishTracks: this.localParticipant.publishedTracksInfo(),\r\n      dataChannels: this.localParticipant.dataChannelsInfo(),\r\n    });\r\n  }\r\n\r\n  /**\r\n   * After resuming, we'll need to notify the server of the current\r\n   * subscription settings.\r\n   */\r\n  private updateSubscriptions() {\r\n    for (const p of this.participants.values()) {\r\n      for (const pub of p.videoTracks.values()) {\r\n        if (pub.isSubscribed && pub instanceof RemoteTrackPublication) {\r\n          pub.emitTrackUpdate();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private setAndEmitConnectionState(state: ConnectionState): boolean {\r\n    if (state === this.state) {\r\n      // unchanged\r\n      return false;\r\n    }\r\n    this.state = state;\r\n    this.emit(RoomEvent.ConnectionStateChanged, this.state);\r\n    return true;\r\n  }\r\n\r\n  private emitWhenConnected<E extends keyof RoomEventCallbacks>(\r\n    event: E,\r\n    ...args: Parameters<RoomEventCallbacks[E]>\r\n  ): boolean {\r\n    if (this.state === ConnectionState.Connected) {\r\n      return this.emit(event, ...args);\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private onLocalParticipantMetadataChanged = (metadata: string | undefined) => {\r\n    this.emit(RoomEvent.ParticipantMetadataChanged, metadata, this.localParticipant);\r\n  };\r\n\r\n  private onLocalParticipantNameChanged = (name: string) => {\r\n    this.emit(RoomEvent.ParticipantNameChanged, name, this.localParticipant);\r\n  };\r\n\r\n  private onLocalTrackMuted = (pub: TrackPublication) => {\r\n    this.emit(RoomEvent.TrackMuted, pub, this.localParticipant);\r\n  };\r\n\r\n  private onLocalTrackUnmuted = (pub: TrackPublication) => {\r\n    this.emit(RoomEvent.TrackUnmuted, pub, this.localParticipant);\r\n  };\r\n\r\n  private onLocalTrackPublished = async (pub: LocalTrackPublication) => {\r\n    this.emit(RoomEvent.LocalTrackPublished, pub, this.localParticipant);\r\n    if (pub.track instanceof LocalAudioTrack) {\r\n      const trackIsSilent = await pub.track.checkForSilence();\r\n      if (trackIsSilent) {\r\n        this.emit(RoomEvent.LocalAudioSilenceDetected, pub);\r\n      }\r\n    }\r\n  };\r\n\r\n  private onLocalTrackUnpublished = (pub: LocalTrackPublication) => {\r\n    this.emit(RoomEvent.LocalTrackUnpublished, pub, this.localParticipant);\r\n  };\r\n\r\n  private onLocalConnectionQualityChanged = (quality: ConnectionQuality) => {\r\n    this.emit(RoomEvent.ConnectionQualityChanged, quality, this.localParticipant);\r\n  };\r\n\r\n  private onMediaDevicesError = (e: Error) => {\r\n    this.emit(RoomEvent.MediaDevicesError, e);\r\n  };\r\n\r\n  private onLocalParticipantPermissionsChanged = (prevPermissions?: ParticipantPermission) => {\r\n    this.emit(RoomEvent.ParticipantPermissionsChanged, prevPermissions, this.localParticipant);\r\n  };\r\n\r\n  /**\r\n   * Allows to populate a room with simulated participants.\r\n   * No actual connection to a server will be established, all state is\r\n   * @experimental\r\n   */\r\n  async simulateParticipants(options: SimulationOptions) {\r\n    const publishOptions = {\r\n      audio: true,\r\n      video: true,\r\n      useRealTracks: false,\r\n      ...options.publish,\r\n    };\r\n    const participantOptions = {\r\n      count: 9,\r\n      audio: false,\r\n      video: true,\r\n      aspectRatios: [1.66, 1.7, 1.3],\r\n      ...options.participants,\r\n    };\r\n    this.handleDisconnect();\r\n    this.roomInfo = {\r\n      sid: 'RM_SIMULATED',\r\n      name: 'simulated-room',\r\n      emptyTimeout: 0,\r\n      maxParticipants: 0,\r\n      creationTime: new Date().getTime(),\r\n      metadata: '',\r\n      numParticipants: 1,\r\n      numPublishers: 1,\r\n      turnPassword: '',\r\n      enabledCodecs: [],\r\n      activeRecording: false,\r\n    };\r\n\r\n    this.localParticipant.updateInfo(\r\n      ParticipantInfo.fromPartial({\r\n        identity: 'simulated-local',\r\n        name: 'local-name',\r\n      }),\r\n    );\r\n    this.setupLocalParticipantEvents();\r\n    this.emit(RoomEvent.SignalConnected);\r\n    this.emit(RoomEvent.Connected);\r\n    this.setAndEmitConnectionState(ConnectionState.Connected);\r\n    if (publishOptions.video) {\r\n      const camPub = new LocalTrackPublication(\r\n        Track.Kind.Video,\r\n        TrackInfo.fromPartial({\r\n          source: TrackSource.CAMERA,\r\n          sid: Math.floor(Math.random() * 10_000).toString(),\r\n          type: TrackType.AUDIO,\r\n          name: 'video-dummy',\r\n        }),\r\n        new LocalVideoTrack(\r\n          publishOptions.useRealTracks\r\n            ? (await navigator.mediaDevices.getUserMedia({ video: true })).getVideoTracks()[0]\r\n            : createDummyVideoStreamTrack(\r\n                160 * participantOptions.aspectRatios[0] ?? 1,\r\n                160,\r\n                true,\r\n                true,\r\n              ),\r\n        ),\r\n      );\r\n      // @ts-ignore\r\n      this.localParticipant.addTrackPublication(camPub);\r\n      this.localParticipant.emit(ParticipantEvent.LocalTrackPublished, camPub);\r\n    }\r\n    if (publishOptions.audio) {\r\n      const audioPub = new LocalTrackPublication(\r\n        Track.Kind.Audio,\r\n        TrackInfo.fromPartial({\r\n          source: TrackSource.MICROPHONE,\r\n          sid: Math.floor(Math.random() * 10_000).toString(),\r\n          type: TrackType.AUDIO,\r\n        }),\r\n        new LocalAudioTrack(\r\n          publishOptions.useRealTracks\r\n            ? (await navigator.mediaDevices.getUserMedia({ audio: true })).getAudioTracks()[0]\r\n            : getEmptyAudioStreamTrack(),\r\n        ),\r\n      );\r\n      // @ts-ignore\r\n      this.localParticipant.addTrackPublication(audioPub);\r\n      this.localParticipant.emit(ParticipantEvent.LocalTrackPublished, audioPub);\r\n    }\r\n\r\n    for (let i = 0; i < participantOptions.count - 1; i += 1) {\r\n      let info: ParticipantInfo = ParticipantInfo.fromPartial({\r\n        sid: Math.floor(Math.random() * 10_000).toString(),\r\n        identity: `simulated-${i}`,\r\n        state: ParticipantInfo_State.ACTIVE,\r\n        tracks: [],\r\n        joinedAt: Date.now(),\r\n      });\r\n      const p = this.getOrCreateParticipant(info.identity, info);\r\n      if (participantOptions.video) {\r\n        const dummyVideo = createDummyVideoStreamTrack(\r\n          160 * participantOptions.aspectRatios[i % participantOptions.aspectRatios.length] ?? 1,\r\n          160,\r\n          false,\r\n          true,\r\n        );\r\n        const videoTrack = TrackInfo.fromPartial({\r\n          source: TrackSource.CAMERA,\r\n          sid: Math.floor(Math.random() * 10_000).toString(),\r\n          type: TrackType.AUDIO,\r\n        });\r\n        p.addSubscribedMediaTrack(dummyVideo, videoTrack.sid, new MediaStream([dummyVideo]));\r\n        info.tracks = [...info.tracks, videoTrack];\r\n      }\r\n      if (participantOptions.audio) {\r\n        const dummyTrack = getEmptyAudioStreamTrack();\r\n        const audioTrack = TrackInfo.fromPartial({\r\n          source: TrackSource.MICROPHONE,\r\n          sid: Math.floor(Math.random() * 10_000).toString(),\r\n          type: TrackType.AUDIO,\r\n        });\r\n        p.addSubscribedMediaTrack(dummyTrack, audioTrack.sid, new MediaStream([dummyTrack]));\r\n        info.tracks = [...info.tracks, audioTrack];\r\n      }\r\n\r\n      p.updateInfo(info);\r\n    }\r\n  }\r\n\r\n  // /** @internal */\r\n  emit<E extends keyof RoomEventCallbacks>(\r\n    event: E,\r\n    ...args: Parameters<RoomEventCallbacks[E]>\r\n  ): boolean {\r\n    // active speaker updates are too spammy\r\n    if (event !== RoomEvent.ActiveSpeakersChanged) {\r\n      log.debug(`room event ${event}`, { event, args });\r\n    }\r\n    return super.emit(event, ...args);\r\n  }\r\n}\r\n\r\nexport default Room;\r\n\r\nexport type RoomEventCallbacks = {\r\n  connected: () => void;\r\n  reconnecting: () => void;\r\n  reconnected: () => void;\r\n  disconnected: (reason?: DisconnectReason) => void;\r\n  /** @deprecated stateChanged has been renamed to connectionStateChanged */\r\n  stateChanged: (state: ConnectionState) => void;\r\n  connectionStateChanged: (state: ConnectionState) => void;\r\n  mediaDevicesChanged: () => void;\r\n  participantConnected: (participant: RemoteParticipant) => void;\r\n  participantDisconnected: (participant: RemoteParticipant) => void;\r\n  trackPublished: (publication: RemoteTrackPublication, participant: RemoteParticipant) => void;\r\n  trackSubscribed: (\r\n    track: RemoteTrack,\r\n    publication: RemoteTrackPublication,\r\n    participant: RemoteParticipant,\r\n  ) => void;\r\n  trackSubscriptionFailed: (trackSid: string, participant: RemoteParticipant) => void;\r\n  trackUnpublished: (publication: RemoteTrackPublication, participant: RemoteParticipant) => void;\r\n  trackUnsubscribed: (\r\n    track: RemoteTrack,\r\n    publication: RemoteTrackPublication,\r\n    participant: RemoteParticipant,\r\n  ) => void;\r\n  trackMuted: (publication: TrackPublication, participant: Participant) => void;\r\n  trackUnmuted: (publication: TrackPublication, participant: Participant) => void;\r\n  localTrackPublished: (publication: LocalTrackPublication, participant: LocalParticipant) => void;\r\n  localTrackUnpublished: (\r\n    publication: LocalTrackPublication,\r\n    participant: LocalParticipant,\r\n  ) => void;\r\n  localAudioSilenceDetected: (publication: LocalTrackPublication) => void;\r\n  participantMetadataChanged: (\r\n    metadata: string | undefined,\r\n    participant: RemoteParticipant | LocalParticipant,\r\n  ) => void;\r\n  participantNameChanged: (name: string, participant: RemoteParticipant | LocalParticipant) => void;\r\n  participantPermissionsChanged: (\r\n    prevPermissions: ParticipantPermission | undefined,\r\n    participant: RemoteParticipant | LocalParticipant,\r\n  ) => void;\r\n  activeSpeakersChanged: (speakers: Array<Participant>) => void;\r\n  roomMetadataChanged: (metadata: string) => void;\r\n  dataReceived: (\r\n    payload: Uint8Array,\r\n    participant?: RemoteParticipant,\r\n    kind?: DataPacket_Kind,\r\n    topic?: string,\r\n  ) => void;\r\n  connectionQualityChanged: (quality: ConnectionQuality, participant: Participant) => void;\r\n  mediaDevicesError: (error: Error) => void;\r\n  trackStreamStateChanged: (\r\n    publication: RemoteTrackPublication,\r\n    streamState: Track.StreamState,\r\n    participant: RemoteParticipant,\r\n  ) => void;\r\n  trackSubscriptionPermissionChanged: (\r\n    publication: RemoteTrackPublication,\r\n    status: TrackPublication.PermissionStatus,\r\n    participant: RemoteParticipant,\r\n  ) => void;\r\n  trackSubscriptionStatusChanged: (\r\n    publication: RemoteTrackPublication,\r\n    status: TrackPublication.SubscriptionStatus,\r\n    participant: RemoteParticipant,\r\n  ) => void;\r\n  audioPlaybackChanged: (playing: boolean) => void;\r\n  signalConnected: () => void;\r\n  recordingStatusChanged: (recording: boolean) => void;\r\n  dcBufferStatusChanged: (isLow: boolean, kind: DataPacket_Kind) => void;\r\n};\r\n","import DeviceManager from '../DeviceManager';\r\nimport { audioDefaults, videoDefaults } from '../defaults';\r\nimport { DeviceUnsupportedError, TrackInvalidError } from '../errors';\r\nimport { mediaTrackToLocalTrack } from '../participant/publishUtils';\r\nimport LocalAudioTrack from './LocalAudioTrack';\r\nimport type LocalTrack from './LocalTrack';\r\nimport LocalVideoTrack from './LocalVideoTrack';\r\nimport { Track } from './Track';\r\nimport {\r\n  AudioCaptureOptions,\r\n  CreateLocalTracksOptions,\r\n  ScreenShareCaptureOptions,\r\n  VideoCaptureOptions,\r\n  VideoPresets,\r\n} from './options';\r\nimport { constraintsForOptions, mergeDefaultOptions } from './utils';\r\n\r\n/**\r\n * Creates a local video and audio track at the same time. When acquiring both\r\n * audio and video tracks together, it'll display a single permission prompt to\r\n * the user instead of two separate ones.\r\n * @param options\r\n */\r\nexport async function createLocalTracks(\r\n  options?: CreateLocalTracksOptions,\r\n): Promise<Array<LocalTrack>> {\r\n  // set default options to true\r\n  options ??= {};\r\n  options.audio ??= true;\r\n  options.video ??= true;\r\n\r\n  const opts = mergeDefaultOptions(options, audioDefaults, videoDefaults);\r\n  const constraints = constraintsForOptions(opts);\r\n\r\n  // Keep a reference to the promise on DeviceManager and await it in getLocalDevices()\r\n  // works around iOS Safari Bug https://bugs.webkit.org/show_bug.cgi?id=179363\r\n  const mediaPromise = navigator.mediaDevices.getUserMedia(constraints);\r\n\r\n  if (options.audio) {\r\n    DeviceManager.userMediaPromiseMap.set('audioinput', mediaPromise);\r\n    mediaPromise.catch(() => DeviceManager.userMediaPromiseMap.delete('audioinput'));\r\n  }\r\n  if (options.video) {\r\n    DeviceManager.userMediaPromiseMap.set('videoinput', mediaPromise);\r\n    mediaPromise.catch(() => DeviceManager.userMediaPromiseMap.delete('videoinput'));\r\n  }\r\n\r\n  const stream = await mediaPromise;\r\n  return stream.getTracks().map((mediaStreamTrack) => {\r\n    const isAudio = mediaStreamTrack.kind === 'audio';\r\n    let trackOptions = isAudio ? options!.audio : options!.video;\r\n    if (typeof trackOptions === 'boolean' || !trackOptions) {\r\n      trackOptions = {};\r\n    }\r\n    let trackConstraints: MediaTrackConstraints | undefined;\r\n    const conOrBool = isAudio ? constraints.audio : constraints.video;\r\n    if (typeof conOrBool !== 'boolean') {\r\n      trackConstraints = conOrBool;\r\n    }\r\n    const track = mediaTrackToLocalTrack(mediaStreamTrack, trackConstraints);\r\n    if (track.kind === Track.Kind.Video) {\r\n      track.source = Track.Source.Camera;\r\n    } else if (track.kind === Track.Kind.Audio) {\r\n      track.source = Track.Source.Microphone;\r\n    }\r\n    track.mediaStream = stream;\r\n    return track;\r\n  });\r\n}\r\n\r\n/**\r\n * Creates a [[LocalVideoTrack]] with getUserMedia()\r\n * @param options\r\n */\r\nexport async function createLocalVideoTrack(\r\n  options?: VideoCaptureOptions,\r\n): Promise<LocalVideoTrack> {\r\n  const tracks = await createLocalTracks({\r\n    audio: false,\r\n    video: options,\r\n  });\r\n  return <LocalVideoTrack>tracks[0];\r\n}\r\n\r\nexport async function createLocalAudioTrack(\r\n  options?: AudioCaptureOptions,\r\n): Promise<LocalAudioTrack> {\r\n  const tracks = await createLocalTracks({\r\n    audio: options,\r\n    video: false,\r\n  });\r\n  return <LocalAudioTrack>tracks[0];\r\n}\r\n\r\n/**\r\n * Creates a screen capture tracks with getDisplayMedia().\r\n * A LocalVideoTrack is always created and returned.\r\n * If { audio: true }, and the browser supports audio capture, a LocalAudioTrack is also created.\r\n */\r\nexport async function createLocalScreenTracks(\r\n  options?: ScreenShareCaptureOptions,\r\n): Promise<Array<LocalTrack>> {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n  if (options.resolution === undefined) {\r\n    options.resolution = VideoPresets.h1080.resolution;\r\n  }\r\n\r\n  let videoConstraints: MediaTrackConstraints | boolean = true;\r\n  if (options.resolution) {\r\n    videoConstraints = {\r\n      width: options.resolution.width,\r\n      height: options.resolution.height,\r\n    };\r\n  }\r\n\r\n  if (navigator.mediaDevices.getDisplayMedia === undefined) {\r\n    throw new DeviceUnsupportedError('getDisplayMedia not supported');\r\n  }\r\n\r\n  // typescript definition is missing getDisplayMedia: https://github.com/microsoft/TypeScript/issues/33232\r\n  // @ts-ignore\r\n  const stream: MediaStream = await navigator.mediaDevices.getDisplayMedia({\r\n    audio: options.audio ?? false,\r\n    video: videoConstraints,\r\n  });\r\n\r\n  const tracks = stream.getVideoTracks();\r\n  if (tracks.length === 0) {\r\n    throw new TrackInvalidError('no video track found');\r\n  }\r\n  const screenVideo = new LocalVideoTrack(tracks[0], undefined, false);\r\n  screenVideo.source = Track.Source.ScreenShare;\r\n  const localTracks: Array<LocalTrack> = [screenVideo];\r\n  if (stream.getAudioTracks().length > 0) {\r\n    const screenAudio = new LocalAudioTrack(stream.getAudioTracks()[0], undefined, false);\r\n    screenAudio.source = Track.Source.ScreenShareAudio;\r\n    localTracks.push(screenAudio);\r\n  }\r\n  return localTracks;\r\n}\r\n","import { EventEmitter } from 'events';\r\nimport type TypedEmitter from 'typed-emitter';\r\nimport type { RoomConnectOptions, RoomOptions } from '../../options';\r\nimport type RTCEngine from '../../room/RTCEngine';\r\nimport Room, { ConnectionState } from '../../room/Room';\r\n\r\ntype LogMessage = {\r\n  level: 'info' | 'warning' | 'error';\r\n  message: string;\r\n};\r\n\r\nexport enum CheckStatus {\r\n  IDLE,\r\n  RUNNING,\r\n  SKIPPED,\r\n  SUCCESS,\r\n  FAILED,\r\n}\r\n\r\nexport type CheckInfo = {\r\n  name: string;\r\n  logs: Array<LogMessage>;\r\n  status: CheckStatus;\r\n  description: string;\r\n};\r\n\r\nexport interface CheckerOptions {\r\n  errorsAsWarnings?: boolean;\r\n  roomOptions?: RoomOptions;\r\n  connectOptions?: RoomConnectOptions;\r\n}\r\n\r\nexport abstract class Checker extends (EventEmitter as new () => TypedEmitter<CheckerCallbacks>) {\r\n  protected url: string;\r\n\r\n  protected token: string;\r\n\r\n  room: Room;\r\n\r\n  connectOptions?: RoomConnectOptions;\r\n\r\n  status: CheckStatus = CheckStatus.IDLE;\r\n\r\n  logs: Array<LogMessage> = [];\r\n\r\n  errorsAsWarnings: boolean = false;\r\n\r\n  name: string;\r\n\r\n  constructor(url: string, token: string, options: CheckerOptions = {}) {\r\n    super();\r\n    this.url = url;\r\n    this.token = token;\r\n    this.name = this.constructor.name;\r\n    this.room = new Room(options.roomOptions);\r\n    this.connectOptions = options.connectOptions;\r\n    if (options.errorsAsWarnings) {\r\n      this.errorsAsWarnings = options.errorsAsWarnings;\r\n    }\r\n  }\r\n\r\n  abstract get description(): string;\r\n\r\n  protected abstract perform(): Promise<void>;\r\n\r\n  async run(onComplete?: () => void) {\r\n    if (this.status !== CheckStatus.IDLE) {\r\n      throw Error('check is running already');\r\n    }\r\n    this.setStatus(CheckStatus.RUNNING);\r\n    this.appendMessage(`${this.name} started.`);\r\n\r\n    try {\r\n      await this.perform();\r\n    } catch (err) {\r\n      if (err instanceof Error) {\r\n        if (this.errorsAsWarnings) {\r\n          this.appendWarning(err.message);\r\n        } else {\r\n          this.appendError(err.message);\r\n        }\r\n      }\r\n    }\r\n\r\n    await this.disconnect();\r\n\r\n    // sleep for a bit to ensure disconnect\r\n    await new Promise((resolve) => setTimeout(resolve, 500));\r\n\r\n    // @ts-ignore\r\n    if (this.status !== CheckStatus.SKIPPED) {\r\n      this.setStatus(this.isSuccess() ? CheckStatus.SUCCESS : CheckStatus.FAILED);\r\n    }\r\n\r\n    if (onComplete) {\r\n      onComplete();\r\n    }\r\n    return this.getInfo();\r\n  }\r\n\r\n  protected isSuccess(): boolean {\r\n    return !this.logs.some((l) => l.level === 'error');\r\n  }\r\n\r\n  protected async connect(): Promise<Room> {\r\n    if (this.room.state === ConnectionState.Connected) {\r\n      return this.room;\r\n    }\r\n    await this.room.connect(this.url, this.token);\r\n    return this.room;\r\n  }\r\n\r\n  protected async disconnect() {\r\n    if (this.room && this.room.state !== ConnectionState.Disconnected) {\r\n      await this.room.disconnect();\r\n      // wait for it to go through\r\n      await new Promise((resolve) => setTimeout(resolve, 500));\r\n    }\r\n  }\r\n\r\n  protected skip() {\r\n    this.setStatus(CheckStatus.SKIPPED);\r\n  }\r\n\r\n  protected appendMessage(message: string) {\r\n    this.logs.push({ level: 'info', message });\r\n    this.emit('update', this.getInfo());\r\n  }\r\n\r\n  protected appendWarning(message: string) {\r\n    this.logs.push({ level: 'warning', message });\r\n    this.emit('update', this.getInfo());\r\n  }\r\n\r\n  protected appendError(message: string) {\r\n    this.logs.push({ level: 'error', message });\r\n    this.emit('update', this.getInfo());\r\n  }\r\n\r\n  protected setStatus(status: CheckStatus) {\r\n    this.status = status;\r\n    this.emit('update', this.getInfo());\r\n  }\r\n\r\n  protected get engine(): RTCEngine | undefined {\r\n    return this.room?.engine;\r\n  }\r\n\r\n  getInfo(): CheckInfo {\r\n    return {\r\n      logs: this.logs,\r\n      name: this.name,\r\n      status: this.status,\r\n      description: this.description,\r\n    };\r\n  }\r\n}\r\nexport type InstantiableCheck<T extends Checker> = {\r\n  new (url: string, token: string, options?: CheckerOptions): T;\r\n};\r\n\r\ntype CheckerCallbacks = {\r\n  update: (info: CheckInfo) => void;\r\n};\r\n","import { createLocalAudioTrack } from '../../room/track/create';\r\nimport { Checker } from './Checker';\r\n\r\nexport class PublishAudioCheck extends Checker {\r\n  get description(): string {\r\n    return 'Can publish audio';\r\n  }\r\n\r\n  async perform(): Promise<void> {\r\n    const room = await this.connect();\r\n\r\n    const track = await createLocalAudioTrack();\r\n    room.localParticipant.publishTrack(track);\r\n    // wait for a few seconds to publish\r\n    await new Promise((resolve) => setTimeout(resolve, 3000));\r\n\r\n    // verify RTC stats that it's publishing\r\n    const stats = await track.sender?.getStats();\r\n    if (!stats) {\r\n      throw new Error('Could not get RTCStats');\r\n    }\r\n    let numPackets = 0;\r\n    stats.forEach((stat) => {\r\n      if (stat.type === 'outbound-rtp' && stat.mediaType === 'audio') {\r\n        numPackets = stat.packetsSent;\r\n      }\r\n    });\r\n    if (numPackets === 0) {\r\n      throw new Error('Could not determine packets are sent');\r\n    }\r\n    this.appendMessage(`published ${numPackets} audio packets`);\r\n  }\r\n}\r\n","import { createLocalVideoTrack } from '../../room/track/create';\r\nimport { Checker } from './Checker';\r\n\r\nexport class PublishVideoCheck extends Checker {\r\n  get description(): string {\r\n    return 'Can publish video';\r\n  }\r\n\r\n  async perform(): Promise<void> {\r\n    const room = await this.connect();\r\n\r\n    const track = await createLocalVideoTrack();\r\n    room.localParticipant.publishTrack(track);\r\n    // wait for a few seconds to publish\r\n    await new Promise((resolve) => setTimeout(resolve, 3000));\r\n\r\n    // verify RTC stats that it's publishing\r\n    const stats = await track.sender?.getStats();\r\n    if (!stats) {\r\n      throw new Error('Could not get RTCStats');\r\n    }\r\n    let numPackets = 0;\r\n    stats.forEach((stat) => {\r\n      if (stat.type === 'outbound-rtp' && stat.mediaType === 'video') {\r\n        numPackets = stat.packetsSent;\r\n      }\r\n    });\r\n    if (numPackets === 0) {\r\n      throw new Error('Could not determine packets are sent');\r\n    }\r\n    this.appendMessage(`published ${numPackets} video packets`);\r\n  }\r\n}\r\n","import { ConnectionState } from '../../room/Room';\r\nimport { RoomEvent } from '../../room/events';\r\nimport { Checker } from './Checker';\r\n\r\nexport class ReconnectCheck extends Checker {\r\n  get description(): string {\r\n    return 'Resuming connection after interruption';\r\n  }\r\n\r\n  async perform(): Promise<void> {\r\n    const room = await this.connect();\r\n    let reconnectingTriggered = false;\r\n    let reconnected = false;\r\n\r\n    let reconnectResolver: (value: unknown) => void;\r\n    const reconnectTimeout = new Promise((resolve) => {\r\n      setTimeout(resolve, 5000);\r\n      reconnectResolver = resolve;\r\n    });\r\n\r\n    room\r\n      .on(RoomEvent.Reconnecting, () => {\r\n        reconnectingTriggered = true;\r\n      })\r\n      .on(RoomEvent.Reconnected, () => {\r\n        reconnected = true;\r\n        reconnectResolver(true);\r\n      });\r\n\r\n    room.engine.client.ws?.close();\r\n    const onClose = room.engine.client.onClose;\r\n    if (onClose) {\r\n      onClose('');\r\n    }\r\n\r\n    await reconnectTimeout;\r\n\r\n    if (!reconnectingTriggered) {\r\n      throw new Error('Did not attempt to reconnect');\r\n    } else if (!reconnected || room.state !== ConnectionState.Connected) {\r\n      this.appendWarning('reconnection is only possible in Redis-based configurations');\r\n      throw new Error('Not able to reconnect');\r\n    }\r\n  }\r\n}\r\n","import { SignalClient } from '../../api/SignalClient';\r\nimport { Checker } from './Checker';\r\n\r\nexport class TURNCheck extends Checker {\r\n  get description(): string {\r\n    return 'Can connect via TURN';\r\n  }\r\n\r\n  async perform(): Promise<void> {\r\n    const signalClient = new SignalClient();\r\n    const joinRes = await signalClient.join(this.url, this.token, {\r\n      autoSubscribe: true,\r\n      maxRetries: 0,\r\n    });\r\n\r\n    let hasTLS = false;\r\n    let hasTURN = false;\r\n    let hasSTUN = false;\r\n\r\n    for (let iceServer of joinRes.iceServers) {\r\n      for (let url of iceServer.urls) {\r\n        if (url.startsWith('turn:')) {\r\n          hasTURN = true;\r\n          hasSTUN = true;\r\n        } else if (url.startsWith('turns:')) {\r\n          hasTURN = true;\r\n          hasSTUN = true;\r\n          hasTLS = true;\r\n        }\r\n        if (url.startsWith('stun:')) {\r\n          hasSTUN = true;\r\n        }\r\n      }\r\n    }\r\n    if (!hasSTUN) {\r\n      this.appendWarning('No STUN servers configured on server side.');\r\n    } else if (hasTURN && !hasTLS) {\r\n      this.appendWarning('TURN is configured server side, but TURN/TLS is unavailable.');\r\n    }\r\n    await signalClient.close();\r\n    if (this.connectOptions?.rtcConfig?.iceServers || hasTURN) {\r\n      await this.room!.connect(this.url, this.token, {\r\n        rtcConfig: {\r\n          iceTransportPolicy: 'relay',\r\n        },\r\n      });\r\n    } else {\r\n      this.appendWarning('No TURN servers configured.');\r\n      this.skip();\r\n      await new Promise((resolve) => setTimeout(resolve, 0));\r\n    }\r\n  }\r\n}\r\n","import { Checker } from './Checker';\r\n\r\nexport class WebRTCCheck extends Checker {\r\n  get description(): string {\r\n    return 'Establishing WebRTC connection';\r\n  }\r\n\r\n  protected async perform(): Promise<void> {\r\n    try {\r\n      console.log('initiating room connection');\r\n      this.room = await this.connect();\r\n      console.log('now the room is connected');\r\n    } catch (err) {\r\n      this.appendWarning('ports need to be open on firewall in order to connect.');\r\n      throw err;\r\n    }\r\n  }\r\n}\r\n","import { SignalClient } from '../../api/SignalClient';\r\nimport { Checker } from './Checker';\r\n\r\nexport class WebSocketCheck extends Checker {\r\n  get description(): string {\r\n    return 'Connecting to signal connection via WebSocket';\r\n  }\r\n\r\n  protected async perform(): Promise<void> {\r\n    if (this.url.startsWith('ws:') || this.url.startsWith('http:')) {\r\n      this.appendWarning('Server is insecure, clients may block connections to it');\r\n    }\r\n\r\n    let signalClient = new SignalClient();\r\n    const joinRes = await signalClient.join(this.url, this.token, {\r\n      autoSubscribe: true,\r\n      maxRetries: 0,\r\n    });\r\n    this.appendMessage(`Connected to server, version ${joinRes.serverVersion}.`);\r\n    await signalClient.close();\r\n  }\r\n}\r\n","import EventEmitter from 'events';\r\nimport type TypedEmitter from 'typed-emitter';\r\nimport { CheckInfo, CheckStatus, Checker, InstantiableCheck } from './checks/Checker';\r\nimport { PublishAudioCheck } from './checks/publishAudio';\r\nimport { PublishVideoCheck } from './checks/publishVideo';\r\nimport { ReconnectCheck } from './checks/reconnect';\r\nimport { TURNCheck } from './checks/turn';\r\nimport { WebRTCCheck } from './checks/webrtc';\r\nimport { WebSocketCheck } from './checks/websocket';\r\n\r\nexport type { CheckInfo, CheckStatus };\r\n\r\nexport class ConnectionCheck extends (EventEmitter as new () => TypedEmitter<ConnectionCheckCallbacks>) {\r\n  token: string;\r\n\r\n  url: string;\r\n\r\n  private checkResults: Map<number, CheckInfo> = new Map();\r\n\r\n  constructor(url: string, token: string) {\r\n    super();\r\n    this.url = url;\r\n    this.token = token;\r\n  }\r\n\r\n  private getNextCheckId() {\r\n    const nextId = this.checkResults.size;\r\n    this.checkResults.set(nextId, {\r\n      logs: [],\r\n      status: CheckStatus.IDLE,\r\n      name: '',\r\n      description: '',\r\n    });\r\n    return nextId;\r\n  }\r\n\r\n  private updateCheck(checkId: number, info: CheckInfo) {\r\n    this.checkResults.set(checkId, info);\r\n    this.emit('checkUpdate', checkId, info);\r\n  }\r\n\r\n  isSuccess() {\r\n    return Array.from(this.checkResults.values()).every((r) => r.status !== CheckStatus.FAILED);\r\n  }\r\n\r\n  getResults() {\r\n    return Array.from(this.checkResults.values());\r\n  }\r\n\r\n  async createAndRunCheck<T extends Checker>(check: InstantiableCheck<T>) {\r\n    const checkId = this.getNextCheckId();\r\n    const test = new check(this.url, this.token);\r\n    const handleUpdate = (info: CheckInfo) => {\r\n      this.updateCheck(checkId, info);\r\n    };\r\n    test.on('update', handleUpdate);\r\n    const result = await test.run();\r\n    test.off('update', handleUpdate);\r\n    return result;\r\n  }\r\n\r\n  async checkWebsocket() {\r\n    return this.createAndRunCheck(WebSocketCheck);\r\n  }\r\n\r\n  async checkWebRTC() {\r\n    return this.createAndRunCheck(WebRTCCheck);\r\n  }\r\n\r\n  async checkTURN() {\r\n    return this.createAndRunCheck(TURNCheck);\r\n  }\r\n\r\n  async checkReconnect() {\r\n    return this.createAndRunCheck(ReconnectCheck);\r\n  }\r\n\r\n  async checkPublishAudio() {\r\n    return this.createAndRunCheck(PublishAudioCheck);\r\n  }\r\n\r\n  async checkPublishVideo() {\r\n    return this.createAndRunCheck(PublishVideoCheck);\r\n  }\r\n}\r\n\r\ntype ConnectionCheckCallbacks = {\r\n  checkUpdate: (id: number, info: CheckInfo) => void;\r\n};\r\n"],"names":["root","definition","module","exports","log","this","noop","undefinedType","isIE","window","navigator","test","userAgent","logMethods","bindMethod","obj","methodName","method","bind","Function","prototype","call","e","apply","arguments","traceForIE","console","trace","realMethod","undefined","replaceLoggingMethods","level","loggerName","i","length","methodFactory","debug","enableLoggingWhenConsoleArrives","defaultMethodFactory","Logger","name","defaultLevel","factory","self","currentLevel","storageKey","persistLevelIfPossible","levelNum","levelName","toUpperCase","localStorage","ignore","document","cookie","encodeURIComponent","getPersistedLevel","storedLevel","location","indexOf","exec","slice","levels","clearPersistedLevel","removeItem","getLevel","setLevel","persist","SILENT","setDefaultLevel","resetLevel","enableAll","TRACE","disableAll","initialLevel","defaultLogger","_loggersByName","getLogger","TypeError","logger","_log","noConflict","getLoggers","LogLevel","livekitLogger","info","setLogLevel","setLogExtension","extension","originalFactory","logLevel","rawMethod","configLevel","needLog","silent","msg","context","long","Long","wasm","WebAssembly","Instance","Module","Uint8Array","low","high","unsigned","__isLong__","Object","defineProperty","value","isLong","INT_CACHE","UINT_CACHE","fromInt","cachedObj","cache","fromBits","fromNumber","isNaN","UZERO","ZERO","TWO_PWR_64_DBL","MAX_UNSIGNED_VALUE","TWO_PWR_63_DBL","MIN_VALUE","MAX_VALUE","neg","TWO_PWR_32_DBL","lowBits","highBits","pow_dbl","Math","pow","fromString","str","radix","Error","RangeError","p","substring","radixToPower","result","size","min","parseInt","power","mul","add","fromValue","val","TWO_PWR_16_DBL","TWO_PWR_24_DBL","TWO_PWR_24","ONE","UONE","NEG_ONE","LongPrototype","toInt","toNumber","toString","isZero","isNegative","eq","radixLong","div","rem1","sub","rem","remDiv","intval","digits","getHighBits","getHighBitsUnsigned","getLowBits","getLowBitsUnsigned","getNumBitsAbs","bit","eqz","isPositive","isOdd","isEven","equals","other","notEquals","neq","ne","lessThan","comp","lt","lessThanOrEqual","lte","le","greaterThan","gt","greaterThanOrEqual","gte","ge","compare","thisNeg","otherNeg","negate","not","addend","a48","a32","a16","a00","b48","b32","b16","b00","c48","c32","c16","c00","subtract","subtrahend","multiply","multiplier","get_high","divide","divisor","div_u","div_s","approx","res","halfThis","shr","shl","toUnsigned","shru","max","floor","log2","ceil","LN2","delta","approxRes","approxRem","modulo","rem_u","rem_s","mod","and","or","xor","shiftLeft","numBits","shiftRight","shiftRightUnsigned","shr_u","toSigned","toBytes","toBytesLE","toBytesBE","hi","lo","fromBytes","bytes","fromBytesLE","fromBytesBE","aspromise","asPromise","fn","ctx","params","Array","offset","index","pending","Promise","executor","resolve","reject","callback","err","base64","string","n","charAt","b64","s64","encode","buffer","start","end","parts","chunk","j","t","b","push","String","fromCharCode","join","invalidEncoding","decode","c","charCodeAt","eventemitter","EventEmitter","_listeners","on","evt","off","listeners","splice","emit","args","float","Float32Array","f32","f8b","writeFloat_f32_cpy","buf","pos","writeFloat_f32_rev","writeFloatLE","writeFloatBE","readFloat_f32_cpy","readFloat_f32_rev","readFloatLE","readFloatBE","writeFloat_ieee754","writeUint","sign","round","exponent","mantissa","writeUintLE","writeUintBE","readFloat_ieee754","readUint","uint","NaN","Infinity","readUintLE","readUintBE","Float64Array","f64","writeDouble_f64_cpy","writeDouble_f64_rev","writeDoubleLE","writeDoubleBE","readDouble_f64_cpy","readDouble_f64_rev","readDoubleLE","readDoubleBE","writeDouble_ieee754","off0","off1","readDouble_ieee754","inquire_1","inquire","moduleName","eval","keys","utf8","utf8_length","len","read","utf8_read","write","utf8_write","c1","c2","pool_1","pool","alloc","SIZE","MAX","slab","pool_alloc","longbits","LongBits","util","require$$0","zero","zzEncode","zzDecode","zeroHash","from","isString","toLong","Boolean","fromHash","hash","toHash","mask","part0","part1","part2","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","isNode","global","process","versions","node","emptyArray","freeze","emptyObject","isInteger","Number","isFinite","isObject","isset","isSet","prop","hasOwnProperty","isArray","Buffer","utf8Write","_Buffer_from","_Buffer_allocUnsafe","newBuffer","sizeOrArray","dcodeIO","key2Re","key32Re","key64Re","longToHash","longFromHash","bits","merge","dst","src","ifNotSet","lcFirst","toLowerCase","newError","CustomError","message","properties","get","captureStackTrace","stack","create","constructor","writable","enumerable","configurable","set","ProtocolError","oneOfGetter","getOneOf","fieldNames","fieldMap","oneOfSetter","setOneOf","toJSONOptions","longs","enums","json","_configure","Buffer_from","encoding","allocUnsafe","Buffer_allocUnsafe","writer","Writer","BufferWriter","Op","next","State","head","tail","states","create_buffer_setup","create_buffer","create_array","subarray","_push","writeByte","writeVarint32","VarintOp","uint32","write_uint32","int32","write_int32","writeVarint64","sint32","write_sint32","uint64","write_uint64","int64","sint64","write_sint64","bool","write_bool","writeFixed32","fixed32","write_fixed32","sfixed32","fixed64","write_fixed64","sfixed64","write_float","double","write_double","writeBytes","writeBytes_set","writeBytes_for","write_bytes","write_string","fork","reset","ldelim","finish","BufferWriter_","writer_buffer","writeBytesBuffer","writeBytesBuffer_set","writeBytesBuffer_copy","copy","write_bytes_buffer","writeStringBuffer","write_string_buffer","byteLength","reader","Reader","BufferReader","indexOutOfRange","writeLength","create_typed_array","isBuffer","_slice","read_uint32_setup","read_uint32","read_int32","read_sint32","readLongVarint","read_bool","readFixed32_end","read_fixed32","read_sfixed32","readFixed64","read_float","read_double","read_bytes","read_string","skip","skipType","wireType","BufferReader_","read_int64","read_uint64","read_sint64","read_fixed64","read_sfixed64","reader_buffer","read_string_buffer","utf8Slice","service","Service","rpcImpl","requestDelimited","responseDelimited","rpcCall","requestCtor","responseCtor","request","setTimeout","rpcCallback","response","endedByRPC","rpc","roots","protobuf","build","configure","minimal","globalThis","_m0","AudioCodec","VideoCodec","TrackType","trackTypeFromJSON","object","AUDIO","VIDEO","DATA","UNRECOGNIZED","trackTypeToJSON","TrackSource","trackSourceFromJSON","UNKNOWN","CAMERA","MICROPHONE","SCREEN_SHARE","SCREEN_SHARE_AUDIO","trackSourceToJSON","VideoQuality","videoQualityFromJSON","LOW","MEDIUM","HIGH","OFF","videoQualityToJSON","ConnectionQuality","connectionQualityFromJSON","POOR","GOOD","EXCELLENT","connectionQualityToJSON","ClientConfigSetting","clientConfigSettingFromJSON","UNSET","DISABLED","ENABLED","clientConfigSettingToJSON","DisconnectReason","disconnectReasonFromJSON","UNKNOWN_REASON","CLIENT_INITIATED","DUPLICATE_IDENTITY","SERVER_SHUTDOWN","PARTICIPANT_REMOVED","ROOM_DELETED","STATE_MISMATCH","JOIN_FAILURE","disconnectReasonToJSON","ReconnectReason","ParticipantInfo_State","participantInfo_StateFromJSON","JOINING","JOINED","ACTIVE","DISCONNECTED","participantInfo_StateToJSON","Encryption_Type","encryption_TypeFromJSON","NONE","GCM","CUSTOM","encryption_TypeToJSON","DataPacket_Kind","dataPacket_KindFromJSON","RELIABLE","LOSSY","dataPacket_KindToJSON","ServerInfo_Edition","serverInfo_EditionFromJSON","Standard","Cloud","serverInfo_EditionToJSON","ClientInfo_SDK","clientInfo_SDKFromJSON","JS","SWIFT","ANDROID","FLUTTER","GO","UNITY","REACT_NATIVE","RUST","clientInfo_SDKToJSON","createBaseRoom","sid","emptyTimeout","maxParticipants","creationTime","turnPassword","enabledCodecs","metadata","numParticipants","numPublishers","activeRecording","Room","v","Codec","input","tag","longToNumber","fromJSON","map","toJSON","base","fromPartial","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","createBaseCodec","mime","fmtpLine","createBaseParticipantPermission","canSubscribe","canPublish","canPublishData","canPublishSources","hidden","recorder","canUpdateMetadata","ParticipantPermission","end2","createBaseParticipantInfo","identity","state","tracks","joinedAt","version","permission","region","isPublisher","ParticipantInfo","TrackInfo","createBaseSimulcastCodecInfo","mimeType","mid","cid","layers","SimulcastCodecInfo","VideoLayer","createBaseTrackInfo","type","muted","width","height","simulcast","disableDtx","source","codecs","stereo","disableRed","encryption","_m","_o","_p","_q","_r","createBaseVideoLayer","quality","bitrate","ssrc","createBaseDataPacket","kind","DataPacket","$case","UserPacket","user","ActiveSpeakerUpdate","speaker","createBaseActiveSpeakerUpdate","speakers","SpeakerInfo","createBaseSpeakerInfo","active","createBaseUserPacket","participantSid","payload","destinationSids","topic","bytesFromBase64","base64FromBytes","createBaseParticipantTracks","trackSids","ParticipantTracks","createBaseServerInfo","edition","protocol","nodeId","debugInfo","ServerInfo","createBaseClientInfo","sdk","os","osVersion","deviceModel","browser","browserVersion","address","network","ClientInfo","createBaseClientConfiguration","video","screen","resumeConnection","disabledCodecs","forceRelay","ClientConfiguration","VideoConfiguration","DisabledCodecs","createBaseVideoConfiguration","hardwareEncoder","createBaseDisabledCodecs","tsProtoGlobalThis","bin","atob","arr","forEach","byte","btoa","MAX_SAFE_INTEGER","maxRetryDelay","DEFAULT_RETRY_DELAYS_IN_MS","DefaultReconnectPolicy","retryDelays","_retryDelays","nextRetryDelayInMs","retryCount","retryDelay","random","R","Reflect","ReflectApply","target","receiver","ReflectOwnKeys","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","ProcessEmitWarning","warning","warn","NumberIsNaN","init","eventsModule","once","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","arg","getPrototypeOf","setMaxListeners","_getMaxListeners","that","getMaxListeners","doError","events","error","er","handler","arrayClone","_addListener","prepend","m","existing","newListener","unshift","warned","w","emitter","count","addListener","prependListener","onceWrapper","fired","removeListener","wrapFn","_onceWrap","wrapped","prependOnceListener","list","position","originalListener","shift","spliceOne","removeAllListeners","key","unwrap","evlistener","unwrapListeners","rawListeners","listenerCount","eventNames","pop","ret","errorListener","resolver","eventTargetAgnosticAddListener","addErrorHandlerIfEventEmitter","flags","addEventListener","wrapListener","removeEventListener","Queue","_maxConcurrent","_minCycle","maxConcurrent","minCycle","queueRunning","queueWaiting","lastRun","dequeue","q","idx","findIndex","x","o","getFirstWaiting","sort","a","me","wait","_priority","priority","promise","Date","now","run","job","id","Symbol","then","finally","stat","running","waiting","reduce","last","flush","qp","allSettled","logDisabled_","deprecationWarnings_","extractVersion","uastring","expr","match","wrapPeerConnectionEvent","eventNameToWrap","wrapper","RTCPeerConnection","proto","nativeAddEventListener","nativeEventName","cb","wrappedCallback","modifiedEvent","handleEvent","_eventMap","Map","nativeRemoveEventListener","has","unwrappedCb","delete","disableLog","disableWarnings","deprecated","oldMethod","newMethod","detectBrowser","mozGetUserMedia","webkitGetUserMedia","isSecureContext","webkitRTCPeerConnection","supportsUnifiedPlan","RTCRtpTransceiver","compactObject","data","accumulator","isObj","isEmptyObject","assign","walkStats","stats","resultSet","endsWith","filterStats","track","outbound","streamStatsType","filteredResult","trackStats","trackIdentifier","trackStat","trackId","logging","utils","shimGetUserMedia","browserDetails","mediaDevices","constraintsToChrome_","mandatory","optional","cc","r","ideal","exact","oldname_","prefix","oc","mix","advanced","shimConstraints_","constraints","func","JSON","parse","stringify","audio","remap","face","facingMode","getSupportedFacingModeLies","getSupportedConstraints","matches","enumerateDevices","devices","filter","d","dev","find","some","label","includes","deviceId","shimError_","PermissionDeniedError","PermissionDismissedError","InvalidStateError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","TabCaptureError","ScreenCaptureError","DeviceCaptureError","constraint","constraintName","getUserMedia_","onSuccess","onError","getUserMedia","origGetUserMedia","cs","stream","getAudioTracks","getVideoTracks","getTracks","stop","DOMException","shimGetDisplayMedia","getSourceId","getDisplayMedia","sourceId","widthSpecified","heightSpecified","frameRateSpecified","frameRate","chromeMediaSource","chromeMediaSourceId","maxFrameRate","maxWidth","maxHeight","shimMediaStream","MediaStream","webkitMediaStream","shimOnTrack","_ontrack","f","origSetRemoteDescription","setRemoteDescription","_ontrackpoly","te","getReceivers","event","Event","transceiver","streams","dispatchEvent","shimGetSendersWithDtmf","shimSenderWithDtmf","pc","dtmf","_dtmf","createDTMFSender","_pc","getSenders","_senders","origAddTrack","addTrack","sender","origRemoveTrack","removeTrack","origAddStream","addStream","origRemoveStream","removeStream","s","RTCRtpSender","origGetSenders","senders","shimGetStats","origGetStats","getStats","selector","onSucc","onErr","fixChromeStats_","standardReport","reports","report","standardStats","timestamp","localcandidate","remotecandidate","names","makeMapStats","successCallbackWrapper_","shimSenderReceiverGetStats","RTCRtpReceiver","origGetReceivers","receivers","srcElement","MediaStreamTrack","shimAddTrackRemoveTrackWithNative","getLocalStreams","_shimmedLocalStreams","streamId","alreadyExists","existingSenders","newSenders","newSender","shimAddTrackRemoveTrack","origGetLocalStreams","nativeStreams","_reverseStreams","_streams","newStream","signalingState","oldStream","replaceInternalStreamId","description","sdp","internalId","externalStream","internalStream","replace","RegExp","RTCSessionDescription","replaceExternalStreamId","nativeMethod","methodObj","isLegacyCall","desc","origSetLocalDescription","setLocalDescription","origLocalDescription","getOwnPropertyDescriptor","isLocal","streamid","hasTrack","shimPeerConnection","RTCIceCandidate","fixNegotiationNeeded","getConfiguration","sdpSemantics","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","preferredMediaSource","code","mediaSource","RTCTrackEvent","mozRTCPeerConnection","modernStatsTypes","inboundrtp","outboundrtp","candidatepair","nativeGetStats","shimSenderGetStats","shimReceiverGetStats","shimRemoveStream","shimRTCDataChannel","DataChannel","RTCDataChannel","shimAddTransceiver","origAddTransceiver","addTransceiver","setParametersPromises","sendEncodings","shouldPerformCheck","encodingParam","ridRegex","rid","parseFloat","scaleResolutionDownBy","maxFramerate","getParameters","encodings","setParameters","catch","shimGetParameters","origGetParameters","shimCreateOffer","origCreateOffer","createOffer","all","shimCreateAnswer","origCreateAnswer","createAnswer","shimLocalStreamsAPI","_localStreams","_addTrack","_len","_key","shimRemoteStreamsAPI","getRemoteStreams","_remoteStreams","_onaddstream","_onaddstreampoly","shimCallbacksAPI","addIceCandidate","successCallback","failureCallback","options","withCallback","candidate","_getUserMedia","shimConstraints","errcb","shimRTCIceServerUrls","OrigPeerConnection","pcConfig","pcConstraints","iceServers","newIceServers","server","urls","url","generateCertificate","shimTrackEventTransceiver","shimCreateOfferLegacy","offerOptions","offerToReceiveAudio","audioTransceiver","getTransceivers","direction","setDirection","offerToReceiveVideo","videoTransceiver","shimAudioContext","AudioContext","webkitAudioContext","SDPUtils","generateIdentifier","localCName","splitLines","blob","trim","split","line","splitSections","part","getDescription","sections","getMediaSections","matchPrefix","parseCandidate","foundation","component","ip","port","relatedAddress","relatedPort","tcpType","ufrag","usernameFragment","writeCandidate","parseIceOptions","parseRtpMap","parsed","payloadType","clockRate","channels","numChannels","writeRtpMap","codec","pt","preferredPayloadType","parseExtmap","uri","attributes","writeExtmap","headerExtension","preferredId","parseFmtp","kv","writeFmtp","parameters","param","parseRtcpFb","parameter","writeRtcpFb","lines","rtcpFeedback","fb","parseSsrcMedia","sp","colon","attribute","parseSsrcGroup","semantics","ssrcs","getMid","mediaSection","parseFingerprint","algorithm","getDtlsParameters","sessionpart","role","fingerprints","writeDtlsParameters","setupType","fp","parseCryptoLine","cryptoSuite","keyParams","sessionParams","writeCryptoLine","writeCryptoKeyParams","parseCryptoKeyParams","keyMethod","keySalt","lifeTime","mkiValue","mkiLength","getCryptoParameters","getIceParameters","pwd","password","writeIceParameters","iceLite","parseRtpParameters","headerExtensions","fecMechanisms","rtcp","mline","profile","rtpmapline","fmtps","wildcardRtcpFb","duplicate","existingFeedback","writeRtpDescription","caps","maxptime","parseRtpEncodingParameters","encodingParameters","hasRed","hasUlpfec","primarySsrc","secondarySsrc","flows","apt","encParam","codecPayloadType","rtx","fec","mechanism","bandwidth","maxBitrate","parseRtcpParameters","rtcpParameters","remoteSsrc","cname","rsize","reducedSize","compound","mux","writeRtcpParameters","parseMsid","spec","planB","msidParts","parseSctpDescription","parseMLine","maxSizeLine","maxMessageSize","sctpPort","fmt","sctpMapLines","writeSctpDescription","media","sctp","output","generateSessionId","substr","writeSessionBoilerplate","sessId","sessVer","sessUser","sessionId","getDirection","getKind","isRejected","parseOLine","username","sessionVersion","netType","addressType","isValidSDP","shimRTCIceCandidate","NativeRTCIceCandidate","nativeCandidate","parsedCandidate","sdpMid","sdpMLineIndex","shimRTCIceCandidateRelayProtocol","relayProtocol","shimMaxMessageSize","_sctp","sctpInDescription","mLine","getRemoteFirefoxVersion","getCanSendMaxMessageSize","remoteIsFirefox","canSendMaxMessageSize","getMaxMessageSize","isFirefox","canSendMMS","remoteMMS","POSITIVE_INFINITY","shimSendThrowTypeError","wrapDcSend","dc","origDataChannelSend","send","readyState","origCreateDataChannel","createDataChannel","dataChannel","channel","shimConnectionState","completed","checking","iceConnectionState","_onconnectionstatechange","origMethod","_connectionstatechangepoly","_lastConnectionState","connectionState","newEvent","removeExtmapAllowMixed","nativeSRD","shimAddIceCandidateNullOrEmpty","nativeAddIceCandidate","shimParameterlessSetLocalDescription","nativeSetLocalDescription","adapterFactory","shimChrome","shimFirefox","shimSafari","adapter","commonShim","chromeShim","browserShim","firefoxShim","safariShim","SignalTarget","signalTargetFromJSON","PUBLISHER","SUBSCRIBER","signalTargetToJSON","StreamState","streamStateFromJSON","PAUSED","streamStateToJSON","CandidateProtocol","candidateProtocolFromJSON","UDP","TCP","TLS","candidateProtocolToJSON","createBaseSignalRequest","SignalRequest","SessionDescription","offer","answer","TrickleRequest","trickle","AddTrackRequest","MuteTrackRequest","mute","UpdateSubscription","subscription","UpdateTrackSettings","trackSetting","LeaveRequest","leave","UpdateVideoLayers","updateLayers","SubscriptionPermission","subscriptionPermission","SyncState","syncState","SimulateScenario","simulate","ping","UpdateParticipantMetadata","updateMetadata","Ping","pingReq","_s","_t","_u","_v","_w","_x","_y","_z","_0","_1","_2","_3","_4","_5","_6","_7","_8","_9","_10","_11","_12","_13","_14","_15","_16","_17","_18","_19","_20","createBaseSignalResponse","SignalResponse","JoinResponse","ParticipantUpdate","update","TrackPublishedResponse","trackPublished","SpeakersChanged","speakersChanged","RoomUpdate","roomUpdate","ConnectionQualityUpdate","connectionQuality","StreamStateUpdate","streamStateUpdate","SubscribedQualityUpdate","subscribedQualityUpdate","SubscriptionPermissionUpdate","subscriptionPermissionUpdate","refreshToken","TrackUnpublishedResponse","trackUnpublished","pong","ReconnectResponse","reconnect","Pong","pongResp","_21","_22","_23","_24","_25","_26","_27","_28","_29","_30","_31","_32","createBaseSimulcastCodec","enableSimulcastLayers","SimulcastCodec","createBaseAddTrackRequest","simulcastCodecs","createBaseTrickleRequest","candidateInit","createBaseMuteTrackRequest","createBaseJoinResponse","room","participant","otherParticipants","serverVersion","subscriberPrimary","alternativeUrl","clientConfiguration","serverRegion","pingTimeout","pingInterval","serverInfo","ICEServer","createBaseReconnectResponse","createBaseTrackPublishedResponse","createBaseTrackUnpublishedResponse","trackSid","createBaseSessionDescription","createBaseParticipantUpdate","participants","createBaseUpdateSubscription","subscribe","participantTracks","createBaseUpdateTrackSettings","disabled","fps","createBaseLeaveRequest","canReconnect","reason","createBaseUpdateVideoLayers","createBaseUpdateParticipantMetadata","createBaseICEServer","credential","createBaseSpeakersChanged","createBaseRoomUpdate","createBaseConnectionQualityInfo","score","ConnectionQualityInfo","createBaseConnectionQualityUpdate","updates","createBaseStreamStateInfo","StreamStateInfo","createBaseStreamStateUpdate","streamStates","createBaseSubscribedQuality","enabled","SubscribedQuality","createBaseSubscribedCodec","qualities","SubscribedCodec","createBaseSubscribedQualityUpdate","subscribedQualities","subscribedCodecs","createBaseTrackPermission","allTracks","participantIdentity","TrackPermission","createBaseSubscriptionPermission","allParticipants","trackPermissions","createBaseSubscriptionPermissionUpdate","allowed","createBaseSyncState","publishTracks","dataChannels","DataChannelInfo","createBaseDataChannelInfo","createBaseSimulateScenario","scenario","speakerUpdate","nodeFailure","migration","serverLeave","switchCandidateProtocol","subscriberBandwidth","createBasePing","rtt","createBasePong","lastPingTimestamp","LivekitError","ConnectionError","status","DeviceUnsupportedError","TrackInvalidError","UnsupportedServer","UnexpectedConnectionState","NegotiationError","PublishDataError","MediaDeviceFailure","getFailure","NotFound","PermissionDenied","DeviceInUse","Other","CriticalTimers","setInterval","clearTimeout","clearInterval","LIBVERSION","EMPTY","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","NAME","TYPE","VENDOR","VERSION","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","EMBEDDED","UA_MAX_LENGTH","AMAZON","APPLE","ASUS","BLACKBERRY","BROWSER","CHROME","EDGE","FIREFOX","GOOGLE","HUAWEI","LG","MICROSOFT","MOTOROLA","OPERA","SAMSUNG","SHARP","SONY","VIERA","XIAOMI","ZEBRA","FACEBOOK","CHROMIUM_OS","MAC_OS","extend","regexes","extensions","mergedRegexes","enumerize","str1","str2","lowerize","majorize","rgxMapper","ua","arrays","k","regex","props","strMapper","oldSafariMap","windowsVersionMap","cpu","device","engine","UAParser","getResult","_navigator","_ua","_uach","userAgentData","_rgxmap","_isSelfNav","getBrowser","_browser","brave","isBrave","getCPU","_cpu","getDevice","_device","mobile","standalone","maxTouchPoints","getEngine","_engine","getOS","_os","platform","getUA","setUA","CPU","DEVICE","ENGINE","OS","$","jQuery","Zepto","parser","protocolVersion","mergeDefaultOptions","audioDefaults","videoDefaults","opts","_objectSpread","mergeObjectWithoutOverwriting","mainObject","objectToMerge","constraintsForOptions","videoOptions","resolution","detectSilence","timeOffset","getNewAudioContext","analyser","createAnalyser","fftSize","bufferLength","frequencyBinCount","dataArray","createMediaStreamSource","mediaStreamTrack","connect","sleep","getByteTimeDomainData","someNoise","sample","close","latencyHint","separator","ddExtensionURI","unpackStreamId","packed","duration","supportsTransceiver","supportsAddTrack","supportsAdaptiveStream","ResizeObserver","IntersectionObserver","supportsDynacast","supportsAV1","capabilities","getCapabilities","hasAV1","supportsVP9","hasVP9","isSVCCodec","supportsSetSinkId","elm","createElement","setCodecPreferencesVersions","Chrome","Chromium","Safari","Firefox","Edge","Brave","supportsSetCodecPreferences","isWeb","uap","compareVersions","isBrowserSupported","isFireFox","isSafari","isMobile","isReactNative","product","isCloud","serverUrl","hostname","getLKReactNativeInfo","LiveKitReactNativeGlobal","getReactNativeOs","getDevicePixelRatio","devicePixelRatio","v1","v2","parts1","parts2","p1","p2","roDispatchCallback","entries","entry","handleResize","ioDispatchCallback","handleVisibilityChanged","resizeObserver","getResizeObserver","intersectionObserver","getIntersectionObserver","rootMargin","getClientInfo","emptyVideoStreamTrack","getEmptyVideoStreamTrack","createDummyVideoStreamTrack","paintContent","canvas","getContext","fillRect","beginPath","arc","PI","closePath","fillStyle","fill","dummyStream","captureStream","dummyTrack","emptyAudioStreamTrack","getEmptyAudioStreamTrack","oscillator","createOscillator","createMediaStreamDestination","Future","futureBase","onFinally","createAudioAnalyser","cloneTrack","smoothingTimeConstant","minDecibels","maxDecibels","audioContext","streamTrack","clone","mediaStreamSource","calculateVolume","getByteFrequencyData","sum","amplitude","volume","sqrt","cleanup","Mutex","_locking","_locks","isLocked","lock","unlockNext","willLock","willUnlock","passThroughQueueSignals","canPassThroughQueue","req","canPass","SignalClient","useJSON","isConnected","isReconnecting","requestQueue","queuedRequests","closingLock","token","abortSignal","clearPingInterval","reconnectReason","connectOptions","startsWith","clientInfo","createConnectionParams","abortHandler","aborted","ws","WebSocket","binaryType","onerror","ev","resp","fetch","toFixed","text","handleWSError","onmessage","ArrayBuffer","shouldProcessMessage","pingTimeoutDuration","pingIntervalDuration","timeout","interval","startPingInterval","signalLatency","handleSignalResponse","onclose","onClose","unlock","onopen","closePromise","race","sendOffer","sendRequest","toProtoSessionDescription","sendAnswer","sendIceCandidate","sendMuteTrack","sendAddTrack","sendUpdateLocalMetadata","sendUpdateTrackSettings","settings","sendUpdateSubscription","sendSyncState","sync","sendUpdateVideoLayers","sendUpdateSubscriptionPermissions","sendSimulateScenario","sendPing","sendLeave","fromQueue","canQueue","OPEN","sd","fromProtoSessionDescription","onAnswer","onOffer","onTrickle","onParticipantUpdate","onLocalTrackPublished","onSpeakersChanged","onLeave","onRemoteMuteChanged","onRoomUpdate","onConnectionQuality","onStreamStateUpdate","onSubscribedQualityUpdate","onSubscriptionPermissionUpdate","onTokenRefresh","onLocalTrackUnpublished","resetPingTimeout","setReconnected","clearPingTimeout","toUTCString","rsd","URLSearchParams","autoSubscribe","publishOnly","adaptiveStream","connection","defaultId","DeviceManager","getInstance","instance","getDevices","requestPermissions","userMediaPromiseMap","values","isDummyDeviceOrEmpty","noLabel","isRelevant","permissionsToAcquire","normalizeDeviceId","groupId","mediaDeviceKinds","grammar","grammarModule","reg","format","u","z","rate","subtype","config","sessionConfig","raddr","tcptype","generation","dir2","clksrcExt","mediaClockValue","rateNumerator","rateDenominator","objs","toIntIfInt","attachProperties","rawName","parseReg","content","needsBlank","keyLocation","validLine","session","l","rtp","fmtp","paramReducer","acc","parseParams","parseFmtpConfig","parsePayloads","parseRemoteCandidates","candidates","parseImageAttributes","item","parseSimulcastStreamList","scid","paused","formatRegExp","formatStr","makeLine","defaultOuterOrder","defaultInnerOrder","payloads","outerOrder","innerOrder","el","isImmediate","maxWait","cancel","PCEvents","NegotiationStarted","NegotiationComplete","PCTransport","pendingCandidates","restartingIce","renegotiate","trackBitrates","remoteStereoMids","remoteNackMids","negotiate","debounce","createAndSendOffer","isICEConnected","remoteDescription","stereoMids","nackMids","extractStereoAndNackAudioFromOffer","iceRestart","currentSD","sdpParsed","ensureAudioNackAndStereo","ensureVideoDDExtensionForSVC","trackbr","msid","codecPayload","maxbr","setMungedLocalDescription","createAndSetAnswer","setTrackCodecBitrate","onconnectionstatechange","oniceconnectionstatechange","munged","originalSdp","opusPayload","rtcpFb","at","maxID","ddFound","ext","RegionUrlProvider","lastUpdateAt","settingsCacheTime","attemptedRegions","URL","getNextBestRegionUrl","regionSettings","fetchRegionSettings","regionsLeft","regions","attempted","nextRegion","resetAttempts","signal","regionSettingsResponse","getCloudConfigUrl","headers","authorization","ok","statusText","host","VideoPreset","aspectRatio","backupCodecs","isBackupCodec","backup","isCodecEqual","AudioPresets","telephone","speech","music","musicStereo","musicHighQuality","musicHighQualityStereo","VideoPresets","h90","h180","h216","h360","h540","h720","h1080","h1440","h2160","VideoPresets43","h120","h240","h480","ScreenSharePresets","h360fps3","h720fps5","h720fps15","h1080fps15","h1080fps30","publishDefaults","audioBitrate","dtx","red","forceStereo","screenShareEncoding","stopMicTrackOnMute","videoCodec","backupCodec","autoGainControl","echoCancellation","noiseSuppression","roomOptionDefaults","dynacast","stopLocalTrackOnUnpublish","reconnectPolicy","disconnectOnPageLeave","expWebAudioMix","roomConnectOptionDefaults","maxRetries","peerConnectionTimeout","RoomEvent","ParticipantEvent","EngineEvent","TrackEvent","BACKGROUND_REACTION_DELAY","recycledElements","Track","mediaTrack","attachedElements","isMuted","streamState","Active","isInBackground","_currentBitrate","appVisibilityChangedListener","backgroundTimeout","visibilityState","handleAppVisibilityChanged","_mediaStreamTrack","_mediaStreamID","Source","Unknown","currentBitrate","mediaStreamID","attach","element","elementType","Kind","Video","addAppVisibilityListener","parentElement","attachToElement","allMediaStreamTracks","srcObject","tr","play","AudioPlaybackStarted","AudioPlaybackFailed","ElementAttached","detach","detachTrack","recycleElement","ElementDetached","detached","removeAppVisibilityListener","stopMonitor","enable","disable","monitorInterval","HTMLAudioElement","shouldCache","pause","mediaStream","existingTracks","et","autoplay","HTMLVideoElement","playsInline","kindToProto","Audio","kindFromProto","sourceToProto","Camera","Microphone","ScreenShare","ScreenShareAudio","sourceFromProto","streamStateFromProto","ProtoStreamState","Paused","lossyDataChannel","reliableDataChannel","minReconnectWait","leaveReconnect","PCState","RTCEngine","isClosed","_isClosed","rtcConfig","fullReconnectOnNext","pcState","New","pendingTrackResolvers","hasPublished","reconnectAttempts","reconnectStart","attemptingReconnect","joinAttempts","maxJoinAttempts","shouldFailNext","handleDataChannel","_ref","reliableDCSub","lossyDCSub","handleDataMessage","dataProcessLock","Blob","arrayBuffer","dp","ActiveSpeakersUpdate","DataPacketReceived","handleDataError","currentTarget","channelKind","maxRetransmits","ErrorEvent","handleBufferedAmountLow","updateAndEmitDCBufferStatus","handleDisconnect","disconnectReason","disconnect","Disconnected","delay","getNextRetryDelay","elapsedMs","clearReconnectTimeout","regionUrlProvider","reconnectTimeout","attemptReconnect","waitForRestarted","Connected","onRestarted","onDisconnected","Restarted","isBufferStatusLow","dcBufferStatus","DCBufferStatusChanged","dataChannelForKind","bufferedAmount","bufferedAmountLowThreshold","handleBrowserOnLine","client","RR_SIGNAL_DISCONNECTED","expSignalLatency","registerOnLineListener","signalOpts","joinResponse","publisher","Closing","deregisterOnLineListener","clearPendingReconnect","subscriber","publicationTimeout","updateMuteStatus","dataSubscriberReadyState","getConnectedServerAddress","primaryPC","getConnectedAddress","makeRTCConfiguration","TransportsCreated","onicecandidate","secondaryPC","ondatachannel","shouldEmit","RR_SUBSCRIBER_FAILED","RR_PUBLISHER_FAILED","ontrack","MediaTrackAdded","createDataChannels","RTCSdpType","serverResponse","rtcIceServers","iceServer","rtcIceServer","iceTransportPolicy","continualGatheringPolicy","lossyDC","reliableDC","ordered","onbufferedamountlow","setPreferredCodec","cap","matched","partialMatched","unmatched","matchesVideoCodec","sdpFmtpLine","setCodecPreferences","createSender","createTransceiverRTCRtpSender","createRTCRtpSender","createSimulcastSender","simulcastTrack","createSimulcastTransceiverSender","transceiverInit","setSimulcastTrackSender","restartConnection","recoverable","SignalReconnectError","RR_UNKOWN","regionUrl","Restarting","SignalRestarted","waitForPCReconnected","nextRegionUrl","Resuming","setConfiguration","SignalResumed","Resumed","waitForPCInitialConnection","abortController","connectTimeout","onConnected","startTime","Reconnecting","sendDataPacket","packet","ensurePublisherConnected","ensureDataTransportConnected","transport","transportName","targetChannel","endTime","getTime","handleClosed","negotiationTimeout","failNext","selectedCandidatePairId","candidatePairs","selected","selectedID","remoteCandidateId","monitorFrequency","computeBitrate","currentStats","prevStats","bytesNow","bytesPrev","bytesReceived","bytesSent","defaultDimensionsTimeout","LocalTrack","userProvidedTrack","_isUpstreamPaused","handleEnded","reacquireTrack","Ended","getConstraints","providedByUser","muteLock","pauseUpstreamLock","dimensions","isUpstreamPaused","isUserProvided","waitForDimensions","started","dims","getDeviceId","setTrackMuted","unmute","replaceTrack","resumeUpstream","restart","streamConstraints","newTrack","Muted","Unmuted","needsReAcquisition","pauseUpstream","emitMuteEvent","UpstreamPaused","emptyTrack","UpstreamResumed","LocalAudioTrack","stopOnMute","monitorSender","getSenderStats","checkForSilence","setDeviceId","restartTrack","startMonitor","audioStats","packetsSent","packetsLost","roundTripTime","jitter","trackIsSilent","AudioSilenceDetected","refreshSubscribedCodecAfterNewCodec","LocalVideoTrack","statsMap","totalBitrate","prev","senderLock","isSimulcast","signalClient","trackInfo","items","vs","frameHeight","frameWidth","firCount","pliCount","nackCount","framesSent","retransmittedPacketsSent","qualityLimitationReason","qualityLimitationResolutionChanges","remoteId","setPublishingQuality","maxQuality","setPublishingLayers","addSimulcastTrack","simulcastCodecInfo","setPublishingCodecs","currentCodec","newCodecs","_iteratorAbruptCompletion","_didIteratorError","_iteratorError","_iterator","_asyncIterator","_step","done","setPublishingLayersForSender","return","senderEncodings","hasChanged","videoQualityForRid","subscribedQuality","videoLayersFromEncodings","scale","RemoteTrack","setMuted","setMediaStream","onremovetrack","monitorReceiver","RemoteAudioTrack","audioOutput","getReceiverStats","webAudioPluginNodes","sinkId","setVolume","gainNode","gain","setTargetAtTime","elementVolume","getVolume","highestVolume","setSinkId","needsNewWebAudioConnection","connectWebAudio","disconnectWebAudio","setAudioContext","setWebAudioPlugins","nodes","sourceNode","lastNode","createGain","destination","resume","receiverStats","concealedSamples","concealmentEvents","silentConcealedSamples","silentConcealmentEvents","totalAudioEnergy","totalSamplesDuration","REACTION_DELAY","RemoteVideoTrack","adaptiveStreamSettings","elementInfos","isObserved","debouncedHandleResize","updateDimensions","isAdaptiveStream","elementInfo","HTMLElementInfo","observeElementInfo","updateVisibility","observe","stopObservingElementInfo","stopElementInfos","stopObserving","detachedElements","stopObservingElement","getDecoderImplementation","decoderImplementation","framesDecoded","framesDropped","framesReceived","packetsReceived","lastVisibilityChange","visibilityChangedAt","backgroundPause","pauseVideoInBackground","isPiPMode","pictureInPicture","isVisible","visible","lastVisible","VisibilityChanged","pixelDensity","pixelDensityValue","currentElementWidth","currentElementHeight","lastDimensions","VideoDimensionsChanged","isPiP","isIntersecting","onVisibilityChanged","onEnterPiP","onLeavePiP","isElementInViewport","pictureInPictureElement","clientWidth","clientHeight","unobserve","top","offsetTop","left","offsetLeft","offsetWidth","offsetHeight","opacity","display","getComputedStyle","offsetParent","pageYOffset","innerHeight","pageXOffset","innerWidth","TrackPublication","metadataMuted","handleMuted","handleUnmuted","trackName","setTrack","isEnabled","isSubscribed","audioTrack","videoTrack","updateInfo","simulcasted","SubscriptionStatus","PermissionStatus","LocalTrackPublication","ti","handleTrackEnded","qualityFromProto","ProtoQuality","Excellent","Good","Poor","Participant","audioLevel","isSpeaking","_connectionQuality","audioTracks","videoTracks","getTrack","pub","getTrackByName","isCameraEnabled","isMicrophoneEnabled","isScreenShareEnabled","participantInfo","setName","setMetadata","setPermissions","md","changed","prevMetadata","ParticipantMetadataChanged","ParticipantNameChanged","permissions","prevPermissions","ParticipantPermissionsChanged","setIsSpeaking","speaking","lastSpokeAt","IsSpeakingChanged","setConnectionQuality","prevQuality","ConnectionQualityChanged","addTrackPublication","publication","TrackMuted","TrackUnmuted","trackPermissionToProto","perms","allowAll","allowedTrackSids","RemoteTrackPublication","currentVideoQuality","handleVisibilityChange","emitTrackUpdate","handleVideoDimensionsChange","videoDimensions","subscribed","setSubscribed","prevStatus","subscriptionStatus","prevPermission","permissionStatus","emitSubscriptionUpdateIfChanged","emitPermissionUpdateIfChanged","Unsubscribed","Desired","Subscribed","Allowed","NotAllowed","isDesired","setEnabled","isManualOperationAllowed","setVideoQuality","setVideoDimensions","setVideoFPS","videoQuality","prevTrack","setAllowed","prevMetadataMuted","previousStatus","currentStatus","SubscriptionStatusChanged","previousPermissionStatus","currentPermissionStatus","SubscriptionPermissionChanged","UpdateSettings","RemoteParticipant","fromParticipantInfo","pi","TrackSubscriptionPermissionChanged","TrackSubscriptionStatusChanged","TrackSubscribed","previousTrack","TrackUnsubscribed","audioPublication","addSubscribedMediaTrack","triesLeft","getTrackPublication","TrackSubscriptionFailed","isVideo","hasMetadata","validTracks","newTracks","existingTrackOfSource","publishedTrack","oldTrack","unpublishTrack","TrackPublished","sendUnpublish","TrackUnpublished","setAudioOutput","promises","mediaTrackToLocalTrack","presets169","presets43","presetsScreenShare","defaultSimulcastPresets169","defaultSimulcastPresets43","computeDefaultScreenShareSimulcastPresets","fromPreset","videoRids","computeVideoEncodings","isScreenShare","videoEncoding","useSimulcast","scalabilityMode","determineAppropriateEncoding","original","presets","sortPresets","screenShareSimulcastLayers","defaultSimulcastLayers","videoSimulcastLayers","midPreset","lowPreset","encodingsFromPresets","computeTrackBackupEncodings","serverRequested","presetsForResolution","preset","aspect","abs","aEnc","bEnc","LocalParticipant","pendingPublishing","Set","pendingPublishPromises","participantTrackPermissions","allParticipantsAllowedToSubscribe","handleReconnecting","reconnectFuture","handleReconnected","updateTrackSubscriptionPermissions","handleDisconnected","allParticipantsAllowed","onTrackUnmuted","onTrackMuted","onTrackUpstreamPaused","onTrackUpstreamResumed","handleSubscribedQualityUpdate","roomOptions","publishAdditionalCodecForTrack","handleLocalTrackUnpublished","unpublished","currentPermissions","query","onchange","setupEngine","lastCameraError","cameraError","lastMicrophoneError","microphoneError","setCameraEnabled","publishOptions","setTrackEnabled","setMicrophoneEnabled","setScreenShareEnabled","localTracks","createTracks","createScreenTracks","publishPromises","localTrack","publishTrack","publishedTracks","MediaDevicesError","screenAudioTrack","enableCameraAndMicrophone","audioCaptureDefaults","videoCaptureDefaults","isAudio","trackConstraints","conOrBool","videoConstraints","controller","selfBrowserSurface","surfaceSwitching","systemAudio","screenVideo","screenAudio","existingPublication","isStereo","channelCount","publishPromise","publish","simEncodings","simOpts","primaryCodecSupported","backupCodecSupported","LocalTrackPublished","stopOnUnpublish","getPublicationForTrack","negotiationNeeded","trackSender","clear","LocalTrackUnpublished","unpublishTracks","results","republishAllTracks","localPubs","publishData","setTrackSubscriptionPermissions","mutedOnServer","publishedTracksInfo","infos","dataChannelsInfo","getInfo","ConnectionState","RoomState","_this","activeSpeakers","audioEnabled","unlockDisconnect","disconnectLock","connectFuture","setAndEmitConnectionState","Connecting","urlProvider","connectFn","abort","AbortController","attemptConnection","nextUrl","clearConnectionFutures","connectSignal","applyJoinResponse","localParticipant","handleParticipantUpdates","handleRoomUpdate","recreateEngine","maybeCreateEngine","acquireAudioContext","connOptions","setupLocalParticipantEvents","SignalConnected","resultingError","onPageLeave","handleDeviceChange","stopTracks","handleRestarting","handleParticipantDisconnected","handleSignalRestarted","cachedParticipantSids","_unused","Reconnected","ParticipantConnected","participantInfos","identityToSid","remoteParticipant","isNewParticipant","getOrCreateParticipant","handleActiveSpeakersUpdate","seenSids","emitWhenConnected","ActiveSpeakersChanged","handleSpeakersChanged","speakerUpdates","lastSpeakers","handleStreamStateUpdate","TrackStreamStateChanged","handleSubscriptionPermissionUpdate","handleDataPacket","userPacket","DataReceived","handleAudioPlaybackStarted","canPlaybackAudio","AudioPlaybackStatusChanged","handleAudioPlaybackFailed","MediaDevicesChanged","oldRoom","roomInfo","RoomMetadataChanged","RecordingStatusChanged","handleConnectionQualityUpdate","onLocalParticipantMetadataChanged","onLocalParticipantNameChanged","onLocalTrackMuted","onLocalTrackUnmuted","LocalAudioSilenceDetected","onLocalConnectionQualityChanged","onMediaDevicesError","onLocalParticipantPermissionsChanged","isRecording","onTrackAdded","updateSubscriptions","diffParticipants","getLocalDevices","prepareConnection","getParticipantByIdentity","simulateScenario","postAction","startAudio","elements","getActiveAudioOutputDevice","switchActiveDevice","deviceConstraint","prevDeviceId","reconnectedHandler","participantId","shouldStopTracks","ParticipantDisconnected","newContextIsRunning","createParticipant","trackPublication","localDescription","previousAnswer","previousOffer","ConnectionStateChanged","simulateParticipants","useRealTracks","participantOptions","aspectRatios","camPub","audioPub","dummyVideo","_len2","_key2","createLocalTracks","mediaPromise","createLocalVideoTrack","createLocalAudioTrack","createLocalScreenTracks","CheckStatus","Checker","IDLE","logs","errorsAsWarnings","onComplete","setStatus","RUNNING","appendMessage","perform","appendWarning","appendError","SKIPPED","isSuccess","SUCCESS","FAILED","PublishAudioCheck","numPackets","mediaType","PublishVideoCheck","ReconnectCheck","reconnectingTriggered","reconnected","reconnectResolver","TURNCheck","joinRes","hasTLS","hasTURN","hasSTUN","WebRTCCheck","WebSocketCheck","ConnectionCheck","checkResults","getNextCheckId","nextId","updateCheck","checkId","every","getResults","createAndRunCheck","check","handleUpdate","checkWebsocket","checkWebRTC","checkTURN","checkReconnect","checkPublishAudio","checkPublishVideo"],"mappings":"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AAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,E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","x_google_ignoreList":[0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,24,25,26,27,28,29,30,31,32,33,34,35,36,37,41,47,48,49,50,51]}